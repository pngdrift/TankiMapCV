var aa=', ',ca='<![CDATA[',da='CollisionGeometryUtils',ea='Edge',fa='Error #1034: Type Coercion failed: cannot convert ',ha='Error #1126: Cannot change the length of a fixed Vector',ia='Error #2006: The supplied index is out of bounds.',ja='Error #2007: Parameter bytes must be non-null.',ka='KdNodesVisualization',la='Namespace',ma='Number',na='QName',oa='SimpleCameraController',pa='TankiMapCV',qa='XMLList',ra='_id',sa='alternativa.math.Matrix3',ta='alternativa.math.Matrix4',ua='alternativa.math.Quaternion',
va='alternativa.math.Vector3',wa='alternativa.physics.Body',xa='alternativa.physics.BodyList',za='alternativa.physics.BodyListItem',Aa='alternativa.physics.BodyMaterial',Ba='alternativa.physics.BodyState',Da='alternativa.physics.CollisionPrimitiveList',Ea='alternativa.physics.CollisionPrimitiveListItem',Fa='alternativa.physics.Contact',Ha='alternativa.physics.ContactPoint',Ia='alternativa.physics.PhysicsScene',Ja='alternativa.physics.collision.CollisionKdNode',Ka='alternativa.physics.collision.CollisionKdTree',
La='alternativa.physics.collision.CollisionKdTree2D',Ma='alternativa.physics.collision.CollisionPrimitive',Na='alternativa.physics.collision.IBodyCollisionPredicate',Oa='alternativa.physics.collision.ICollider',Pa='alternativa.physics.collision.ICollisionDetector',Qa='alternativa.physics.collision.ICollisionPredicate',Ra='alternativa.physics.collision.IRayCollisionPredicate',Sa='alternativa.physics.collision.KdTreeCollisionDetector',Ta='alternativa.physics.collision.KdTreeCollisionDetector.MinMax',
Ua='alternativa.physics.collision.colliders.BoxBoxCollider',Va='alternativa.physics.collision.colliders.BoxBoxCollider.CollisionPointTmp',Wa='alternativa.physics.collision.colliders.BoxCollider',Xa='alternativa.physics.collision.colliders.BoxRectCollider',Ya='alternativa.physics.collision.colliders.BoxSphereCollider',Za='alternativa.physics.collision.colliders.BoxTriangleCollider',$a='alternativa.physics.collision.colliders.SphereSphereCollider',ab='alternativa.physics.collision.primitives.CollisionBox',
bb='alternativa.physics.collision.primitives.CollisionRect',cb='alternativa.physics.collision.primitives.CollisionSphere',db='alternativa.physics.collision.primitives.CollisionTriangle',eb='alternativa.physics.collision.types.BoundBox',fb='alternativa.physics.collision.types.RayHit',gb='alternativa.physics.constraints.Constraint',hb='application/xml',ib='applicationComplete',jb='array',kb='attribute',lb='attributeAdded',mb='attributeChanged',nb='attributeRemoved',ob='auto',pb='backgroundImage',qb=
'border-box',rb='browseMapButton',sb='cameraPosLabel',tb='change',ub='childrenAdded',f='class',vb='click',wb='collision-box',xb='collision-plane',yb='collision-triangle',zb='deferredSizeHandler',Ab='element',Bb='explicitHeightChanged',Cb='explicitWidthChanged',Db='function',Eb='getBoundingClientRect',Fb='grayTextures',Gb='grayTexturesCheckbox',Hb='handleInitComplete',Ib='handleSizeChange',Jb='heightChanged',Kb='id',Lb='inherit',Mb='initComplete',Nb='inline-block',Ob='int',l='interface',Pb='invalid xml name',
Qb='keydown',Rb='localStorage',Sb='maxIndicesLabel',Tb='modelChanged',Ub='mousedown',Vb='mousemove',Wb='nodeAdded',Xb='nodeRemoved',Yb='none',Zb='number',$b='object',ac='org.apache.royale.core.Application',bc='org.apache.royale.core.ApplicationBase',cc='org.apache.royale.core.Bead',dc='org.apache.royale.core.BeadViewBase',ec='org.apache.royale.core.DispatcherBead',fc='org.apache.royale.core.ElementWrapper',gc='org.apache.royale.core.GroupBase',hc='org.apache.royale.core.HTMLElementWrapper',ic='org.apache.royale.core.IAlertModel',
jc='org.apache.royale.core.IApplicationView',kc='org.apache.royale.core.IBead',lc='org.apache.royale.core.IBeadController',mc='org.apache.royale.core.IBeadLayout',nc='org.apache.royale.core.IBeadModel',oc='org.apache.royale.core.IBeadView',pc='org.apache.royale.core.IBorderPaddingMarginValuesImpl',qc='org.apache.royale.core.ICSSImpl',rc='org.apache.royale.core.IChild',sc='org.apache.royale.core.IContainer',tc='org.apache.royale.core.IContentViewHost',uc='org.apache.royale.core.IDocument',vc='org.apache.royale.core.IFlexInfo',
wc='org.apache.royale.core.IId',xc='org.apache.royale.core.IInitialViewApplication',yc='org.apache.royale.core.ILayoutChild',zc='org.apache.royale.core.ILayoutHost',Ac='org.apache.royale.core.ILayoutParent',Bc='org.apache.royale.core.ILayoutView',Cc='org.apache.royale.core.IMXMLDocument',Dc='org.apache.royale.core.IMeasurementBead',Ec='org.apache.royale.core.IParent',Fc='org.apache.royale.core.IParentIUIBase',Gc='org.apache.royale.core.IPopUp',Hc='org.apache.royale.core.IPopUpHost',Ic='org.apache.royale.core.IPopUpHostParent',
Jc='org.apache.royale.core.IRenderedObject',Kc='org.apache.royale.core.IRoyaleElement',Lc='org.apache.royale.core.IState',Mc='org.apache.royale.core.IStatesImpl',Nc='org.apache.royale.core.IStatesObject',Oc='org.apache.royale.core.IStrand',Pc='org.apache.royale.core.IStrandWithModel',Qc='org.apache.royale.core.IStrandWithModelView',Rc='org.apache.royale.core.IStyleObject',Sc='org.apache.royale.core.IStyleableObject',Tc='org.apache.royale.core.IUIBase',Uc='org.apache.royale.core.IValuesImpl',Vc='org.apache.royale.core.LayoutBase',
Wc='org.apache.royale.core.SimpleCSSValuesImpl',Xc='org.apache.royale.core.Strand',Yc='org.apache.royale.core.StrandWithModel',Zc='org.apache.royale.core.UIBase',$c='org.apache.royale.core.ValuesManager',ad='org.apache.royale.core.View',bd='org.apache.royale.core.ViewBase',dd='org.apache.royale.core.WrappedHTMLElement',ed='org.apache.royale.core.layout.EdgeData',fd='org.apache.royale.core.layout.LayoutData',gd='org.apache.royale.core.layout.MarginData',hd='org.apache.royale.core.styles.BorderStyles',
id='org.apache.royale.events.BrowserEvent',jd='org.apache.royale.events.ElementEvents',kd='org.apache.royale.events.Event',ld='org.apache.royale.events.EventDispatcher',md='org.apache.royale.events.IBrowserEvent',nd='org.apache.royale.events.IEventDispatcher',od='org.apache.royale.events.IRoyaleEvent',pd='org.apache.royale.events.KeyboardEvent',qd='org.apache.royale.events.MouseEvent',rd='org.apache.royale.events.ValueChangeEvent',sd='org.apache.royale.events.ValueEvent',td='org.apache.royale.events.utils.EventUtils',
ud='org.apache.royale.events.utils.KeyConverter',vd='org.apache.royale.events.utils.KeyboardEventConverter',wd='org.apache.royale.events.utils.MouseEventConverter',xd='org.apache.royale.file.FileProxy',yd='org.apache.royale.file.IFileModel',zd='org.apache.royale.file.beads.FileBrowser',Ad='org.apache.royale.file.beads.FileBrowserWithFilter',Bd='org.apache.royale.file.beads.FileLoader',Cd='org.apache.royale.file.beads.FileModel',Dd='org.apache.royale.geom.Point',Ed='org.apache.royale.html.Button',
Fd='org.apache.royale.html.ButtonBase',Gd='org.apache.royale.html.CheckBox',Hd='org.apache.royale.html.Group',Id='org.apache.royale.html.HGroup',Jd='org.apache.royale.html.Label',Kd='org.apache.royale.html.SimpleAlert',Ld='org.apache.royale.html.TextButton',Md='org.apache.royale.html.VGroup',Nd='org.apache.royale.html.beads.GroupView',Od='org.apache.royale.html.beads.layouts.BasicLayout',Pd='org.apache.royale.html.beads.layouts.HorizontalLayout',Qd='org.apache.royale.html.beads.layouts.VerticalLayout',
Rd='org.apache.royale.html.supportClasses.CheckBoxIcon',Sd='org.apache.royale.storage.IWebStorage',Td='org.apache.royale.storage.LocalStorage',Ud='org.apache.royale.storage.providers.LocalStorageProvider',Vd='org.apache.royale.utils.BinaryData',Wd='org.apache.royale.utils.CSSUtils',Xd='org.apache.royale.utils.Endian',Yd='org.apache.royale.utils.IBinaryDataInput',Zd='org.apache.royale.utils.IBinaryDataOutput',$d='org.apache.royale.utils.MXMLDataInterpreter',ae='org.apache.royale.utils.PointUtils',
be='org.apache.royale.utils.StringPadder',ce='org.apache.royale.utils.Timer',de='org_apache_royale_file_beads_FileBrowser_blurHandler',ee='org_apache_royale_file_beads_FileBrowser_focusHandler',fe='org_apache_royale_file_beads_FileBrowser_keyHandler',ge='org_apache_royale_file_beads_FileBrowser_maybeCancel',he='org_apache_royale_file_beads_FileBrowser_mouseHandler',ie='percentHeightChanged',je='percentWidthChanged',ke='processing-instruction',le='px',me='resizeHandler',ne='selectedNodeIndicesLabel',
oe='showKdNodes',pe='showKdNodesCheckbox',qe='sizeChanged',re='solid',se='string',te='text',ue='textChange',ve='viewChanged',we='widthChanged';function t(){return function(){}}function u(a){return function(b){this[a]=b}}function v(a){return function(){return this[a]}}function xe(a){return function(){return a}}var w;
function ye(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+' must not be null or undefined');if(b instanceof RegExp)throw new TypeError('First argument to String.prototype.'+c+' must not be a regular expression');return a+''}var ze=typeof Object.defineProperties==Db?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},Ae='undefined'!=typeof window&&window===this?this:'undefined'!=typeof global&&null!=global?global:this;
function Be(a,b){if(b){var c=Ae;a=a.split('.');for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ze(c,a,{configurable:!0,writable:!0,value:b})}}function Ce(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function De(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
Be('WeakMap',function(a){function b(a){this.Lb=(h+=Math.random()+1).toString();if(a){var b='undefined'!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];for(a=b?b.call(a):{next:Ce(a)};!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}}function c(){}function d(a){De(a,g)||ze(a,g,{value:new c})}function e(a){var b=Object[a];b&&(Object[a]=function(a){if(a instanceof c)return a;d(a);return b(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,
3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(p){return!1}}())return a;var g='$jscomp_hidden_'+Math.random();e('freeze');e('preventExtensions');e('seal');var h=0;b.prototype.set=function(a,b){d(a);if(!De(a,g))throw Error('WeakMap key fail: '+a);a[g][this.Lb]=b;return this};b.prototype.get=function(a){return De(a,g)?a[g][this.Lb]:void 0};b.prototype.has=function(a){return De(a,g)&&De(a[g],this.Lb)};b.prototype.delete=function(a){return De(a,g)&&
De(a[g],this.Lb)?delete a[g][this.Lb]:!1};return b});Be('String.prototype.startsWith',function(a){return a?a:function(a,c){var b=ye(this,a,'startsWith');a+='';var e=b.length,g=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var h=0;h<g&&c<e;)if(b[c++]!=a[h++])return!1;return h>=g}});var Ee=typeof Object.assign==Db?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)De(d,e)&&(a[e]=d[e])}return a};Be('Object.assign',function(a){return a||Ee});
Be('String.prototype.codePointAt',function(a){return a?a:function(a){var b=ye(this,null,'codePointAt'),d=b.length;a=Number(a)||0;if(0<=a&&a<d){a|=0;var e=b.charCodeAt(a);if(55296>e||56319<e||a+1===d)return e;a=b.charCodeAt(a+1);return 56320>a||57343<a?e:1024*(e-55296)+a+9216}}});Be('Array.prototype.fill',function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}});
var Fe=this;function Ge(a){return typeof a==se}function He(){}
function Ie(a){var b=typeof a;if(b==$b)if(a){if(a instanceof Array)return jb;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if('[object Window]'==c)return $b;if('[object Array]'==c||typeof a.length==Zb&&'undefined'!=typeof a.splice&&'undefined'!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable('splice'))return jb;if('[object Function]'==c||'undefined'!=typeof a.call&&'undefined'!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable('call'))return Db}else return'null';
else if(b==Db&&'undefined'==typeof a.call)return $b;return b}function Je(a){var b=typeof a;return b==$b&&null!=a||b==Db}var Ke='closure_uid_'+(1E9*Math.random()>>>0),Le=0;function Me(a,b,c){return a.call.apply(a.bind,arguments)}
function Ne(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function Oe(a,b,c){Oe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf('native code')?Me:Ne;return Oe.apply(null,arguments)}
function x(a,b){a=a.split('.');var c=Fe;a[0]in c||'undefined'==typeof c.execScript||c.execScript('var '+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function z(a,b){function c(){}c.prototype=b.prototype;a.M=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Hh=function(a,c,g){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var Pe=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Qe(a,b){return-1!=a.indexOf(b)}function Re(a,b){return a<b?-1:a>b?1:0};function Se(a){Se[' '](a);return a}Se[' ']=He;function Te(a,b){var c=Ue;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ve;a:{var We=Fe.navigator;if(We){var Xe=We.userAgent;if(Xe){Ve=Xe;break a}}Ve=''}function Ye(a){return Qe(Ve,a)};function Ze(){return Ye('iPhone')&&!Ye('iPod')&&!Ye('iPad')}function $e(){Ze()||Ye('iPad')||Ye('iPod')};var af=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(Ge(a))return Ge(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function bf(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}var cf='constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf'.split(' ');function df(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<cf.length;g++)c=cf[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function ef(){return(Ye('Chrome')||Ye('CriOS'))&&!Ye(ea)};var ff=Ye('Opera'),gf=Ye('Trident')||Ye('MSIE'),hf=Ye(ea),jf=Ye('Gecko')&&!(Qe(Ve.toLowerCase(),'webkit')&&!Ye(ea))&&!(Ye('Trident')||Ye('MSIE'))&&!Ye(ea),kf=Qe(Ve.toLowerCase(),'webkit')&&!Ye(ea);kf&&Ye('Mobile');var lf=Ye('Macintosh');Ye('Windows');Ye('Linux')||Ye('CrOS');var mf=Fe.navigator||null;mf&&Qe(mf.appVersion||'','X11');Ye('Android');Ze();Ye('iPad');Ye('iPod');$e();Qe(Ve.toLowerCase(),'kaios');function nf(){var a=Fe.document;return a?a.documentMode:void 0}var of;
a:{var pf='',qf=function(){var a=Ve;if(jf)return/rv:([^\);]+)(\)|;)/.exec(a);if(hf)return/Edge\/([\d\.]+)/.exec(a);if(gf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(kf)return/WebKit\/(\S+)/.exec(a);if(ff)return/(?:Version)[ \/]?(\S+)/.exec(a)}();qf&&(pf=qf?qf[1]:'');if(gf){var rf=nf();if(null!=rf&&rf>parseFloat(pf)){of=String(rf);break a}}of=pf}var Ue={};
function sf(a){return Te(a,function(){for(var b=0,c=Pe(String(of)).split('.'),d=Pe(String(a)).split('.'),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||'',k=d[g]||'';do{h=/(\d*)(\D*)(.*)/.exec(h)||['','','',''];k=/(\d*)(\D*)(.*)/.exec(k)||['','','',''];if(0==h[0].length&&0==k[0].length)break;b=Re(0==h[1].length?0:parseInt(h[1],10),0==k[1].length?0:parseInt(k[1],10))||Re(0==h[2].length,0==k[2].length)||Re(h[2],k[2]);h=h[3];k=k[3]}while(0==b)}return 0<=b})}var tf;var uf=Fe.document;
tf=uf&&gf?nf()||('CSS1Compat'==uf.compatMode?parseInt(of,10):5):void 0;Ye('Firefox');Ze()||Ye('iPod');Ye('iPad');!Ye('Android')||ef()||Ye('Firefox')||Ye('Opera')||Ye('Silk');ef();!Ye('Safari')||ef()||Ye('Coast')||Ye('Opera')||Ye(ea)||Ye('Silk')||Ye('Android')||$e();function vf(a,b){a=Fe[a];return a&&a.prototype?(b=Object.getOwnPropertyDescriptor(a.prototype,b))&&b.get||null:null}vf('Element','attributes')||vf('Node','attributes');vf('Element','innerHTML')||vf('HTMLElement','innerHTML');vf('Node','nodeName');vf('Node','nodeType');vf('Node','parentNode');vf('Node','childNodes');vf('HTMLElement','style')||vf('Element','style');vf('HTMLStyleElement','sheet');'undefined'!=typeof WeakMap&&WeakMap.toString().indexOf('[native code]');!jf&&!gf||gf&&9<=Number(tf)||jf&&sf('1.9.1');gf&&sf('9');var wf='closure_listenable_'+(1E6*Math.random()|0);function xf(a){return!(!a||!a[wf])}var yf=0;function zf(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.Kb=e;this.key=++yf;this.ib=this.xb=!1}function Af(a){a.ib=!0;a.listener=null;a.proxy=null;a.src=null;a.Kb=null};function Bf(a){this.src=a;this.pa={};this.Rb=0}w=Bf.prototype;w.add=function(a,b,c,d,e){var g=a.toString();a=this.pa[g];a||(a=this.pa[g]=[],this.Rb++);var h=Cf(a,b,d,e);-1<h?(b=a[h],c||(b.xb=!1)):(b=new zf(b,this.src,g,!!d,e),b.xb=c,a.push(b));return b};w.remove=function(a,b,c,d){a=a.toString();if(!(a in this.pa))return!1;var e=this.pa[a];b=Cf(e,b,c,d);return-1<b?(Af(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.pa[a],this.Rb--),!0):!1};
function Df(a,b){var c=b.type;if(c in a.pa){var d=a.pa[c],e=af(d,b),g;(g=0<=e)&&Array.prototype.splice.call(d,e,1);g&&(Af(b),0==a.pa[c].length&&(delete a.pa[c],a.Rb--))}}w.tc=function(a,b){a=this.pa[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};w.sc=function(a,b,c,d){a=this.pa[a.toString()];var e=-1;a&&(e=Cf(a,b,c,d));return-1<e?a[e]:null};
w.$b=function(a,b){var c=void 0!==a,d=c?a.toString():'',e=void 0!==b;return bf(this.pa,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].capture!=b))return!0;return!1})};function Cf(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.ib&&g.listener==b&&g.capture==!!c&&g.Kb==d)return e}return-1};function Ef(){0!=Ff&&(Gf[this[Ke]||(this[Ke]=++Le)]=this);this.Zb=this.Zb;this.qb=this.qb}var Ff=0,Gf={};Ef.prototype.Zb=!1;Ef.prototype.dispose=function(){if(!this.Zb&&(this.Zb=!0,this.rc(),0!=Ff)){var a=this[Ke]||(this[Ke]=++Le);if(0!=Ff&&this.qb&&0<this.qb.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gf[a]}};Ef.prototype.rc=function(){if(this.qb)for(;this.qb.length;)this.qb.shift()()};function Hf(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.hb=!1;this.kd=!0}Hf.prototype.stopPropagation=function(){this.hb=!0};Hf.prototype.preventDefault=function(){this.defaultPrevented=!0;this.kd=!1};var If=!gf||9<=Number(tf),Jf=!gf||9<=Number(tf),Kf=gf&&!sf('9');!kf||sf('528');jf&&sf('1.9b')||gf&&sf('8')||ff&&sf('9.5')||kf&&sf('528');jf&&!sf('8')||gf&&sf('9');var Lf=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},'passive',{get:function(){a=!0}});try{Fe.addEventListener('test',He,b),Fe.removeEventListener('test',He,b)}catch(c){}return a}();function Mf(a,b){Hf.call(this,a?a.type:'');this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key='';this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.platformModifierKey=!1;this.pointerId=0;this.pointerType='';this.Va=null;a&&this.init(a,b)}z(Mf,Hf);var Nf=[1,4,2],Of={2:'touch',3:'pen',4:'mouse'};w=Mf.prototype;
w.init=function(a,b){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(jf){a:{try{Se(b.nodeName);var e=!0;break a}catch(g){}e=!1}e||(b=null)}}else'mouseover'==c?b=a.fromElement:'mouseout'==c&&(b=a.toElement);this.relatedTarget=b;null===d?(this.offsetX=kf||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=kf||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=
void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||'';this.charCode=a.charCode||('keypress'==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.platformModifierKey=lf?a.metaKey:a.ctrlKey;
this.pointerId=a.pointerId||0;this.pointerType=Ge(a.pointerType)?a.pointerType:Of[a.pointerType]||'';this.state=a.state;this.Va=a;a.defaultPrevented&&this.preventDefault()};w.isButton=function(a){return If?this.Va.button==a:this.type==vb?0==a:!!(this.Va.button&Nf[a])};w.isMouseActionButton=function(){return this.isButton(0)&&!(kf&&lf&&this.ctrlKey)};w.stopPropagation=function(){Mf.M.stopPropagation.call(this);this.Va.stopPropagation?this.Va.stopPropagation():this.Va.cancelBubble=!0};
w.preventDefault=function(){Mf.M.preventDefault.call(this);var a=this.Va;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Kf)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};w.getBrowserEvent=v('Va');var Pf='closure_lm_'+(1E6*Math.random()|0),Qf={},Rf=0;function Sf(a,b,c,d,e){if(d&&d.once)Tf(a,b,c,d,e);else if(Ie(b)==jb)for(var g=0;g<b.length;g++)Sf(a,b[g],c,d,e);else c=Uf(c),xf(a)?a.za.add(String(b),c,!1,Je(d)?!!d.capture:!!d,e):Vf(a,b,c,!1,d,e)}
function Vf(a,b,c,d,e,g){if(!b)throw Error('Invalid event type');var h=Je(e)?!!e.capture:!!e,k=Wf(a);k||(a[Pf]=k=new Bf(a));c=k.add(b,c,d,h,g);if(!c.proxy){d=Xf();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Lf||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Yf(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error('addEventListener and attachEvent are unavailable.');Rf++}}
function Xf(){var a=Zf,b=Jf?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Tf(a,b,c,d,e){if(Ie(b)==jb)for(var g=0;g<b.length;g++)Tf(a,b[g],c,d,e);else c=Uf(c),xf(a)?a.za.add(String(b),c,!0,Je(d)?!!d.capture:!!d,e):Vf(a,b,c,!0,d,e)}function $f(a,b,c,d,e){if(Ie(b)==jb)for(var g=0;g<b.length;g++)$f(a,b[g],c,d,e);else d=Je(d)?!!d.capture:!!d,c=Uf(c),xf(a)?a.za.remove(String(b),c,d,e):a&&(a=Wf(a))&&(b=a.sc(b,c,d,e))&&ag(b)}
function ag(a){if(typeof a!=Zb&&a&&!a.ib){var b=a.src;if(xf(b))Df(b.za,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Yf(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Rf--;(c=Wf(b))?(Df(c,a),0==c.Rb&&(c.src=null,b[Pf]=null)):Af(a)}}}function bg(a,b){if(xf(a))return a.$b(b,void 0);a=Wf(a);return!!a&&a.$b(b,void 0)}function Yf(a){return a in Qf?Qf[a]:Qf[a]='on'+a}
function cg(a,b,c,d){var e=!0;if(a=Wf(a))if(b=a.pa[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var g=b[a];g&&g.capture==c&&!g.ib&&(g=dg(g,d),e=e&&!1!==g)}return e}function dg(a,b){var c=a.listener,d=a.Kb||a.src;a.xb&&ag(a);return c.call(d,b)}
function Zf(a,b){if(a.ib)return!0;if(!Jf){if(!b)a:{b=['window','event'];for(var c=Fe,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Mf(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.hb&&0<=e;e--){b.currentTarget=d[e];var g=cg(d[e],a,!0,b);c=c&&g}for(e=0;!b.hb&&e<d.length;e++)b.currentTarget=
d[e],g=cg(d[e],a,!1,b),c=c&&g}return c}return dg(a,new Mf(b,this))}function Wf(a){a=a[Pf];return a instanceof Bf?a:null}var eg='__closure_events_fn_'+(1E9*Math.random()>>>0);function Uf(a){if(Ie(a)==Db)return a;a[eg]||(a[eg]=function(b){return a.handleEvent(b)});return a[eg]};function fg(){Ef.call(this);this.za=new Bf(this);this.Me=this;this.Ge=null}z(fg,Ef);fg.prototype[wf]=!0;w=fg.prototype;w.getParentEventTarget=v('Ge');w.addEventListener=function(a,b,c,d){Sf(this,a,b,c,d)};w.removeEventListener=function(a,b,c,d){$f(this,a,b,c,d)};w.dispatchEvent=function(a){var b,c=this.getParentEventTarget();if(c)for(b=[];c;c=c.getParentEventTarget())b.push(c);return gg(this.Me,a,b)};
w.rc=function(){fg.M.rc.call(this);if(this.za){var a=this.za,b=0,c;for(c in a.pa){for(var d=a.pa[c],e=0;e<d.length;e++)++b,Af(d[e]);delete a.pa[c];a.Rb--}}this.Ge=null};w.fireListeners=function(a,b,c){a=this.za.pa[String(a)];if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length;++e){var g=a[e];if(g&&!g.ib&&g.capture==b){var h=g.listener,k=g.Kb||g.src;g.xb&&Df(this.za,g);d=!1!==h.call(k,c)&&d}}return d&&0!=c.kd};w.tc=function(a,b){return this.za.tc(String(a),b)};
w.sc=function(a,b,c,d){return this.za.sc(String(a),b,c,d)};w.$b=function(a,b){return this.za.$b(void 0!==a?String(a):void 0,b)};
function gg(a,b,c){var d=b.type||b;if(Ge(b))b=new Hf(b,a);else if(b instanceof Hf)b.target=b.target||a;else{var e=b;b=new Hf(d,a);df(b,e)}e=!0;if(c)for(var g=c.length-1;!b.hb&&0<=g;g--){var h=b.currentTarget=c[g];e=h.fireListeners(d,!0,b)&&e}b.hb||(h=b.currentTarget=a,e=h.fireListeners(d,!0,b)&&e,b.hb||(e=h.fireListeners(d,!1,b)&&e));if(c)for(g=0;!b.hb&&g<c.length;g++)h=b.currentTarget=c[g],e=h.fireListeners(d,!1,b)&&e;return e};var hg,ig=null,jg=!1;function A(a,b,c){var d=B(a,b);if(!d&&c){if(b.constructor===hg)return b.coerce(a);if(-1!=[Boolean,Number,String].indexOf(b))return b(a);if(Object===b)return b(a).valueOf();if(null==a)return null;throw new TypeError(fa+(a.m?a.m.names[0].o:String(a))+' to '+(''+(b.prototype&&b.prototype.m?b.prototype.m.names[0].o:String(b))));}return d?a:null}function kg(a){return a>>0}function C(a){return null==a?null:''+a}
function B(a,b){if(null==a||null==b)return!1;if(b===Array)return Array.isArray(a)&&!('_s'in a);if(a instanceof b||b===Object)return!0;var c=typeof a;if(c===se)return b===String;if(c===Zb&&b===Number)return!0;if('boolean'===c)return b===Boolean;if(b.constructor===hg)return!!b.checkIs(a);if(void 0===a.m)return!1;jg||(typeof WeakMap==Db&&(ig=new WeakMap),jg=!0);if(ig&&ig.has(a.m)&&(c=ig.get(a.m))&&c.has(b))return!!c.get(b);if(a.m&&a.m.s&&lg(a,b))return ig&&(ig.has(a.m)||ig.set(a.m,new WeakMap),c=ig.get(a.m),
c.set(b,!0)),!0;if(c=a.constructor.M)for(;c&&c.m;){if(c.m.s&&lg(c,b))return ig&&(ig.has(a.m)||ig.set(a.m,new WeakMap),c=ig.get(a.m),c.set(b,!0)),!0;c=c.constructor.M}ig&&(ig.has(a.m)||ig.set(a.m,new WeakMap),c=ig.get(a.m),c.set(b,!1));return!1}function lg(a,b){var c=a.m.s;for(a=c.length-1>>0;-1<a;a--){var d=c[a];if(d===b||d.prototype.m&&d.prototype.m.s&&lg(d.prototype,b))return!0}return!1}function mg(a){return a>>>0}
function D(a,b,c){if(b.hasOwnProperty(c))return b[c];a=Oe(a,b);Object.defineProperty(b,c,{value:a});return a}
function ng(a,b){if(!hg){var c;hg=c=function(a,b,d,e,g){function h(){var a=Array.prototype.slice.call(arguments);a.push(this);this.type=h.type;this.value=h.construct.apply(this,a);return h.noWrap?this.value:this}h.type=a;h.toString=function(){return a};h.construct=b;h.checkIs=d;h.coerce=e;h.noWrap=!!g;b=h.prototype;b.valueOf=v('value');b.constructor=h;h.constructor=c;return h};Object.defineProperties(hg,{_types:{value:{}}})}var d=hg._types;b&&(d[a]=new hg(a,b.construct,b.checkIs,b.coerce,b.noWrap));
b=d[a];if(!b)switch(a){case Ob:b=d[Ob]=new hg(Ob,kg,function(a){return a>>0===a.valueOf()},kg);break;case 'uint':b=d.uint=new hg('uint',mg,function(a){return a>>>0===a.valueOf()},mg);break;case 'Class':var e=/^name$|^name,|,name$|,name(?=,)/,g=Object.getOwnPropertyNames(t()).join().replace(e,''),h=function(a){return!(typeof a!=Db||!a.prototype||a.prototype.constructor!=a||!a.prototype.m&&a.constructor!=hg&&a!=Boolean&&Object.getOwnPropertyNames(a).join().replace(e,'')==g)};b=d.Class=new hg('Class',
function(){throw new TypeError('Error #1115: Class is not a constructor.');},h,function(a){if(null!=a&&!h(a))throw new TypeError('Error #1034: Type Coercion failed: cannot convert "'+C(a)+'" to Class.');return a?a:null});break;default:throw new TypeError('unknown synthetic type:'+a);}return b}
function og(a){var b='Vector';null!==a&&(b+='.<'+a+'>');if(!hg||!hg._types[b]){var c=ng(b,{construct:function(c,d,e){var g=arguments,h=g.length;e=g[--h];d=!(2!=h||!g[--h]);c=(1==h?g[0]:0)>>0;e.type=b;e.fL=d?c:-1;return pg([],c,a,d,e)},checkIs:function(a){return qg(a,b)},coerce:function(c){if(c&&Array.isArray(c))return c=A(c,Array),qg(c,b)?c:pg(c.slice(),c.length>>0,a,!1,null,!1);throw new TypeError(fa+c+' to '+b);},noWrap:!0});rg=hg;sg(a,c,!1);tg(a,c);c.prototype=Object.create(c.prototype);var d=
ug(),e={length:{get:d.Wc,set:d.Fd},toString:{value:d.toString},map:{value:d.map},splice:{value:d.splice},slice:{value:d.slice},concat:{value:d.concat},filter:{value:d.filter},insertAt:{value:d.Gd},removeAt:{value:d.Hd},constructor:{value:c}};e._ci={value:d._ci};e.eT={value:a};e.type={value:b};e.cE={value:c.cE,configurable:!0};e.dV={value:c.dV};Object.defineProperties(c.prototype,e)}return hg._types[b]}function vg(){}var rg,wg,xg,yg,zg;
function Ag(a,b){return'Error #1125: The index '+a+' is out of range '+b}function qg(a,b){var c=!!(a&&'_s'in a),d=c&&a._s instanceof rg._types[b];!d&&c&&'Vector.<*>'==b&&(a=C(a._s.eT),d=a!=Ob&&'uint'!=a&&a!=ma);return d}function tg(a,b){if(void 0===b.dV){var c={'int':0,uint:0,Number:0,String:'',Boolean:!1},d=null;a in c&&(d=c[a]);b.dV=d}}
function sg(a,b,c){function d(a){return void 0===a?null:a}if(b.cE)return b.cE;var e={'int':kg,uint:mg,Number:Number,String:C,Boolean:Boolean,'*':d,Object:d};e='Class'==a?ng('Class',null).coerce:e[a];if(null==e)if(0==a.indexOf('Vector.<'))e=function(b){if(null===b||og(a.slice(8,-1)).checkIs(b))return b;throw new TypeError(fa+b+' to '+a);};else{e=!1;for(var g=a.split('.'),h=g.length>>0,k=Fe,n=0;n<h;n++)if(k=k&&k[g[n]],!k){if(c)throw new TypeError('missing dependency '+a);e=!0;break}e=e?null:function(a){return A(a,
k,!0)}}b.cE=e;c&&Object.defineProperty(b.prototype,'cE',{value:e});return e}function Bg(a,b,c){var d=c.cE;null==d&&(d=sg(C(c.eT),c.constructor,!0));for(var e,g=0;g<b;g++){var h=a[g];void 0===h&&(h=null);try{a[g]=d(h)}catch(k){Cg(a,c.dV,g>>>0);e=k;break}}return e}
function pg(a,b,c,d,e,g){g='undefined'!==typeof g?g:!0;b>>>=0;if(null==c)throw new TypeError('Error #1007: Instantiation attempted on a non-constructor.');Dg(a,c,d,e);e||(e=a._s);if(b)if(g)a.length=b,Cg(a,e.dV,0);else if(b=Bg(a,b>>>0,e))throw new b.constructor(b.message);return a}
function Dg(a,b,c,d){b=d?d.constructor:rg._types['Vector.<'+b+'>'];d||(d=(new b)._s);d.value=a;b=Object.assign||function(a,b){for(var c in b)a[c]=b[c];return a};var e={fixed:{get:function(){return-1<d.fL},set:function(b){-1<d.fL!=b&&(d.fL=b?a.length:-1,Object.defineProperties(a,Eg(b)))}},splice:{value:d.splice},slice:{value:d.slice},concat:{value:d.concat},map:{value:d.map},filter:{value:d.filter},toString:{value:d.toString},constructor:{value:d.constructor}};e._ci={value:d._ci};e._s={value:d};b(e,
Eg(c));Object.defineProperties(a,e);return a}function Cg(a,b,c){if(a.fill)a.fill(b,c);else{c>>>=0;for(var d=a.length>>>0;c<d;)a[c]=b,c++}}function ug(){if(xg)return xg;wg=new vg;xg={};var a=wg;xg.toString=a.toString;xg.map=a.map;xg.splice=a.splice;xg.slice=a.slice;xg.concat=a.concat;xg.filter=a.filter;xg.Gd=a.Gd;xg.Hd=a.Hd;xg.Wc=a.Wc;xg.Fd=a.Fd;xg._ci=a.Ne;return xg}
function Eg(a){if(yg)return a?zg:yg;var b=wg;yg={pop:{value:Array.prototype.pop,configurable:!0},push:{value:b.push,configurable:!0},shift:{value:Array.prototype.shift,configurable:!0},unshift:{value:b.unshift,configurable:!0},insertAt:{value:b.fg,configurable:!0},removeAt:{value:b.Og,configurable:!0}};b={value:b.Fh,configurable:!0};zg={pop:b,push:b,shift:b,unshift:b,insertAt:b,removeAt:b};return a?zg:yg}w=vg.prototype;w.toString=function(){return Array.prototype.map.call(this,String).toString()};
w.map=function(a){var b=this._s;return Dg(Array.prototype.map.call(this,function(c,d,e){return b.cE(a(c,d,e))}),C(b.eT),!1,null)};w.splice=function(){var a=Array.prototype.slice.call(arguments),b=this._s;a=Array.prototype.splice.apply(this,a);-1<b.fL&&(b.fL=this.length);return Dg(a,C(b.eT),!1,null)};w.slice=function(){var a=Array.prototype.slice.call(arguments),b=this._s;a=Array.prototype.slice.apply(this,a);return Dg(a,C(b.eT),!1,null)};
w.filter=function(){var a=Array.prototype.slice.call(arguments),b=this._s;a=Array.prototype.filter.apply(this,a);return Dg(a,C(b.eT),!1,null)};w.concat=function(){for(var a=Array.prototype.slice.call(arguments),b=this._s,c=a.length>>>0,d=0;d<c;d++){var e=a[d];if(!qg(e,b.type))throw new TypeError(fa+e._s.type+' to '+b.type);}a=Array.prototype.concat.apply(this,a);return Dg(a,C(b.eT),!1,null)};w.Gd=function(a,b){return Array.prototype.splice.call(this,a,0,b)};
w.Hd=function(a){return Array.prototype.splice.call(this,a,1)[0]};w.Wc=function(){return Number(this.value.length)};w.Fd=function(a){if(-1!=this.fL)throw new RangeError(ha);var b=Number(this.value.length);this.value.length=a;b<a&&Cg(this.value,this.dV,b>>>0)};w.push=function(a){var b=Array.prototype.slice.call(arguments),c=Bg(b,b.length>>>0,this._s);b=Array.prototype.push.apply(this,b)>>>0;if(c)throw new c.constructor(c.message);return b};
w.unshift=function(a){var b=Array.prototype.slice.call(arguments),c=Bg(b,b.length>>>0,this._s);b=Array.prototype.unshift.apply(this,b)>>>0;if(c)throw new c.constructor(c.message);return b};w.fg=function(a,b){this._s.insertAt.call(this,a,b)};w.Og=function(a){var b=(0>a?Math.max(this.length+a,0):a)>>0;if(b>=this.length)throw new RangeError(Ag(a,this.length>>>0));return this._s.removeAt.call(this,b)};w.Fh=function(){throw new RangeError(ha);};
w.Ne=function(a){var b=Number(this._s.fL);if(a>>>0!==a||(-1==b?a>(b=Number(this.length)):a>=b))throw new RangeError(Ag(a,b>>>0));return a};function E(a){a='undefined'!==typeof a?a:null;if(null!=a){if(a instanceof E)return a.copy();a=''+a;-1==a.indexOf('<')?(E.ignoreWhitespace&&(a=a.trim()),this.setValue(a)):Fg(this,a)}else Gg||this.setValue('');Hg||(Object.defineProperty(E.prototype,'0',{get:function(){return this},set:t(),enumerable:!0,configurable:!0}),Hg=!0)}var Gg,Ig,Jg;x('XML',E);var Kg=Object.create(null),Lg=Object.create(null);
function Mg(a,b,c,d){a=a||'';var e=C(null==b?'{$'+b+'$}':b);c=c||'';e=b||c?a+':'+e+':'+c:a;var g=d?Lg[e]:Kg[e];g||(g=new Ng(c,a),null!=b&&g.kc(C(b)),d&&(g.Wa=!0),d?Lg[e]=g:Kg[e]=g);return g}var Og=/^\s*<\?xml[^?]*\?>/im;E.clearQNameCache=function(){Kg=Object.create(null);Lg=Object.create(null)};x('XML.clearQNameCache',E.clearQNameCache);E.ignoreComments=!0;x('XML.ignoreComments',E.ignoreComments);E.ignoreProcessingInstructions=!0;x('XML.ignoreProcessingInstructions',E.ignoreProcessingInstructions);
E.ignoreWhitespace=!0;x('XML.ignoreWhitespace',E.ignoreWhitespace);var Pg=2,Qg='  ';E.prettyPrinting=!0;x('XML.prettyPrinting',E.prettyPrinting);E.recursiveNotify=!1;x('XML.recursiveNotify',E.recursiveNotify);
function Rg(a){if(void 0===a)return'';a=String(a).split('');for(var b=a.length>>0,c=0;c<b;c++)switch(a[c]){case '<':a[c]='&lt;';break;case '&':'#'!=a[c+1]&&(a[c]='&amp;');break;case '"':a[c]='&quot;';break;case '\n':a[c]='&#xA;';break;case '\r':a[c]='&#xD;';break;case '\t':a[c]='&#x9;'}return a.join('')}function Sg(a){var b=a.split(''),c=b.length>>>0;for(a=0;a<c;a++)switch(b[a]){case '<':b[a]='&lt;';break;case '>':b[a]='&gt;';break;case '&':'#'!=b[a+1]&&(b[a]='&amp;')}return b.join('')}
var Tg=!1,Ug=!1;
function Vg(a,b){Ug||(Tg=a.getAttributeNames?!0:!1,Ug=!0);if(Tg)var c=a.getAttributeNames();else{var d=[];var e=a.attributes;var g=a.attributes.length>>0;for(c=0;c<g;c++)d.push(e[c].name);c=d}d=c.length>>0;e=a.nodeName;(g=a.prefix)&&0==e.indexOf(g+':')&&(e=e.substr(g.length+1));b._name=Mg(e,g,a.namespaceURI,!1);for(e=0;e<d;e++)if(g=a.getAttributeNode(C(c[e])),'xmlns'!=g.name&&'xmlns'!=g.prefix||'http://www.w3.org/2000/xmlns/'!=g.namespaceURI){var h=b,k=new E;k.R=h;k._name=Mg(g.localName,'',g.namespaceURI,
!0);k.setValue(g.value);h.addChildInternal(k)}else g=g.prefix?new Wg(g.localName,g.nodeValue):new Wg('',g.nodeValue),b.addNamespace(g);for(a=a.firstChild;a;a=a.nextSibling)if(c=a.nodeType,!(7==c&&E.ignoreProcessingInstructions||8==c&&E.ignoreComments)){a:{e=a;switch(e.nodeType){case 1:d=new E;Vg(e,d);break;case 3:if(E.ignoreWhitespace){if(c=e.nodeValue.trim(),!c){c=null;break a}}else c=e.nodeValue;d=new E;d.setValue(c);break;case 4:d=new E;c=ca+e.nodeValue+']]\x3e';d.setValue(c);break;case 7:c=e.nodeValue;
d=new E;d.Ja='p';g=e.nodeName;e.prefix&&0==g.indexOf(e.prefix+':')&&(g=g.substr(e.prefix.length+1));d._name=Mg(g,null,'',!1);d.setValue(c);break;case 8:c=e.nodeValue;d=new E;d.Ja='c';d.setValue(c);break;default:throw new TypeError('Unknown XML node type!');}c=d}c&&b.addChildInternal(c)}}E.defaultSettings=function(){return{ignoreComments:!0,ignoreProcessingInstructions:!0,ignoreWhitespace:!0,prettyIndent:2,prettyPrinting:!0,recursiveNotify:!1}};x('XML.defaultSettings',E.defaultSettings);
E.setSettings=function(a){a&&(E.ignoreComments=void 0===a.ignoreComments?E.ignoreComments:a.ignoreComments,E.ignoreProcessingInstructions=void 0===a.ignoreProcessingInstructions?E.ignoreProcessingInstructions:a.ignoreProcessingInstructions,E.ignoreWhitespace=void 0===a.ignoreWhitespace?E.ignoreWhitespace:a.ignoreWhitespace,E.prettyIndent=void 0===a.prettyIndent?E.prettyIndent:a.prettyIndent,E.prettyPrinting=void 0===a.prettyPrinting?E.prettyPrinting:a.prettyPrinting,E.recursiveNotify=void 0===a.recursiveNotify?
E.recursiveNotify:a.recursiveNotify)};x('XML.setSettings',E.setSettings);E.settings=function(){return{ignoreComments:E.ignoreComments,ignoreProcessingInstructions:E.ignoreProcessingInstructions,ignoreWhitespace:E.ignoreWhitespace,prettyIndent:E.prettyIndent,prettyPrinting:E.prettyPrinting,recursiveNotify:E.recursiveNotify}};x('XML.settings',E.settings);
function Xg(a){if(null==a)return new E;if(null!=a.m)switch(C(a.m.names[0].name)){case 'XML':return a;case qa:return 1==a.length()?a[0]:null}return new E(a)}var Hg=!1,Yg=/&(?![\w]+;)/g,Zg=/^\s+$/;
function Fg(a,b){b=b.replace(Yg,'&amp;');Ig||(Ig=new DOMParser);if(null==Jg)try{Jg=Ig.parseFromString('<',hb).getElementsByTagName('parsererror')[0].namespaceURI}catch(k){Jg='na'}var c=C(Og.exec(b));c&&(b=b.replace(c,''));E.ignoreWhitespace&&(b=b.trim());try{var d=Ig.parseFromString('<parseRoot>'+b+'</parseRoot>',hb)}catch(k){throw k;}b=d.getElementsByTagNameNS(C(Jg),'parsererror');if(0<b.length)throw Error(b[0].innerHTML);d=d.childNodes[0];b=d.childNodes.length>>>0;for(var e,g=c=0;g<b;g++){var h=
d.childNodes[g];if(1==h.nodeType){if(e){c++;break}e=!0;c=1;0!=c&&a.resetNodeKind();a._name=Mg(h.localName,h.prefix,h.namespaceURI,!1);Gg=!0;Vg(h,a);Gg=!1}else e||(7==h.nodeType?E.ignoreProcessingInstructions?c||(delete a._name,a.setValue('')):(a.Ja='p',a.setName(h.nodeName),a.setValue(h.nodeValue),c++):4==h.nodeType?(c||(delete a._name,a.setValue(ca+h.nodeValue+']]\x3e')),c++):8==h.nodeType?(delete a._name,E.ignoreComments?c||a.setValue(''):(c||(a.Ja='c',a.setValue(h.nodeValue)),c++)):3!=h.nodeType||
Zg.test(h.nodeValue)&&E.ignoreWhitespace||(c||(delete a._name,a.setValue(h.nodeValue)),c++))}if(1<c)throw new TypeError('Error #1088: The markup in the document following the root element must be well-formed.');}E.prototype.resetNodeKind=function(){delete this.Ja;delete this._value;delete this._name};E.prototype.addChild=function(a){a&&(this.addChildInternal(a),this.normalize())};x('XML.prototype.addChild',E.prototype.addChild);
E.prototype.addChildInternal=function(a){a.setParent(this);'a'==a.getNodeRef()?($g(this).push(a),this.xml$_notify(lb,this,a.name().toString(),a.getValue())):(ah(this).push(a),this.xml$_notify(Wb,this,a,null))};function ah(a){a._children||(a._children=[]);return a._children}function $g(a){a._attributes||(a._attributes=[]);return a._attributes}E.prototype.addNamespace=function(a){var b=this.addNamespaceInternal(a);this.xml$_notify('namespaceAdded',this,a,null);return b};
x('XML.prototype.addNamespace',E.prototype.addNamespace);
E.prototype.addNamespaceInternal=function(a){var b=this.getNodeRef();if('t'==b||'c'==b||'p'==b||'a'==b||void 0===a.prefix||''==a.prefix&&''==this.name().uri)return this;var c=null;this._namespaces||(this._namespaces=[]);var d=this._namespaces;var e=d.length>>0;for(b=e-1>>0;0<b;b--)if(d[b].prefix==a.prefix){c=d[b];break}c&&c.uri!=a.uri&&(d.splice(b,1),e--);d[e]=a;a.prefix==this.name().prefix&&(this._name=Mg(C(this._name.localName),void 0,C(this._name.uri),!1));e=this.attributeLength();for(b=0;b<e;b++)c=
this._attributes[b],c.name().prefix==a.prefix&&(c._name=Mg(A(c._name,Ng,!0).localName,null,A(c._name,Ng,!0).uri,!0));return this};x('XML.prototype.addNamespaceInternal',E.prototype.addNamespaceInternal);
E.prototype.appendChild=function(a){var b=!1;if(typeof a!=$b){if((b=(b=this.childrenLength()>>>0)?this._children[b-1]:null)&&'e'==b.getNodeRef()){var c=new E;c.resetNodeKind();a=new E(a.toString());c._name=b._name;a.setParent(c);ah(c).push(a);a=c}else a=bh(a);b=!0}B(a,E)&&'a'==a.getNodeRef()&&(b=new E,b.setValue(a.toString()),a=b,b=!0);c=b;c='undefined'!==typeof c?c:!1;b=ah(this);if(B(a,F)){var d=a.length()>>0,e=this.childrenLength();for(c=0;c<d;c++){var g=a[c];var h=g.getNodeRef();'a'==h?(h=g.localName(),
g=new E('<'+h+'>'+g.toString()+'</'+h+'>')):(h=b.indexOf(g)>>0,-1!=h&&b.splice(h,1));g.setParent(this,!0);b.push(g)}if(this.Xa||E.recursiveNotify&&this.R)for(c=0;c<d;c++)h=a[c],g=!1,h=h.getNodeRef(),'a'==h&&(g=!0),h=b[e+c],g?this.xml$_notify(lb,this,h.name().toString(),h.getValue()):this.xml$_notify(Wb,this,h,null)}else g=!1,h=C(a.getNodeRef()),'a'==h?(a=new E(a.toString()),g=!0):(h=b.indexOf(a)>>0,-1!=h&&b.splice(h,1)),a.setParent(this),b.push(a),g?(c&&this.xml$_notify('textSet',a,a.getValue(),null),
this.xml$_notify(lb,this,a.name().toString(),a.getValue())):c?(a=a._children?a._children[0]:a,this.xml$_notify('textSet',a,a.getValue(),null),this.xml$_notify(Wb,a.R,a,null)):this.xml$_notify(Wb,this,a,null);return this};x('XML.prototype.appendChild',E.prototype.appendChild);
E.prototype.attribute=function(a){var b;if('*'==a)return this.attributes();a=ch(a);var c=new F,d=this.attributeLength();for(b=0;b<d;b++)a.matches(this._attributes[b].name())&&c.append(this._attributes[b]);c.targetObject=this;c.targetProperty=a;return c};x('XML.prototype.attribute',E.prototype.attribute);E.prototype.attributes=function(){var a,b=new F,c=this.attributeLength();for(a=0;a<c;a++)b.append(this._attributes[a]);b.targetObject=this;return b};x('XML.prototype.attributes',E.prototype.attributes);
E.prototype.child=function(a){var b,c=new F;if(parseInt(a,10).toString()==a){if('0'!=a)return null;c.append(this);c.targetObject=this;return c}a&&'MultiName'!=a.className&&(a=dh(a));if(a.va){var d=this.attributeLength();for(b=0;b<d;b++)a.matches(this._attributes[b].name())&&c.append(this._attributes[b])}else{d=this.childrenLength();var e='*'==a.localName&&''===a.uri;for(b=0;b<d;b++){var g=this._children[b];(e||a.matches(g.name()))&&c.append(g)}}c.targetObject=this;c.targetProperty=a;return c};
x('XML.prototype.child',E.prototype.child);E.prototype.childIndex=function(){return this.R?this.R.getIndexOf(this)>>0:-1};x('XML.prototype.childIndex',E.prototype.childIndex);E.prototype.children=function(){var a,b=new F,c=this.childrenLength();for(a=0;a<c;a++)b.append(this._children[a]);b.targetObject=this;return b};x('XML.prototype.children',E.prototype.children);
E.prototype.comments=function(){var a,b=new F,c=this.childrenLength();for(a=0;a<c;a++)'c'==this._children[a].getNodeRef()&&b.append(this._children[a]);b.targetObject=this;return b};x('XML.prototype.comments',E.prototype.comments);E.prototype.concat=function(a){if(B(a,E)){var b=new F;b.append(a);a=b}if(!B(a,F))throw new TypeError('invalid type');b=new F;b.append(this);var c=a,d;for(d in c.elementNames())a=c[d],b.append(a);return b};x('XML.prototype.concat',E.prototype.concat);
E.prototype.contains=function(a){return B(a,E)||B(a,F)?this.equals(a):a==this};x('XML.prototype.contains',E.prototype.contains);
E.prototype.copy=function(){var a,b=new E;b.resetNodeKind();b.setNodeKind(this.getNodeKindInternal());b._name=this._name;b.setValue(C(this._value));var c=this.namespaceLength();for(a=0;a<c;a++)b.addNamespace(new Wg(this._namespaces[a]));c=this.attributeLength();for(a=0;a<c;a++)b.addChildInternal(this._attributes[a].copy());c=this.childrenLength();for(a=0;a<c;a++)b.addChildInternal(this._children[a].copy());return b};x('XML.prototype.copy',E.prototype.copy);
function eh(a,b){a._children[b].R=null;a._children.splice(b,1)}E.prototype.descendants=function(a){(a='undefined'!==typeof a?a:'*')||(a='*');a=fh(this,this,dh(a),[]);return F.fromArray(a)};x('XML.prototype.descendants',E.prototype.descendants);function fh(a,b,c,d){if(c.va&&b._attributes){var e=b._attributes,g;for(g in e){var h=e[g];c.matches(h.name())&&d.push(h)}}if(b._children){b=b._children;for(var k in b)e=b[k],c.matches(e.name())&&d.push(e),'e'==e.getNodeRef()&&fh(a,e,c,d)}return d}
E.prototype.elements=function(a){a='undefined'!==typeof a?a:'*';var b;a||(a='*');var c='*'==a;a=dh(a);var d=new F,e=this.childrenLength();for(b=0;b<e;b++)'e'==this._children[b].getNodeRef()&&(c||a.matches(this._children[b].name()))&&d.append(this._children[b]);d.targetObject=this;d.targetProperty=a;return d};x('XML.prototype.elements',E.prototype.elements);E.prototype.elementNames=function(){return[0]};x('XML.prototype.elementNames',E.prototype.elementNames);
E.prototype.equals=function(a){if(a===this)return!0;if(a instanceof F){if(1!=A(a,F).length())return!1;a=A(a,F)[0]}else if(!(a instanceof E))return!1;if(a.getNodeRef()!=this.getNodeRef())return!1;if(this._name){if(!a._name||!this._name.equals(a._name))return!1}else if(a._name)return!1;var b=this.getAttributeArray();var c=a.getAttributeArray();if(b.length!=c.length)return!1;var d=this.getChildrenArray(),e=a.getChildrenArray();if(d.length!=e.length||this.getValue()!=a.getValue())return!1;for(c=0;c<b.length;c++)if(!a.hasAttribute(b[c]))return!1;
for(c=0;c<d.length;c++)if(!d[c].equals(e[c]))return!1;return!0};x('XML.prototype.equals',E.prototype.equals);E.prototype.hasAttribute=function(a,b){b='undefined'!==typeof b?b:null;if(!this._attributes)return!1;if(B(a,E)){var c=a.name();b=C(a.getValue())}else c=new Ng(a),c.Wa=!0;var d=this.attributeLength();for(a=0;a<d;a++)if(c.matches(this._attributes[a].name()))return b?b==this._attributes[a].getValue():!0;return!1};x('XML.prototype.hasAttribute',E.prototype.hasAttribute);
E.prototype.getAttributeArray=function(){return this._attributes?this._attributes:[]};x('XML.prototype.getAttributeArray',E.prototype.getAttributeArray);E.prototype.getChildrenArray=function(){return this._children?this._children:[]};x('XML.prototype.getChildrenArray',E.prototype.getChildrenArray);E.prototype.getIndexOf=function(a){return(this._children?this._children.indexOf(a):-1)>>0};x('XML.prototype.getIndexOf',E.prototype.getIndexOf);
E.prototype.childrenLength=function(){return(this._children?this._children.length:0)>>0};E.prototype.attributeLength=function(){return(this._attributes?this._attributes.length:0)>>0};E.prototype.namespaceLength=function(){return(this._namespaces?this._namespaces.length:0)>>0};E.prototype.getValue=function(){return C(this._value?this._value:'')};x('XML.prototype.getValue',E.prototype.getValue);E.prototype.hasAncestor=function(a){if(!a)return!1;for(var b=this.parent();b;){if(a==b)return!0;b=b.parent()}return!1};
x('XML.prototype.hasAncestor',E.prototype.hasAncestor);E.prototype.hasComplexContent=function(){var a=this.getNodeRef();if('a'==a||'c'==a||'p'==a||'t'==a)return!1;var b=this.childrenLength();for(a=0;a<b;a++)if('e'==this._children[a].getNodeRef())return!0;return!1};x('XML.prototype.hasComplexContent',E.prototype.hasComplexContent);
E.prototype.hasOwnProperty=function(a){if(parseInt(a,10).toString()==a)return'0'==a;var b=dh(a);if(b.va){var c=this.attributeLength();for(a=0;a<c;a++)if(b.matches(this._attributes[a].name()))return!0}else for(c=this.childrenLength(),a=0;a<c;a++)if('e'==this._children[a].getNodeRef()&&this._children[a].name().matches(b))return!0;return!1};x('XML.prototype.hasOwnProperty',E.prototype.hasOwnProperty);
E.prototype.hasSimpleContent=function(){var a=this.getNodeRef();if('c'==a||'p'==a)return!1;var b=this.childrenLength();for(a=0;a<b;a++)if('e'==this._children[a].getNodeRef())return!1;return!0};x('XML.prototype.hasSimpleContent',E.prototype.hasSimpleContent);E.prototype.inScopeNamespaces=function(){for(var a=this,b=[],c=0,d={};null!=a;){var e=a._namespaces;if(e)for(var g in e){var h=e[g];d[h.prefix]||(b[c++]=h,d[h.prefix]=!0)}a=a.parent()}return b};x('XML.prototype.inScopeNamespaces',E.prototype.inScopeNamespaces);
function gh(a,b,c){var d=a.getNodeRef();'t'!=d&&'c'!=d&&'p'!=d&&'a'!=d&&b&&((d=b.parent())&&d.removeChild(b),b.setParent(a),ah(a).splice(c,0,b),a.xml$_notify(Wb,a,b,null))}E.prototype.insertChildAfter=function(a,b){var c=this.getNodeRef();if('t'==c||'c'==c||'p'==c||'a'==c)return null;if(!a)return gh(this,b,0),b;a=this.getIndexOf(a);0<=a&&gh(this,b,a+1>>0);return b};x('XML.prototype.insertChildAfter',E.prototype.insertChildAfter);
E.prototype.insertChildBefore=function(a,b){var c=this.getNodeRef();if('t'==c||'c'==c||'p'==c||'a'==c)return null;if(!a)return a=this.childrenLength(),gh(this,b,a),b;a=this.getIndexOf(a);0<=a&&gh(this,b,a);return b};x('XML.prototype.insertChildBefore',E.prototype.insertChildBefore);E.prototype.length=xe(1);x('XML.prototype.length',E.prototype.length);E.prototype.localName=function(){return C(this._name?this._name.localName:null)};x('XML.prototype.localName',E.prototype.localName);
E.prototype.name=function(){return this._name?this._name:null};x('XML.prototype.name',E.prototype.name);E.prototype.namespace=function(a){a='undefined'!==typeof a?a:null;var b=this.getNodeRef();if('t'==b||'c'==b||'p'==b)return null;b=this.inScopeNamespaces();if(null==a)return this.name().getNamespace(b);for(var c=b.length>>0,d=0;d<c;d++)if(b[d].prefix==a)return b[d];return null};x('XML.prototype.namespace',E.prototype.namespace);
E.prototype.namespaceDeclarations=function(){var a=this.getNodeRef();if('t'==a||'c'==a||'p'==a||'a'==a)return[];a=this._namespaces;if(!a||!a.length)return[];var b=this.R?this.R.inScopeNamespaces():[];if(!b.length)return a.slice();var c=[],d;for(d in a){var e=a[d];var g=!1;var h=b,k;for(k in h){var n=h[k];if(e.prefix==e.prefix&&e.uri==n.uri){g=!0;break}}g||c.push(e)}return c};x('XML.prototype.namespaceDeclarations',E.prototype.namespaceDeclarations);E.prototype.getNodeKindInternal=function(){return C(hh[this.getNodeRef()])};
E.prototype.getNodeRef=function(){return this.Ja?C(this.Ja):this._name?this._name.va?C('a'):C('e'):C('t')};var hh={e:Ab,a:kb,p:ke,t:te,c:'comment'},ih={element:'e',attribute:'a','processing-instruction':'p',text:'t',comment:'c'};E.prototype.nodeKind=function(){return this.getNodeKindInternal()};x('XML.prototype.nodeKind',E.prototype.nodeKind);
E.prototype.normalize=function(){for(var a,b=this.childrenLength()-1>>0;0<=b;b--){var c=this._children[b];if('e'==c.getNodeRef())c.normalize();else if('t'==c.getNodeRef()&&(a&&'t'==a.getNodeRef()&&(c.setValue(c.toString()+a.toString()),eh(this,b+1>>0)),!c.toString())){eh(this,b);continue}a=c}return this};x('XML.prototype.normalize',E.prototype.normalize);E.prototype.parent=v('R');x('XML.prototype.parent',E.prototype.parent);E.prototype.plus=function(a){var b=new F;b.append(this);return b.concat(a)};
x('XML.prototype.plus',E.prototype.plus);function bh(a){a=a.toString();var b=new E;b.setValue(a);return b}E.prototype.prependChild=function(a){typeof a!=$b&&(a=bh(a));jh(this,a);this.normalize();return this};x('XML.prototype.prependChild',E.prototype.prependChild);function jh(a,b){if(B(b,F))for(var c=b.length(),d=0;d<c;d++)jh(a,b[0]);else b.setParent(a),ah(a).unshift(b)}
E.prototype.processingInstructions=function(){var a,b=new F,c=this.childrenLength();for(a=0;a<c;a++)'p'==this._children[a].getNodeRef()&&b.append(this._children[a]);b.targetObject=this;return b};x('XML.prototype.processingInstructions',E.prototype.processingInstructions);
E.prototype.removeChild=function(a){var b;if(!a)return!1;if(B(a,F)){var c=!1;var d=a.length();for(b=d-1>>0;0<=b;b--)this.removeChild(a[b])&&(c=!0);return c}if(!B(a,E)){a=dh(a);b=!1;if(a.va)for(d=this.attributeLength()-1>>0;0<=d;d--)c=this._attributes[d],a.matches(c.name())&&(c=this._attributes[d],c.R=null,this._attributes.splice(d,1),b=!0,this.xml$_notify(nb,this,c._name.localName,c.getValue()));else{for(d=this.childrenLength()-1>>0;0<=d;d--)c=this._children[d],'e'!=c.getNodeRef()&&'*'!=a.localName||
!a.matches(c.name())||(c=this._children[d],c.R=null,this._children.splice(d,1),b=!0,this.xml$_notify(Xb,this,c,null));this.normalize()}return b}if('a'==a.getNodeRef()){d=this.attributeLength();for(b=0;b<d;b++)if(a.equals(this._attributes[b]))return a=this._attributes[b],a.R=null,this._attributes.splice(b,1),this.xml$_notify(nb,this,a._name.localName,a.getValue()),!0;return!1}b=this.getIndexOf(a);if(0>b)return!1;this._children.splice(b,1);a.R=null;this.xml$_notify(Xb,this,a,null);return!0};
x('XML.prototype.removeChild',E.prototype.removeChild);E.prototype.removeChildAt=function(a){if(a<this.childrenLength()){var b=this._children[a];b&&(b.setParent(null),a=this._children.indexOf(b)>>0,-1!=a&&(this._children.splice(a,1),this.xml$_notify(Xb,this,b,null)));return!0}throw new TypeError('Cannot call delete on XML at index '+a);};x('XML.prototype.removeChildAt',E.prototype.removeChildAt);
E.prototype.removeNamespace=function(a){var b=this.getNodeRef();if('t'==b||'c'==b||'p'==b||'a'==b)return this;B(a,Wg)||(a=new Wg(a));if(a==this.name().getNamespace(this._namespaces))return this;var c=this.attributeLength();for(b=0;b<c;b++)if(a==this._attributes[b].name().getNamespace(this._namespaces))return this;c=this.namespaceLength();for(b=c-1>>0;0<=b;b--)this._namespaces[b].uri==a.uri&&this._namespaces[b].prefix==a.prefix?this._namespaces.splice(b,1):null==a.prefix&&this._namespaces[b].uri==
a.uri&&this._namespaces.splice(b,1);c=this.childrenLength();for(b=0;b<c;b++)'e'==this._children[b].getNodeRef()&&this._children[b].removeNamespace(a);this.xml$_notify('namespaceRemoved',this,a,null);return this};x('XML.prototype.removeNamespace',E.prototype.removeNamespace);
E.prototype.replace=function(a,b){var c=this.getNodeRef();if('t'==c||'c'==c||'p'==c||'a'==c)return this.toString().replace(a,b);b=B(b,E)||B(b,F)?b.copy():b+'';c=parseInt(a,10)>>>0;if(c.toString()==a+'')return this.replaceChildAt(c>>0,b),this;a=dh(a);c=-1;for(var d=this.childrenLength()-1>>>0,e=null;-1<d;d--){var g=this._children[d];('*'==a.localName||'e'==g.getNodeRef()&&g.localName()==a.localName)&&(null==a.uri||'e'==g.getNodeRef()&&g.name().uri==a.uri)&&(-1!=c&&(eh(this,c),this.xml$_notify(Xb,this,
e,null)),c=d>>0,e=g)}if(-1==c)return this;this.Ba=!0;this.replaceChildAt(c,b);this.Ba=!1;this.xml$_notify('nodeChanged',this,this._children[c],e);return this};x('XML.prototype.replace',E.prototype.replace);
E.prototype.replaceChildAt=function(a,b){var c=this.getNodeRef();if('t'!=c&&'c'!=c&&'p'!=c&&'a'!=c)if(c=this.childrenLength(),a>c&&(a=c),ah(this),B(b,E)&&'a'!=b.getNodeRef()){if((c='e'==b.getNodeRef())&&!(c=b==this))a:{for(c=this.R;c;){if(c==b){c=!0;break a}c=c.R}c=!1}if(c)throw new TypeError('cannot assign parent xml as child');b.setParent(this);this._children[a]&&this.removeChild(this._children[a]);gh(this,b,a)}else if(B(b,F))if(c=b.length(),this._children[a]&&(this._children[a].R=null),c){b[0].setParent(this);
this._children[a]=b[0];for(var d=1,e;d<c;)e=b[d],gh(this,e,a+d>>0),d++}else this._children.splice(a,1);else e=new E,e.setValue(b+''),e.setParent(this),null!=this._children[a]&&this._children[a].setParent(null),this._children[a]=e};x('XML.prototype.replaceChildAt',E.prototype.replaceChildAt);
E.prototype.setAttribute=function(a,b){var c;b=''+b;$g(this);if(B(a,E)){if('a'==a.getNodeRef()){var d=this.attributeLength();for(c=0;c<d;c++)if(this._attributes[c].name().equals(a.name())){var e=C(this._attributes[c].getValue());this._attributes[c].setValue(b);this.xml$_notify(mb,this,a.name().toString(),e);return b}a.setValue(b);this.addChild(a)}return b}if(typeof a==se&&0==a.indexOf('xmlns'))c=a.indexOf(':')>>0,a=-1!=c?new Wg(a.substring(c+1),b.toString()):new Wg(b.toString()),this.addNamespace(a);
else{e=new E;a=ch(a);e._name=Mg(a.localName,a.prefix,a.uri,!0);e.setValue(b);d=this.attributeLength();for(c=0;c<d;c++)if(this._attributes[c].name().equals(e.name()))return a=this._attributes[c].getValue(),this._attributes[c].setValue(b),this.xml$_notify(mb,this,e.name().toString(),a),b;this.addChild(e)}return b};x('XML.prototype.setAttribute',E.prototype.setAttribute);
E.prototype.setChild=function(a,b){if((a>>>0).toString()==a)throw new TypeError('not permitted');var c=this.getNodeRef();if('t'==c||'c'==c||'p'==c||'a'==c)return this;var d=dh(a);if(d.va)return this.setAttribute(d,b+'');var e=-1;c='*'==d.localName;var g=!c&&!(B(b,E)||B(b,F));for(a=this.childrenLength()-1>>0;-1<a;)(c||'e'==this._children[a].getNodeRef()&&this._children[a].localName()==d.localName)&&(null==d.uri||'e'==this._children[a].getNodeRef()&&this._children[a]._name.uri==d.uri)&&(-1!==e&&this.removeChildAt(e),
e=a),a--; -1==e&&(e=this.childrenLength(),g&&(Gg=!0,c=new E,Gg=!1,c._name=Mg(d.localName,d.prefix,d.uri,!1),c.setParent(this),a=new Wg('',d),this.replaceChildAt(e,c),c.setNamespace(a)));if(g){c=this._children[e];if(this.Xa||E.recursiveNotify&&this.R){e=c.childrenLength();var h=null;for(a=0;a<e;++a)g=c._children[a],a||(h=g.toXMLString()),c.xml$_notify(Xb,c,g,null)}a=c.childrenLength()-1>>0;for(c.Ba=!0;-1<a;)c.removeChildAt(0),a--;c.Ba=!1;if(b+='')c.replaceChildAt(0,b),(this.Xa||E.recursiveNotify&&
this.R)&&c.xml$_notify('textSet',c._children[0],b,new E(h))}else this.replaceChildAt(e,b);return b};x('XML.prototype.setChild',E.prototype.setChild);
E.prototype.setChildren=function(a){var b;if(B(a,E)){var c=new F;c.setChild(0,a);a=c}if(B(a,F)){var d=this.children();var e=d.length()-1>>0;d.length()&&(e=d[0].childIndex()>>0);c=d.length()-1>>0;var g=null;this.Ba=!0;for(b=c;0<=b;b--)this.removeChild(d[b]),0<b?(this.Ba=!1,this.xml$_notify(Xb,this,d[b],null),this.Ba=!0):g=d[b];this.Ba=!1;e=ah(this)[e];var h=null;c=a.length()>>0;this.Ba=!0;for(b=0;b<c;b++)d=a[b],h||(h=d),e?(this.insertChildAfter(e,d),e=d):(e=d,this.appendChild(d));this.Ba=!1;0<c&&this.xml$_notify(g?
'nodeChanged':Wb,this,h,g)}return this};x('XML.prototype.setChildren',E.prototype.setChildren);E.prototype.setLocalName=function(a){this._name||(this._name=new Ng);var b=this._name;this._name=Mg(a,this._name.prefix,C(this._name.uri),!!this._name.va);this.xml$_notify('nameSet','a'==this.getNodeRef()?bh(this.getValue()):this,this._name.toString(),b.toString())};x('XML.prototype.setLocalName',E.prototype.setLocalName);
E.prototype.setName=function(a){var b=this.getNodeRef();if('t'!=b&&'c'!=b){var c=B(a,Ng)?a:new Ng(a);var d=c.va,e=this._name;this._name=Mg(c.localName,c.prefix,c.uri,d);d&&delete this.Ja;e&&this.xml$_notify('nameSet','a'==b?bh(this.getValue()):this,B(a,Ng)?this._name:this._name.toString(),e.toString())}};x('XML.prototype.setName',E.prototype.setName);
E.prototype.setNamespace=function(a){var b=this.getNodeRef();if('t'!=b&&'c'!=b&&'p'!=b){var c=new Wg(a),d=new Ng(c,this.name());if('a'==b){if(null==this.R)return;d.Wa=!0;this.R.addNamespaceInternal(c)}this._name=Mg(d.localName,d.prefix,d.uri,d.va);'e'==b&&this.addNamespaceInternal(c);this.xml$_notify('namespaceSet',this,a,null)}};x('XML.prototype.setNamespace',E.prototype.setNamespace);E.prototype.setNodeKind=function(a){this.getNodeKindInternal()!=a&&(a=C(ih[a]))&&(this.Ja=a)};
x('XML.prototype.setNodeKind',E.prototype.setNodeKind);E.prototype.setParent=function(a,b){if(a!=this.R){var c=this.R;!c||'undefined'!==typeof b&&b||c.removeChild(this);this.R=a}};E.prototype.setValue=function(a){a?this._value=a:delete this._value};x('XML.prototype.setValue',E.prototype.setValue);E.prototype.text=function(){var a,b=new F,c=this.childrenLength();for(a=0;a<c;a++){var d=this._children[a];'t'==d.getNodeRef()&&b.append(d)}b.targetObject=this;return b};x('XML.prototype.text',E.prototype.text);
E.prototype.toString=function(){var a=this.getNodeRef();if('a'==a)return this.getValue();if('t'==a)return a=this.getValue(),0==a.indexOf(ca)?a.substring(9,a.length-3):a;if('c'==a||'p'==a)return'';if(this.hasSimpleContent()){var b='',c=this.childrenLength();for(a=0;a<c;a++){var d=this._children[a],e=d.getNodeRef();'c'!=e&&'p'!=e&&(b+=d.toString())}return b}return this.toXMLString()};x('XML.prototype.toString',E.prototype.toString);
function dh(a){var b=typeof a;if(null==a||b==Zb||'boolean'==b)throw new TypeError(Pb);if(B(a,Ng))return a;b=a.toString();if(parseInt(b,10).toString()==a)throw new TypeError('invalid element name');(a=64==b.charCodeAt(0))&&(b=b.slice(1));b=new Ng(b);a&&(b.Wa=!0);return b}E.prototype.toXMLString=function(){return this._toXMLString()};x('XML.prototype.toXMLString',E.prototype.toXMLString);
E.prototype._toXMLString=function(a,b){a='undefined'!==typeof a?a:0;b='undefined'!==typeof b?b:null;var c,d=[];a=(isNaN(a)?0:a)>>0;var e=[];for(c=0;c<a;c++)e.push(Qg);c=e.join('');e=this.getNodeRef();var g=this.getValue();if('t'==e)return E.prettyPrinting?(a=g.trim(),0==a.indexOf(ca)?c+a:c+Sg(a)):0==g.indexOf(ca)?g:Sg(g);if('a'==e)return c+Rg(g);if('c'==e)return c+'\x3c!--'+g+'--\x3e';if('p'==e)return c+'<?'+this.name().localName+' '+g+'?>';if(b)var h=this._namespaces?this._namespaces:[];else b=[],
h=this.inScopeNamespaces();e=this._name;if(0==b.length)g=h;else{g=[];var k=h.length>>0;for(c=0;c<k;c++){a:{var n=h[c];var m,p=b.length>>>0;for(m=0;m<p;m++)if(n.uri==b[m].uri&&n.prefix==b[m].prefix){n=!0;break a}n=!1}n||g.push(new Wg(h[c]))}}k=this.attributeLength();for(c=0;c<k;c++)h=new Wg(this._attributes[c].name().getNamespace(g.concat(b))),null===h.prefix&&(h.kc(''),g.push(h));h=new Wg(e.getNamespace(g.concat(b)));null===h.prefix&&(h.kc(''),g.push(h));E.prettyPrinting&&0<a&&d.push(Array(a+1).join(Qg));
d.push('<');h.prefix&&d.push(h.prefix+':');d.push(e.localName);k=this.attributeLength();for(c=0;c<k;c++)d.push(' '),n=this._attributes[c].name(),m=n.getNamespace(g.concat(b)),m.prefix&&(d.push(m.prefix),d.push(':')),d.push(n.localName),d.push('="'),d.push(Rg(this._attributes[c].getValue())),d.push('"');for(c=0;c<g.length;c++)if(k=Rg(g[c].uri))d.push(' xmlns'),g[c].prefix&&(d.push(':'),d.push(g[c].prefix)),d.push('="'),d.push(k),d.push('"');k=this.childrenLength();if(0==k)return d.push('/>'),d.join('');
d.push('>');m=1<k||1==k&&'t'!=this._children[0].getNodeRef();n=E.prettyPrinting&&m?a+1>>0:0;for(c=0;c<k;c++)E.prettyPrinting&&m&&d.push('\n'),d.push(this._children[c]._toXMLString(n,b.concat(g)));E.prettyPrinting&&m&&(d.push('\n'),0<a&&d.push(Array(a+1).join(Qg)));d.push('</');h.prefix&&(d.push(h.prefix),d.push(':'));d.push(e.localName);d.push('>');return d.join('')};E.prototype.charAt=function(a){return this.toString().charAt(a)};x('XML.prototype.charAt',E.prototype.charAt);
E.prototype.charCodeAt=function(a){return this.toString().charCodeAt(a)};x('XML.prototype.charCodeAt',E.prototype.charCodeAt);E.prototype.codePointAt=function(a){return this.toString().codePointAt(a)};x('XML.prototype.codePointAt',E.prototype.codePointAt);E.prototype.indexOf=function(a,b){return this.toString().indexOf(a,'undefined'!==typeof b?b:0)};x('XML.prototype.indexOf',E.prototype.indexOf);E.prototype.lastIndexOf=function(a,b){return this.toString().lastIndexOf(a,'undefined'!==typeof b?b:0)};
x('XML.prototype.lastIndexOf',E.prototype.lastIndexOf);E.prototype.localeCompare=function(a,b,c){return this.toString().localeCompare(a,'undefined'!==typeof b?b:void 0,'undefined'!==typeof c?c:void 0)};x('XML.prototype.localeCompare',E.prototype.localeCompare);E.prototype.match=function(a){return this.toString().match(a)};x('XML.prototype.match',E.prototype.match);E.prototype.search=function(a){return this.toString().search(a)};x('XML.prototype.search',E.prototype.search);
E.prototype.slice=function(a,b){return C(this.toString().slice(a,'undefined'!==typeof b?b:void 0))};x('XML.prototype.slice',E.prototype.slice);E.prototype.split=function(a,b){return this.toString().split('undefined'!==typeof a?a:void 0,'undefined'!==typeof b?b:void 0)};x('XML.prototype.split',E.prototype.split);E.prototype.substr=function(a,b){return C(this.toString().substr(a,'undefined'!==typeof b?b:void 0))};x('XML.prototype.substr',E.prototype.substr);
E.prototype.substring=function(a,b){return C(this.toString().substring(a,'undefined'!==typeof b?b:void 0))};x('XML.prototype.substring',E.prototype.substring);E.prototype.toLocaleLowerCase=function(){return this.toString().toLocaleLowerCase()};x('XML.prototype.toLocaleLowerCase',E.prototype.toLocaleLowerCase);E.prototype.toLocaleUpperCase=function(){return this.toString().toLocaleUpperCase()};x('XML.prototype.toLocaleUpperCase',E.prototype.toLocaleUpperCase);E.prototype.toLowerCase=function(){return this.toString().toLowerCase()};
x('XML.prototype.toLowerCase',E.prototype.toLowerCase);E.prototype.toUpperCase=function(){return this.toString().toUpperCase()};x('XML.prototype.toUpperCase',E.prototype.toUpperCase);E.prototype.trim=function(){return this.toString().trim()};x('XML.prototype.trim',E.prototype.trim);E.prototype.toExponential=function(a){return Number(this.toString()).toExponential('undefined'!==typeof a?a:void 0)};x('XML.prototype.toExponential',E.prototype.toExponential);
E.prototype.toFixed=function(a){return Number(this.toString()).toFixed('undefined'!==typeof a?a:0)};x('XML.prototype.toFixed',E.prototype.toFixed);E.prototype.toPrecision=function(a){return Number(this.toString()).toPrecision('undefined'!==typeof a?a:void 0)};x('XML.prototype.toPrecision',E.prototype.toPrecision);E.prototype.xml$_notify=function(a,b,c,d){this.Ba||(this.Xa&&this.Xa(this,a,b,c,d,this.Xa),E.recursiveNotify&&this.R&&this.R.xml$_notify(a,b,c,d))};x('XML.prototype.xml$_notify',E.prototype.xml$_notify);
E.prototype.notification=v('Xa');x('XML.prototype.notification',E.prototype.notification);E.prototype.setNotification=function(a){this.Xa=a;this.Ba=!1};x('XML.prototype.setNotification',E.prototype.setNotification);E.prototype.Uc=xe(null);Object.defineProperties(E.prototype,{targetObject:{get:E.prototype.Uc}});Object.defineProperties(E,{prettyIndent:{get:function(){return Pg>>0},set:function(a){Pg=a;Qg='';for(var b=0;b<a;b++)Qg+=' '}}});E.prototype.m={names:[{name:'XML',o:'XML',kind:f}]};function kh(){}x(vc,kh);kh.prototype.info=t();kh.prototype.m={names:[{name:'IFlexInfo',o:vc,kind:l}]};function lh(){}x(Oc,lh);lh.prototype.addBead=t();lh.prototype.getBeadByType=t();lh.prototype.removeBead=t();lh.prototype.m={names:[{name:'IStrand',o:Oc,kind:l}]};function mh(){}x(nd,mh);w=mh.prototype;w.addEventListener=t();w.removeEventListener=t();w.hasEventListener=t();w.dispatchEvent=t();w.m={names:[{name:'IEventDispatcher',o:nd,kind:l}]};function nh(a){fg.call(this);this.je=('undefined'!==typeof a?a:null)||this}z(nh,fg);x(ld,nh);nh.prototype.hasEventListener=function(a){return bg(this,a)};x('org.apache.royale.events.EventDispatcher.prototype.hasEventListener',nh.prototype.hasEventListener);
nh.prototype.dispatchEvent=function(a){if(a)typeof a==se?(a=new G(''+a),a.target=this.je):'target'in a&&(a.target&&B(a,oh)&&(a=a.cloneEvent()),a.target=this.je);else return!1;var b=null;if(a.bubbles){var c=this.getParentEventTarget();if(c)for(b=[];c;c=c.getParentEventTarget())b.push(c)}return!!gg(this,a,b)};x('org.apache.royale.events.EventDispatcher.prototype.dispatchEvent',nh.prototype.dispatchEvent);
nh.prototype.fireListeners=function(a,b,c){a=this.tc(a,b);if(!a)return!0;a=a.concat();for(var d=!0,e=0;e<a.length&&!c.immediatePropogationStopped;++e){var g=a[e];if(g&&!g.ib&&g.capture==b){var h=g.listener,k=g.Kb||g.src;g.xb&&Df(this.za,g);d=!1!==h.call(k,c)&&d}}return d&&0!=c.kd};x('org.apache.royale.events.EventDispatcher.prototype.fireListeners',nh.prototype.fireListeners);nh.prototype.toString=xe('[object Object]');x('org.apache.royale.events.EventDispatcher.prototype.toString',nh.prototype.toString);
nh.prototype.m={names:[{name:'EventDispatcher',o:ld,kind:f}],s:[mh]};function ph(){nh.call(this)}z(ph,nh);x(fc,ph);ph.converterMap={};x('org.apache.royale.core.ElementWrapper.converterMap',ph.converterMap);ph.prototype.addBead=function(a){this._beads||(this._beads=[]);this._beads.push(a);a.strand=this};x('org.apache.royale.core.ElementWrapper.prototype.addBead',ph.prototype.addBead);ph.prototype.getBeadByType=function(a){var b;if(!this._beads)return null;var c=this._beads.length;for(b=0;b<c;b++){var d=this._beads[b];if(B(d,a))return d}return null};
x('org.apache.royale.core.ElementWrapper.prototype.getBeadByType',ph.prototype.getBeadByType);ph.prototype.removeBead=function(a){return qh(this._beads,a)};x('org.apache.royale.core.ElementWrapper.prototype.removeBead',ph.prototype.removeBead);ph.prototype.addEventListener=function(a,b,c){Sf(rh(this,a),a,b,!('undefined'===typeof c||!c))};x('org.apache.royale.core.ElementWrapper.prototype.addEventListener',ph.prototype.addEventListener);
ph.prototype.removeEventListener=function(a,b,c){$f(rh(this,a),a,b,!('undefined'===typeof c||!c))};x('org.apache.royale.core.ElementWrapper.prototype.removeEventListener',ph.prototype.removeEventListener);function rh(a,b){var c=a;sh.elementEvents[b]&&(c=a.element);return c}ph.prototype.hasEventListener=function(a){return bg(rh(this,a),a)};x('org.apache.royale.core.ElementWrapper.prototype.hasEventListener',ph.prototype.hasEventListener);
ph.prototype.dispatchEvent=function(a){if(typeof a==se){var b=a;a==tb&&(a=th.createEvent(b,!!a.bubbles))}else if(b=C(a.type),sh.elementEvents[b]){var c=a;a=th.tagNativeEvent(th.createEvent(b,!!a.bubbles),c);c.target=c.currentTarget=this}b=rh(this,b);return b==this?ph.M.dispatchEvent.apply(this,[a]):!!b.dispatchEvent(a)};x('org.apache.royale.core.ElementWrapper.prototype.dispatchEvent',ph.prototype.dispatchEvent);ph.prototype.hf=v('_element');
ph.prototype.eh=function(a){this._element=a;this._element.royale_wrapper=this};Object.defineProperties(ph.prototype,{element:{get:ph.prototype.hf,set:ph.prototype.eh}});ph.googFireListener=dg;dg=function(a,b){var c,d=b.getBrowserEvent(),e=ph.converterMap[d.constructor.name];e&&(c=e(d,b));c||(c=th.retrieveEvent(d),c==d&&(c=new uh,c.wrapEvent(b)));return!!ph.googFireListener(a,c)};ph.prototype.m={names:[{name:'ElementWrapper',o:fc,kind:f}],s:[lh]};function vh(){nh.call(this)}z(vh,ph);x(hc,vh);vh.prototype.Eb=function(){null==this._model&&(this._model=wh(xh,'iBeadModel',this));return this._model};vh.prototype.Ob=function(a){this._model!=a&&(this._model=a,B(a,yh)&&this.addBead(this._model),this.dispatchEvent(Tb))};Object.defineProperties(vh.prototype,{model:{get:vh.prototype.Eb,set:vh.prototype.Ob}});vh.prototype.m={names:[{name:'HTMLElementWrapper',o:hc,kind:f}]};function zh(){nh.call(this)}z(zh,vh);x(bc,zh);zh.prototype.info=v('Ph');x('org.apache.royale.core.ApplicationBase.prototype.info',zh.prototype.info);zh.prototype.setHeight=function(a,b){this.gg!=a&&(this.gg=a,this.element.style.height=a.toString()+le,'undefined'!==typeof b&&b||this.dispatchEvent(Jb))};x('org.apache.royale.core.ApplicationBase.prototype.setHeight',zh.prototype.setHeight);
zh.prototype.setWidth=function(a,b){this.hg!=a&&(this.hg=a,this.element.style.width=a.toString()+le,'undefined'!==typeof b&&b||this.dispatchEvent(we))};x('org.apache.royale.core.ApplicationBase.prototype.setWidth',zh.prototype.setWidth);w=zh.prototype;w.Jb=function(){var a=this.element.style.width;a=null==a?NaN:H.toNumber(a,NaN);isNaN(a)&&(a=this.element.offsetWidth,0===a&&0!==this.element.scrollWidth&&(a=this.element.scrollWidth));return a};
w.Qb=function(a){this.explicitWidth!=a&&(this.explicitWidth=a);this.setWidth(a)};w.Dc=function(){var a=this.element.style.height;a=null==a?NaN:H.toNumber(a,NaN);isNaN(a)&&(a=this.element.offsetHeight,0===a&&0!==this.element.scrollHeight&&(a=this.element.scrollHeight));return a};w.wd=function(a){this.explicitHeight!=a&&(this.explicitHeight=a);this.setHeight(a)};w.Bc=v('Yc');w.td=function(a){this.Yc!=a&&(isNaN(a)||(this.be=NaN),this.Yc=a,this.dispatchEvent(Cb))};w.Ac=v('Xc');
w.sd=function(a){this.Xc!=a&&(isNaN(a)||(this.ae=NaN),this.Xc=a,this.dispatchEvent(Bb))};w.Mc=v('be');w.Ad=function(a){this.be=a;this.element.style.width=a.toString()+'%';isNaN(a)||(this.Yc=NaN);this.dispatchEvent(je)};w.Lc=v('ae');w.zd=function(a){this.ae=a;this.element.style.height=a.toString()+'%';isNaN(a)||(this.Xc=NaN);this.dispatchEvent(ie)};
Object.defineProperties(zh.prototype,{width:{get:zh.prototype.Jb,set:zh.prototype.Qb},height:{get:zh.prototype.Dc,set:zh.prototype.wd},explicitWidth:{get:zh.prototype.Bc,set:zh.prototype.td},explicitHeight:{get:zh.prototype.Ac,set:zh.prototype.sd},percentWidth:{get:zh.prototype.Mc,set:zh.prototype.Ad},percentHeight:{get:zh.prototype.Lc,set:zh.prototype.zd}});zh.prototype.m={names:[{name:'ApplicationBase',o:bc,kind:f}],s:[kh]};function Ah(){}x(xc,Ah);Ah.prototype.m={names:[{name:'IInitialViewApplication',o:xc,kind:l}],s:[mh]};function Bh(){nh.call(this)}z(Bh,nh);x(Xc,Bh);Bh.prototype.addBead=function(a){this.dc||(this.dc=[]);this.dc.push(a);a.strand=this};x('org.apache.royale.core.Strand.prototype.addBead',Bh.prototype.addBead);Bh.prototype.getBeadByType=function(a){var b=this.dc,c;for(c in b){var d=b[c];if(B(d,a))return d}return null};x('org.apache.royale.core.Strand.prototype.getBeadByType',Bh.prototype.getBeadByType);Bh.prototype.removeBead=function(a){return qh(this.dc,a)};
x('org.apache.royale.core.Strand.prototype.removeBead',Bh.prototype.removeBead);Bh.prototype.Cb=v('ee');Bh.prototype.Nb=function(a){this.ee!=a&&(this.ee=a,this.dispatchEvent('idChanged'))};Object.defineProperties(Bh.prototype,{id:{get:Bh.prototype.Cb,set:Bh.prototype.Nb}});Bh.prototype.m={names:[{name:'Strand',o:Xc,kind:f}],s:[lh]};function Ng(a,b){a='undefined'!==typeof a?a:void 0;b='undefined'!==typeof b?b:void 0;var c=a&&typeof a==$b&&a.className,d=c==la?a:null,e=b&&typeof b==$b&&b.className==na?b:d||c!=na?null:a;e?(this.ra=e.ra,this.X=d?d.uri:e!=a?c==na?a.X:void 0===a?e.X:null!==a?a.toString():null:e.X):d?(this.ra=void 0==b?void 0===b?'':'null':b.toString(),this.X=d.uri):void 0!==b?(this.ra=C(null===b?'null':b.toString()),void 0!==a?null!==a&&(this.X=a.toString()):this.X='*'==this.ra?null:Ch):void 0!==a?(this.ra=C(null===
a?'null':a.toString()),this.X='*'==this.ra?null:Ch):(this.ra='',this.X=Ch)}x(na,Ng);var Ch='';Ng.prototype.kc=u('Ub');Ng.prototype.objectAccessFormat=function(){var a=this.ra;var b=C(this.X);b&&(b=b.replace(/:/g,'_'),b=b.replace(/\./g,'_'),b=b.replace(/\//g,'$'),a=b+'__'+a);return a};x('QName.prototype.objectAccessFormat',Ng.prototype.objectAccessFormat);Ng.prototype.equals=function(a){return null!=a&&(a===this||this.uri==a.uri&&this.localName==a.localName)};x('QName.prototype.equals',Ng.prototype.equals);
Ng.prototype.matches=function(a){if(a&&this.va!=a.va)return!1;var b='*'==this.ra;return b&&(null===this.X||a&&void 0===this.X)?!0:!a||!b&&a&&this.ra!=a.ra?!1:null==this.X?!0:this.X===a.X&&this.ra===a.ra};x('QName.prototype.matches',Ng.prototype.matches);Ng.prototype.Wa=!1;Ng.prototype.getNamespace=function(a){a='undefined'!==typeof a?a:null;var b,c;a||(a=[]);for(b=0;b<a.length;b++)if(a[b].uri==this.X&&(c||(c=a[b]),null==this.Ub))return a[b];return c?c:this.Ub?new Wg(this.Ub,this.X):new Wg(this.X)};
x('QName.prototype.getNamespace',Ng.prototype.getNamespace);Ng.prototype.toString=function(){return''!==this.X?(this.X?this.X:'*')+'::'+this.ra:this.ra};x('QName.prototype.toString',Ng.prototype.toString);w=Ng.prototype;w.Vc=function(){return C(null==this.X?null:this.X)};w.xf=v('ra');w.Pc=v('Ub');w.bb=xe(na);w.sf=v('Wa');Object.defineProperties(Ng.prototype,{uri:{get:Ng.prototype.Vc},localName:{get:Ng.prototype.xf},prefix:{get:Ng.prototype.Pc},className:{get:Ng.prototype.bb},va:{get:Ng.prototype.sf}});
Ng.prototype.m={names:[{name:na,o:na,kind:f}]};function Dh(){}x(Kc,Dh);Dh.prototype.m={names:[{name:'IRoyaleElement',o:Kc,kind:l}]};function Eh(){}x(Sc,Eh);Eh.prototype.m={names:[{name:'IStyleableObject',o:Sc,kind:l}],s:[mh]};function Fh(){}x(Pc,Fh);Fh.prototype.m={names:[{name:'IStrandWithModel',o:Pc,kind:l}],s:[lh]};function Gh(){}x(Qc,Gh);Gh.prototype.m={names:[{name:'IStrandWithModelView',o:Qc,kind:l}],s:[Fh]};function Hh(){}x(Jc,Hh);Hh.prototype.m={names:[{name:'IRenderedObject',o:Jc,kind:l}]};function Ih(){}x(rc,Ih);Ih.prototype.m={names:[{name:'IChild',o:rc,kind:l}],s:[Hh]};function Jh(){}x(Tc,Jh);Jh.prototype.addedToParent=t();Jh.prototype.m={names:[{name:'IUIBase',o:Tc,kind:l}],s:[lh,mh,Ih]};function Kh(){}x(yc,Kh);w=Kh.prototype;w.setHeight=t();w.setWidth=t();w.setX=t();w.setY=t();w.setWidthAndHeight=t();w.isWidthSizedToContent=t();w.isHeightSizedToContent=t();w.m={names:[{name:'ILayoutChild',o:yc,kind:l}],s:[Ih,Jh]};function Lh(){}x(wc,Lh);Lh.prototype.m={names:[{name:'IId',o:wc,kind:l}]};function Mh(){}x(Ec,Mh);w=Mh.prototype;w.addElement=t();w.addElementAt=t();w.getElementIndex=t();w.removeElement=t();w.getElementAt=t();w.m={names:[{name:'IParent',o:Ec,kind:l}]};function Nh(){}x(Fc,Nh);Nh.prototype.m={names:[{name:'IParentIUIBase',o:Fc,kind:l}],s:[Mh,Jh]};function I(){nh.call(this);this.createElement()}z(I,vh);x(Zc,I);I.prototype.setHeight=function(a,b){this._height!==a&&(this._height=a,this.positioner.style.height=a.toString()+le,'undefined'!==typeof b&&b||this.dispatchEvent(Jb))};x('org.apache.royale.core.UIBase.prototype.setHeight',I.prototype.setHeight);I.prototype.setWidth=function(a,b){this._width!==a&&(this._width=a,this.positioner.style.width=a.toString()+le,'undefined'!==typeof b&&b||this.dispatchEvent(we))};
x('org.apache.royale.core.UIBase.prototype.setWidth',I.prototype.setWidth);I.prototype.setWidthAndHeight=function(a,b,c){c='undefined'!==typeof c?c:!1;var d=this._width!==a,e=this._height!==b;d&&(this._width=a,this.positioner.style.width=a.toString()+le,c||e||this.dispatchEvent(we));e&&(this._height=b,this.positioner.style.height=b.toString()+le,c||d||this.dispatchEvent(Jb));d&&e&&this.dispatchEvent(qe)};x('org.apache.royale.core.UIBase.prototype.setWidthAndHeight',I.prototype.setWidthAndHeight);
I.prototype.isWidthSizedToContent=function(){if(!isNaN(this._explicitWidth)||!isNaN(this._percentWidth))return!1;var a=Oh.valuesImpl.getValue(this,'left'),b=Oh.valuesImpl.getValue(this,'right');return void 0===a||void 0===b};x('org.apache.royale.core.UIBase.prototype.isWidthSizedToContent',I.prototype.isWidthSizedToContent);
I.prototype.isHeightSizedToContent=function(){if(!isNaN(this._explicitHeight)||!isNaN(this._percentHeight))return!1;var a=Oh.valuesImpl.getValue(this,'top'),b=Oh.valuesImpl.getValue(this,'bottom');return void 0===a||void 0===b};x('org.apache.royale.core.UIBase.prototype.isHeightSizedToContent',I.prototype.isHeightSizedToContent);I.prototype.setX=function(a){var b=this.positioner;b.parentNode!=b.offsetParent&&(a+=b.parentNode.offsetLeft);b.style.left=a.toString()+le};
x('org.apache.royale.core.UIBase.prototype.setX',I.prototype.setX);I.prototype.setY=function(a){var b=this.positioner;b.parentNode!=b.offsetParent&&(a+=b.parentNode.offsetTop);b.style.top=a.toString()+le};x('org.apache.royale.core.UIBase.prototype.setY',I.prototype.setY);I.prototype.setDisplayStyleForLayout=function(a){this.displayStyleForLayout=a;this.positioner.style.display!==Yb&&(this.positioner.style.display=a)};x('org.apache.royale.core.UIBase.prototype.setDisplayStyleForLayout',I.prototype.setDisplayStyleForLayout);
I.prototype.internalChildren=function(){return this.element.childNodes};x('org.apache.royale.core.UIBase.prototype.internalChildren',I.prototype.internalChildren);I.prototype.typeNames='';x('org.apache.royale.core.UIBase.prototype.typeNames',I.prototype.typeNames);I.prototype.computeFinalClassNames=function(){return this.ec?this.ec+' '+this.typeNames:this.typeNames};I.prototype.setClassName=function(a){this.element.className=a};I.prototype.getParentEventTarget=function(){return A(this.parent,nh)};
x('org.apache.royale.core.UIBase.prototype.getParentEventTarget',I.prototype.getParentEventTarget);I.prototype.addElement=function(a){this.element.appendChild(a.positioner);a.addedToParent()};x('org.apache.royale.core.UIBase.prototype.addElement',I.prototype.addElement);I.prototype.addElementAt=function(a,b){var c=this.internalChildren();b>=c.length?this.element.appendChild(a.positioner):this.element.insertBefore(a.positioner,c[b]);a.addedToParent()};
x('org.apache.royale.core.UIBase.prototype.addElementAt',I.prototype.addElementAt);I.prototype.getElementAt=function(a){var b=this.internalChildren();return 0==b.length?null:b[a].royale_wrapper};x('org.apache.royale.core.UIBase.prototype.getElementAt',I.prototype.getElementAt);I.prototype.getElementIndex=function(a){for(var b=this.internalChildren(),c=b.length>>0,d=0;d<c;d++)if(b[d]===a.positioner)return d;return-1};x('org.apache.royale.core.UIBase.prototype.getElementIndex',I.prototype.getElementIndex);
I.prototype.removeElement=function(a){this.element.removeChild(a.positioner)};x('org.apache.royale.core.UIBase.prototype.removeElement',I.prototype.removeElement);
I.prototype.addedToParent=function(){if(!this.og){this.og=!0;var a=this.computeFinalClassNames().trim();a&&this.setClassName(a);this.style&&Oh.valuesImpl.applyStyles(this,this.style);isNaN(this._explicitWidth)&&isNaN(this._percentWidth)&&(a=Oh.valuesImpl.getValue(this,'width'),void 0!==a&&(B(a,String)?(a=String(a),-1<a.indexOf('%')?this._percentWidth=Number(a.substring(0,a.length-1)):(-1!==a.indexOf(le)&&(a=a.substring(0,a.length-2)),this._width=this._explicitWidth=Number(a))):this._width=this._explicitWidth=
a));isNaN(this._explicitHeight)&&isNaN(this._percentHeight)&&(a=Oh.valuesImpl.getValue(this,'height'),void 0!==a&&(B(a,String)?(a=String(a),-1!==a.indexOf('%')?this._percentHeight=Number(a.substring(0,a.length-1)):(-1!==a.indexOf(le)&&(a=a.substring(0,a.length-2)),this._height=this._explicitHeight=Number(a))):this._height=this._explicitHeight=a));a=this.beads;for(var b in a)this.addBead(a[b]);this.loadBeads();this.dispatchEvent('beadsAdded')}};
x('org.apache.royale.core.UIBase.prototype.addedToParent',I.prototype.addedToParent);w=I.prototype;w.loadBeads=function(){this.requiresView()&&(this.fc=wh(Ph,'iBeadView',this),this.dispatchEvent(ve));this.requiresController()&&wh(Qh,'iBeadController',this)};w.requiresView=xe(!0);w.requiresController=xe(!0);w.repeaterListener=function(a){this.dispatchEvent(a)};w.createElement=function(){Rh(this,'div');this.positioner.style.display='block';return this.element};w.Of=function(){return this};w.th=t();
w.Bc=v('_explicitWidth');w.td=function(a){this._explicitWidth!=a&&(isNaN(a)||(this._percentWidth=NaN),this._explicitWidth=a,this.dispatchEvent(Cb))};w.Ac=v('_explicitHeight');w.sd=function(a){this._explicitHeight!=a&&(isNaN(a)||(this._percentHeight=NaN),this._explicitHeight=a,this.dispatchEvent(Bb))};w.Mc=v('_percentWidth');w.Ad=function(a){this._percentWidth=a;this.positioner.style.width=a.toString()+'%';isNaN(a)||(this._explicitWidth=NaN);this.dispatchEvent(je)};w.Lc=v('_percentHeight');
w.zd=function(a){this._percentHeight=a;this.positioner.style.height=a.toString()+'%';isNaN(a)||(this._explicitHeight=NaN);this.dispatchEvent(ie)};w.Jb=function(){if(!isNaN(this._width))return this._width;if(!isNaN(this._explicitWidth))return this._explicitWidth;var a=this.element.style.width;a=null==a?NaN:H.toNumber(a,NaN);isNaN(a)&&(a=this.positioner.offsetWidth,0==a&&0!=this.positioner.scrollWidth&&(a=this.positioner.scrollWidth));return a};
w.Qb=function(a){this.explicitWidth!==a&&(this.explicitWidth=a);this.setWidth(a)};w.Dc=function(){if(!isNaN(this._height))return this._height;if(!isNaN(this._explicitHeight))return this._explicitHeight;var a=this.element.style.height;a=null==a?NaN:H.toNumber(a,NaN);isNaN(a)&&(a=this.positioner.offsetHeight,0==a&&0!=this.positioner.scrollHeight&&(a=this.positioner.scrollHeight));return a};w.wd=function(a){this.explicitHeight!==a&&(this.explicitHeight=a);this.setHeight(a)};
w.dg=function(){if(!isNaN(this._x))return this._x;var a=this.positioner,b=parseFloat(a.style.left);isNaN(b)&&(b=a.offsetLeft,a.parentNode!=a.offsetParent&&(b-=a.parentNode.offsetLeft));return b};w.Ch=function(a){this._x=a;this.setX(a)};w.eg=function(){if(!isNaN(this._y))return this._y;var a=this.positioner,b=parseFloat(a.style.top);isNaN(b)&&(b=a.offsetTop,a.parentNode!=a.offsetParent&&(b-=a.parentNode.offsetTop));return b};w.Dh=function(a){this._y=a;this.setY(a)};
w.cg=function(){return this.positioner.style.display!==Yb};w.Ed=function(a){!!a!==(this.positioner.style.display!==Yb)&&(a?(null!=this.displayStyleForLayout&&(this.positioner.style.display=this.displayStyleForLayout),this.dispatchEvent('show')):(this.displayStyleForLayout=this.positioner.style.display,this.positioner.style.display=Yb,this.dispatchEvent('hide')),this.dispatchEvent('visibleChanged'))};w.bg=function(){this.fc||(this.fc=wh(Ph,'iBeadView',this));return this.fc};
w.Bh=function(a){this.fc!=a&&(this.addBead(a),this.dispatchEvent(ve))};w.Cb=v('ad');w.Nb=function(a){this.ad!==a&&(this.ad=a,this.dispatchEvent('idChanged'));this.element.id=this.ad};w.Tc=v('cb');w.Cd=function(a){this.cb!==a&&(B(a,String)?this.cb=Oh.valuesImpl.parseStyles(a):this.cb=a,isNaN(this._y)||(this.cb.top=this._y),isNaN(this._x)||(this.cb.left=this._x),this.parent&&Oh.valuesImpl.applyStyles(this,this.cb),this.dispatchEvent('stylesChanged'),a=A(this.cb,Sh))&&(a.object=this)};w.bb=v('ec');
w.od=function(a){this.ec!==a&&(this.ec=a,this.parent&&this.setClassName(this.computeFinalClassNames()),this.dispatchEvent('classNameChanged'))};w.Kc=function(){return this.internalChildren().length>>0};w.zf=function(){this.fe||(this.fe=wh(Th,'iMeasurementBead',this));return this.fe};w.Zf=function(){return document.body.royale_wrapper};w.Kf=v(Ab);w.rh=u(Ab);w.Pe=function(){return parseFloat(this.positioner.style.opacity)};w.Qg=function(a){this.positioner.style.opacity=a};
w.Gf=function(){var a=this.positioner.parentNode;return a?a.royale_wrapper:null};w.$f=v(Ab);
Object.defineProperties(I.prototype,{royale_wrapper:{get:I.prototype.Of,set:I.prototype.th},explicitWidth:{get:I.prototype.Bc,set:I.prototype.td},explicitHeight:{get:I.prototype.Ac,set:I.prototype.sd},percentWidth:{get:I.prototype.Mc,set:I.prototype.Ad},percentHeight:{get:I.prototype.Lc,set:I.prototype.zd},width:{get:I.prototype.Jb,set:I.prototype.Qb},height:{get:I.prototype.Dc,set:I.prototype.wd},x:{get:I.prototype.dg,set:I.prototype.Ch},y:{get:I.prototype.eg,set:I.prototype.Dh},visible:{get:I.prototype.cg,
set:I.prototype.Ed},view:{get:I.prototype.bg,set:I.prototype.Bh},id:{get:I.prototype.Cb,set:I.prototype.Nb},style:{get:I.prototype.Tc,set:I.prototype.Cd},className:{get:I.prototype.bb,set:I.prototype.od},numElements:{get:I.prototype.Kc},measurementBead:{get:I.prototype.zf},topMostEventDispatcher:{get:I.prototype.Zf},positioner:{get:I.prototype.Kf,set:I.prototype.rh},alpha:{get:I.prototype.Pe,set:I.prototype.Qg},parent:{get:I.prototype.Gf},transformElement:{get:I.prototype.$f}});
I.prototype.m={names:[{name:'UIBase',o:Zc,kind:f}],s:[Gh,mh,Nh,Eh,Kh,Dh,Lh]};function Uh(){this.pos=new J;this.normal=new J}x(fb,Uh);Uh.prototype.primitive=null;x('alternativa.physics.collision.types.RayHit.prototype.primitive',Uh.prototype.primitive);Uh.prototype.pos=null;x('alternativa.physics.collision.types.RayHit.prototype.pos',Uh.prototype.pos);Uh.prototype.normal=null;x('alternativa.physics.collision.types.RayHit.prototype.normal',Uh.prototype.normal);Uh.prototype.t=0;x('alternativa.physics.collision.types.RayHit.prototype.t',Uh.prototype.t);
Uh.prototype.copy=function(a){this.primitive=a.primitive;this.pos.copy(a.pos);this.normal.copy(a.normal);this.t=a.t};x('alternativa.physics.collision.types.RayHit.prototype.copy',Uh.prototype.copy);Uh.prototype.m={names:[{name:'RayHit',o:fb,kind:f}]};function oh(){}x(od,oh);oh.prototype.cloneEvent=t();oh.prototype.m={names:[{name:'IRoyaleEvent',o:od,kind:l}]};function G(a,b,c){b='undefined'!==typeof b?b:!1;c='undefined'!==typeof c?c:!1;Hf.call(this,a);this.bubbles=b;this.cancelable=c}z(G,Hf);x(kd,G);G.CHANGE=tb;x('org.apache.royale.events.Event.CHANGE',G.CHANGE);G.COMPLETE='complete';x('org.apache.royale.events.Event.COMPLETE',G.COMPLETE);G.SELECT='select';x('org.apache.royale.events.Event.SELECT',G.SELECT);G.OPEN='open';x('org.apache.royale.events.Event.OPEN',G.OPEN);G.DEACTIVATE='deactivate';x('org.apache.royale.events.Event.DEACTIVATE',G.DEACTIVATE);
G.ADDED='added';x('org.apache.royale.events.Event.ADDED',G.ADDED);G.REMOVED='removed';x('org.apache.royale.events.Event.REMOVED',G.REMOVED);G.CLOSE='close';x('org.apache.royale.events.Event.CLOSE',G.CLOSE);G.CANCEL='cancel';x('org.apache.royale.events.Event.CANCEL',G.CANCEL);G.CONNECT='connect';x('org.apache.royale.events.Event.CONNECT',G.CONNECT);G.REMOVED_FROM_STAGE='removedFromStage';x('org.apache.royale.events.Event.REMOVED_FROM_STAGE',G.REMOVED_FROM_STAGE);G.ADDED_TO_STAGE='addedToStage';
x('org.apache.royale.events.Event.ADDED_TO_STAGE',G.ADDED_TO_STAGE);G.MOUSE_LEAVE='mouseLeave';x('org.apache.royale.events.Event.MOUSE_LEAVE',G.MOUSE_LEAVE);G.ENTER_FRAME='enterFrame';x('org.apache.royale.events.Event.ENTER_FRAME',G.ENTER_FRAME);G.RESIZE='resize';x('org.apache.royale.events.Event.RESIZE',G.RESIZE);G.prototype.stopImmediatePropagation=function(){this.Bg=!0};G.prototype.cloneEvent=function(){return new G(this.type,this.bubbles,this.cancelable)};
x('org.apache.royale.events.Event.prototype.cloneEvent',G.prototype.cloneEvent);G.prototype.isDefaultPrevented=v('defaultPrevented');x('org.apache.royale.events.Event.prototype.isDefaultPrevented',G.prototype.isDefaultPrevented);G.prototype.isSameTarget=function(a){return a===this.target||B(this.target,Dh)&&this.target.royale_wrapper===a?!0:!1};x('org.apache.royale.events.Event.prototype.isSameTarget',G.prototype.isSameTarget);
G.prototype.formatToString=function(a,b){var c=b=Array.prototype.slice.call(arguments,1),d;for(d in c)a+=' '+c[d];return a};x('org.apache.royale.events.Event.prototype.formatToString',G.prototype.formatToString);G.prototype.qf=v('Bg');G.prototype.kf=xe(0);Object.defineProperties(G.prototype,{immediatePropogationStopped:{get:G.prototype.qf},eventPhase:{get:G.prototype.kf}});G.prototype.m={names:[{name:'Event',o:kd,kind:f}],s:[oh]};function Vh(a){if(a){if(a.royale_wrapper)return a.royale_wrapper;if(a.parentNode&&a.parentNode.royale_wrapper)return a.parentNode.royale_wrapper}return a}x('org.apache.royale.events.getTargetWrapper',Vh);function Wh(){}x(Aa,Wh);Wh.prototype.restitution=0;x('alternativa.physics.BodyMaterial.prototype.restitution',Wh.prototype.restitution);Wh.prototype.friction=.3;x('alternativa.physics.BodyMaterial.prototype.friction',Wh.prototype.friction);Wh.prototype.m={names:[{name:'BodyMaterial',o:Aa,kind:f}]};function yh(){}x(kc,yh);yh.prototype.m={names:[{name:'IBead',o:kc,kind:l}]};function Xh(){}x(Mc,Xh);Xh.prototype.m={names:[{name:'IStatesImpl',o:Mc,kind:l}],s:[mh,yh]};function Yh(){}x(Zd,Yh);w=Yh.prototype;w.writeBinaryData=t();w.writeBoolean=t();w.writeByte=t();w.writeShort=t();w.writeInt=t();w.writeUnsignedInt=t();w.writeFloat=t();w.writeDouble=t();w.writeUTF=t();w.writeUTFBytes=t();w.m={names:[{name:'IBinaryDataOutput',o:Zd,kind:l}]};function Sh(){}x(Rc,Sh);Sh.prototype.m={names:[{name:'IStyleObject',o:Rc,kind:l}]};function Zh(){}x(mc,Zh);Zh.prototype.layout=t();Zh.prototype.m={names:[{name:'IBeadLayout',o:mc,kind:l}],s:[yh]};function $h(){}x(cc,$h);$h.prototype.listenOnStrand=function(a,b,c,d){c='undefined'!==typeof c?c:!1;'undefined'!==typeof d&&d?this._strand.removeEventListener(a,b,c):this._strand.addEventListener(a,b,c)};$h.prototype.qa=u('_strand');Object.defineProperties($h.prototype,{strand:{set:$h.prototype.qa}});$h.prototype.m={names:[{name:'Bead',o:cc,kind:f}],s:[yh]};function ai(){}z(ai,$h);x(Vc,ai);w=ai.prototype;
w.setListeners=function(a){a='undefined'!==typeof a?a:!1;this.listenOnStrand(we,D(this.handleSizeChange,this,Ib),!1,a);this.listenOnStrand(Jb,D(this.handleSizeChange,this,Ib),!1,a);this.listenOnStrand(qe,D(this.handleSizeChange,this,Ib),!1,a);this.listenOnStrand(ub,D(this.handleChildrenAdded,this,'handleChildrenAdded'),!1,a);this.listenOnStrand(Mb,D(this.handleInitComplete,this,Hb),!1,a);this.listenOnStrand('layoutNeeded',D(this.handleLayoutNeeded,this,'handleLayoutNeeded'),!1,a)};w.de=-1;w.ce=-1;
w.handleSizeChange=function(){if(this.host.width!=this.de||this.host.height!=this.ce)this.performLayout(),this.de=this.host.width,this.ce=this.host.height};w.handleChildrenAdded=function(){this.mg&&this.performLayout()};
w.childResizeHandler=function(a){a.type==we&&!this.host.isWidthSizedToContent()&&isNaN(this.host.explicitWidth)?(a=this.host.getLayoutHost(),a.beforeLayout(),a.afterLayout()):a.type==Jb&&!this.host.isHeightSizedToContent()&&isNaN(this.host.explicitHeight)?(a=this.host.getLayoutHost(),a.beforeLayout(),a.afterLayout()):a.type==qe&&!this.host.isHeightSizedToContent()&&isNaN(this.host.explicitHeight)&&!this.host.isWidthSizedToContent()&&isNaN(this.host.explicitWidth)?(a=this.host.getLayoutHost(),a.beforeLayout(),
a.afterLayout()):this.performLayout()};w.handleLayoutNeeded=function(){this.performLayout()};w.handleInitComplete=function(){this.mg=!0;this.performLayout()};w.childMargins=function(a,b,c){return Oh.valuesImpl.getMargins(a,b,c)};w.childPositions=function(a){return Oh.valuesImpl.getPositions(a)};w.isLayoutRunning=!1;
w.performLayout=function(){if(!this.isLayoutRunning){this.isLayoutRunning=!0;var a=A(this.host,bi).getLayoutHost();a.beforeLayout()&&this.layout()&&a.afterLayout();this.isLayoutRunning=!1;this._strand.dispatchEvent('layoutComplete')}};x('org.apache.royale.core.LayoutBase.prototype.performLayout',ai.prototype.performLayout);ai.prototype.layout=xe(!1);x('org.apache.royale.core.LayoutBase.prototype.layout',ai.prototype.layout);
ai.prototype.qa=function(a){a!=this._strand&&this._strand&&this.setListeners(!0);(this.host=this._strand=a)&&this.setListeners()};ai.prototype.vf=function(){return this.host.getLayoutHost().contentView};Object.defineProperties(ai.prototype,{strand:{set:ai.prototype.qa},layoutView:{get:ai.prototype.vf}});ai.prototype.m={names:[{name:'LayoutBase',o:Vc,kind:f}],s:[Zh]};function ci(){}z(ci,ai);x(Od,ci);ci.prototype.layout=function(){var a,b=this.layoutView;var c=b.numElements;'absolute'!=b.element.style.position&&'relative'!=b.element.style.position&&(b.element.style.position='relative');for(a=0;a<c;a++)b.getElementAt(a).positioner.style.position='absolute';return!0};x('org.apache.royale.html.beads.layouts.BasicLayout.prototype.layout',ci.prototype.layout);ci.prototype.m={names:[{name:'BasicLayout',o:Od,kind:f}],s:[Zh]};function di(){}x(Nc,di);di.prototype.m={names:[{name:'IStatesObject',o:Nc,kind:l}],s:[mh]};function ei(){}x(jc,ei);ei.prototype.m={names:[{name:'IApplicationView',o:jc,kind:l}],s:[Jh,di]};function fi(a){nh.call(this,'undefined'!==typeof a?a:null)}z(fi,nh);x(ec,fi);fi.prototype.listenOnStrand=function(a,b,c){this._strand.addEventListener(a,b,'undefined'!==typeof c?c:!1)};fi.prototype.qa=u('_strand');Object.defineProperties(fi.prototype,{strand:{set:fi.prototype.qa}});fi.prototype.m={names:[{name:'DispatcherBead',o:ec,kind:f}],s:[yh]};function Ph(){}x(oc,Ph);Ph.prototype.m={names:[{name:'IBeadView',o:oc,kind:l}],s:[yh]};function gi(){fi.call(this)}z(gi,fi);x(dc,gi);gi.prototype.pf=v('_strand');Object.defineProperties(gi.prototype,{host:{get:gi.prototype.pf}});gi.prototype.m={names:[{name:'BeadViewBase',o:dc,kind:f}],s:[Ph]};function hi(){}x(Yd,hi);w=hi.prototype;w.readBinaryData=t();w.readBoolean=t();w.readByte=t();w.readUnsignedByte=t();w.readShort=t();w.readUnsignedShort=t();w.readInt=t();w.readUnsignedInt=t();w.readFloat=t();w.readDouble=t();w.readUTF=t();w.readUTFBytes=t();w.m={names:[{name:'IBinaryDataInput',o:Yd,kind:l}]};function ii(){}x(Cc,ii);ii.prototype.setMXMLDescriptor=t();ii.prototype.generateMXMLAttributes=t();ii.prototype.m={names:[{name:'IMXMLDocument',o:Cc,kind:l}]};function ji(){}x(Hc,ji);ji.prototype.m={names:[{name:'IPopUpHost',o:Hc,kind:l}]};function ki(){}x(Ic,ki);ki.prototype.m={names:[{name:'IPopUpHostParent',o:Ic,kind:l}],s:[Mh]};function li(){}x(Bc,li);li.prototype.getElementAt=t();li.prototype.m={names:[{name:'ILayoutView',o:Bc,kind:l}]};function mi(){}x(tc,mi);mi.prototype.m={names:[{name:'IContentViewHost',o:tc,kind:l}],s:[Mh]};function ni(){}x(sc,ni);ni.prototype.childrenAdded=t();ni.prototype.m={names:[{name:'IContainer',o:sc,kind:l}],s:[Mh]};function bi(){}x(Ac,bi);bi.prototype.getLayoutHost=t();bi.prototype.m={names:[{name:'ILayoutParent',o:Ac,kind:l}]};function oi(){I.call(this)}z(oi,I);x(gc,oi);oi.prototype.createElement=function(){return Rh(this,'div')};oi.prototype.addedToParent=function(){oi.M.addedToParent.apply(this);this.requiresLayout()&&wh(Zh,'iBeadLayout',this)};x('org.apache.royale.core.GroupBase.prototype.addedToParent',oi.prototype.addedToParent);oi.prototype.requiresLayout=xe(!0);oi.prototype.childrenAdded=function(){pi(this,new qi(ub))};oi.prototype.layoutNeeded=function(){this.dispatchEvent('layoutNeeded')};
x('org.apache.royale.core.GroupBase.prototype.layoutNeeded',oi.prototype.layoutNeeded);oi.prototype.getLayoutHost=v('view');x('org.apache.royale.core.GroupBase.prototype.getLayoutHost',oi.prototype.getLayoutHost);oi.prototype.hasState=function(a){var b=this.Zc,c;for(c in b)if(b[c].name==a)return!0;return!1};x('org.apache.royale.core.GroupBase.prototype.hasState',oi.prototype.hasState);
oi.prototype.addElement=function(a,b){b='undefined'!==typeof b?b:!0;oi.M.addElement.apply(this,[a,b]);b&&pi(this,new qi(ub,a))};x('org.apache.royale.core.GroupBase.prototype.addElement',oi.prototype.addElement);oi.prototype.addElementAt=function(a,b,c){c='undefined'!==typeof c?c:!0;oi.M.addElementAt.apply(this,[a,b,c]);c&&pi(this,new qi(ub,a))};x('org.apache.royale.core.GroupBase.prototype.addElementAt',oi.prototype.addElementAt);
oi.prototype.removeElement=function(a,b){b='undefined'!==typeof b?b:!0;oi.M.removeElement.apply(this,[a,b]);b&&pi(this,new qi('childrenRemoved',a))};x('org.apache.royale.core.GroupBase.prototype.removeElement',oi.prototype.removeElement);w=oi.prototype;w.Uf=function(){return this};w.Tf=v('Zc');w.vh=function(a){this.Zc=a;this.bc=C(this.Zc[0].name);try{wh(Xh,'iStatesImpl',this)}catch(b){}};w.cf=v('bc');w.$g=function(a){if(a!=this.bc){var b=new ri('currentStateChange',!1,!1,this.bc,a);this.bc=a;this.dispatchEvent(b)}};
w.ag=v('lg');w.zh=u('lg');Object.defineProperties(oi.prototype,{strandChildren:{get:oi.prototype.Uf},states:{get:oi.prototype.Tf,set:oi.prototype.vh},currentState:{get:oi.prototype.cf,set:oi.prototype.$g},transitions:{get:oi.prototype.ag,set:oi.prototype.zh}});oi.prototype.m={names:[{name:'GroupBase',o:gc,kind:f}],s:[di,ni,bi,li,mi]};function si(){I.call(this);this.typeNames='royale'}z(si,oi);x(bd,si);si.prototype.Qe=v('pg');si.prototype.Rg=function(a){this.pg=a;this.dispatchEvent(Tb)};si.prototype.Oc=function(){return this};si.prototype.Nc=function(){return this};Object.defineProperties(si.prototype,{applicationModel:{get:si.prototype.Qe,set:si.prototype.Rg},popUpParent:{get:si.prototype.Oc},popUpHost:{get:si.prototype.Nc}});si.prototype.m={names:[{name:'ViewBase',o:bd,kind:f}],s:[ji,ki,ei]};function ti(){this.he=this;si.call(this)}z(ti,si);x(ad,ti);ti.prototype.addedToParent=function(){this.ge||Oh.valuesImpl.init(this);ti.M.addedToParent.apply(this);this.ge||(ui.generateMXMLInstances(this.he,this,this.MXMLDescriptor),this.dispatchEvent('initBindings'),this.dispatchEvent(Mb),this.ge=!0)};x('org.apache.royale.core.View.prototype.addedToParent',ti.prototype.addedToParent);ti.prototype.setMXMLDescriptor=function(a,b){this.he=a;this.qg=b};
x('org.apache.royale.core.View.prototype.setMXMLDescriptor',ti.prototype.setMXMLDescriptor);ti.prototype.generateMXMLAttributes=function(a){ui.generateMXMLProperties(this,a)};x('org.apache.royale.core.View.prototype.generateMXMLAttributes',ti.prototype.generateMXMLAttributes);ti.prototype.pb=v('qg');Object.defineProperties(ti.prototype,{MXMLDescriptor:{get:ti.prototype.pb}});ti.prototype.m={names:[{name:'View',o:ad,kind:f}],s:[ii]};function vi(a){this.normal=new J;this.points=new (og(Ha))(this.Pd,!0);this.index=a;for(a=0;a<this.Pd;a++)this.points[this.points._ci(a)]=new wi}x(Fa,vi);vi.prototype.body1=null;x('alternativa.physics.Contact.prototype.body1',vi.prototype.body1);vi.prototype.body2=null;x('alternativa.physics.Contact.prototype.body2',vi.prototype.body2);vi.prototype.restitution=NaN;x('alternativa.physics.Contact.prototype.restitution',vi.prototype.restitution);vi.prototype.friction=NaN;
x('alternativa.physics.Contact.prototype.friction',vi.prototype.friction);vi.prototype.normal=null;x('alternativa.physics.Contact.prototype.normal',vi.prototype.normal);vi.prototype.points=null;x('alternativa.physics.Contact.prototype.points',vi.prototype.points);vi.prototype.pcount=0;x('alternativa.physics.Contact.prototype.pcount',vi.prototype.pcount);vi.prototype.maxPenetration=0;x('alternativa.physics.Contact.prototype.maxPenetration',vi.prototype.maxPenetration);vi.prototype.satisfied=!1;
x('alternativa.physics.Contact.prototype.satisfied',vi.prototype.satisfied);vi.prototype.next=null;x('alternativa.physics.Contact.prototype.next',vi.prototype.next);vi.prototype.index=0;x('alternativa.physics.Contact.prototype.index',vi.prototype.index);vi.prototype.Pd=8;vi.prototype.m={names:[{name:'Contact',o:Fa,kind:f}]};function sh(){}x(jd,sh);sh.elementEvents={click:1,dblclick:1,change:1,keyup:1,keydown:1,load:1,mouseenter:1,mouseleave:1,mouseover:1,mouseout:1,mouseup:1,mousedown:1,mousemove:1,rollover:1,rollout:1,wheel:1};x('org.apache.royale.events.ElementEvents.elementEvents',sh.elementEvents);sh.prototype.m={names:[{name:'ElementEvents',o:jd,kind:f}]};function th(){}x(td,th);th.createEvent=function(a,b,c){b='undefined'!==typeof b?b:!1;c='undefined'!==typeof c?c:!1;var d=null;try{return d=new Event(a,xi(b,c))}catch(e){}d||(d=document.createEvent('Event'),d.initEvent(a,b,c));return d};x('org.apache.royale.events.utils.EventUtils.createEvent',th.createEvent);th.tagNativeEvent=function(a,b){a._RYL_ORIG=b;return a};x('org.apache.royale.events.utils.EventUtils.tagNativeEvent',th.tagNativeEvent);
th.retrieveEvent=function(a){if(a._RYL_ORIG){var b=a._RYL_ORIG;b.currentTarget=Vh(a.currentTarget);return b}return a};x('org.apache.royale.events.utils.EventUtils.retrieveEvent',th.retrieveEvent);th.prototype.m={names:[{name:'EventUtils',o:td,kind:f}]};function yi(){HTMLElement.call(this)}z(yi,HTMLElement);x(dd,yi);yi.prototype.m={names:[{name:'WrappedHTMLElement',o:dd,kind:f}],s:[Dh]};function qh(a,b){var c;var d=a.length>>>0;for(c=0;c<d;c++)if(b===a[c])return a.splice(c,1),b;return null};function zi(){}x(md,zi);zi.prototype.wrapEvent=t();zi.prototype.m={names:[{name:'IBrowserEvent',o:md,kind:l}]};function uh(){}x(id,uh);uh.prototype.wrapEvent=function(a){this.J=a;this.nativeEvent=a.getBrowserEvent()};x('org.apache.royale.events.BrowserEvent.prototype.wrapEvent',uh.prototype.wrapEvent);uh.prototype.getBrowserEvent=function(){return this.J.getBrowserEvent()};x('org.apache.royale.events.BrowserEvent.prototype.getBrowserEvent',uh.prototype.getBrowserEvent);uh.prototype.isButton=function(a){return!!this.J.isButton(a)};x('org.apache.royale.events.BrowserEvent.prototype.isButton',uh.prototype.isButton);
uh.prototype.isMouseActionButton=function(){return!!this.J.isMouseActionButton()};x('org.apache.royale.events.BrowserEvent.prototype.isMouseActionButton',uh.prototype.isMouseActionButton);uh.prototype.preventDefault=function(){this.J.preventDefault()};x('org.apache.royale.events.BrowserEvent.prototype.preventDefault',uh.prototype.preventDefault);w=uh.prototype;w.stopImmediatePropagation=function(){this.J.getBrowserEvent().stopImmediatePropagation();this.J.stopPropagation()};w.stopPropagation=function(){this.J.stopPropagation()};
w.bd=-1;w.yb=function(){return!!this.J.altKey};w.vc=function(){return this.J.button>>>0};w.We=function(){return this.J.charCode>>>0};w.yc=function(){return Number(this.J.clientX)};w.Hc=v('clientX');w.zc=function(){return Number(this.J.clientY)};w.Ic=v('clientY');w.zb=function(){return!!this.J.ctrlKey};w.Ab=function(){return Vh(this.J.currentTarget)};w.Bb=function(){return!!this.J.defaultPrevented};w.uf=function(){return this.J.keyCode>>>0};w.Db=function(){return!!this.J.metaKey};w.Bf=function(){return Number(this.J.offsetX)};
w.Cf=function(){return Number(this.J.offsetY)};w.If=v('platformModifierKey');w.Lf=function(){return Vh(this.J.relatedTarget)};w.Qc=function(){return Number(this.J.screenX)};w.Rc=function(){return Number(this.J.screenY)};w.Fb=function(){return!!this.J.shiftKey};w.Sf=function(){return this.J.state};w.Gb=function(){return Vh(this.J.target)};w.Xf=function(){return this.J.timestamp};w.Ib=function(){return C(this.J.type)};
w.wc=function(){if(-1<this.bd)return 1==this.bd;var a=this.J.getBrowserEvent();return'buttons'in a?1==a.buttons:1==a.which};w.nd=function(a){this.bd=(a?1:0)>>0};w.xc=function(){return this.J.getBrowserEvent().buttons>>0};
Object.defineProperties(uh.prototype,{altKey:{get:uh.prototype.yb},button:{get:uh.prototype.vc},charCode:{get:uh.prototype.We},clientX:{get:uh.prototype.yc},localX:{get:uh.prototype.Hc},clientY:{get:uh.prototype.zc},localY:{get:uh.prototype.Ic},ctrlKey:{get:uh.prototype.zb},currentTarget:{get:uh.prototype.Ab},defaultPrevented:{get:uh.prototype.Bb},keyCode:{get:uh.prototype.uf},metaKey:{get:uh.prototype.Db},offsetX:{get:uh.prototype.Bf},offsetY:{get:uh.prototype.Cf},platformModifierKey:{get:uh.prototype.If},
relatedTarget:{get:uh.prototype.Lf},screenX:{get:uh.prototype.Qc},screenY:{get:uh.prototype.Rc},shiftKey:{get:uh.prototype.Fb},state:{get:uh.prototype.Sf},target:{get:uh.prototype.Gb},timestamp:{get:uh.prototype.Xf},type:{get:uh.prototype.Ib},buttonDown:{get:uh.prototype.wc,set:uh.prototype.nd},buttons:{get:uh.prototype.xc}});uh.prototype.m={names:[{name:'BrowserEvent',o:id,kind:f}],s:[zi]};function Ai(){}x(vd,Ai);Ai.convert=function(a,b){b='undefined'!==typeof b?b:null;var c=C(a.type),d=C(a.key);d||(d=Bi.convertCharCode(a.charCode>>>0));var e=C(a.code);null==e&&(e=Bi.convertKeyCode(a.keyCode>>>0));c=new K(c,d,e,a.shiftKey);b||(b=new Mf(a,a.currentTarget));c.wrapEvent(b);return c};x('org.apache.royale.events.utils.KeyboardEventConverter.convert',Ai.convert);Ai.prototype.m={names:[{name:'KeyboardEventConverter',o:vd,kind:f}]};function Bi(){}x(ud,Bi);var Ci={Unidentified:'',Enter:'\r',Tab:'\t',Spacebar:' '};Bi.convertKey=function(a){return 2>a.length?a:(a=C(Ci[a]))||''};x('org.apache.royale.events.utils.KeyConverter.convertKey',Bi.convertKey);
Bi.convertKeyCode=function(a){if(64<a&&91>a)return'Key'+String.fromCharCode(a);if(47<a&&58>a)return'Digit'+String.fromCharCode(a);if(95<a&&106>a)return'Numpad'+String.fromCharCode(a-48);if(111<a&&135>a)return'F'+(a-111);switch(a){case 8:return'Backspace';case 9:return'Tab';case 13:return'Enter';case 16:return'ShiftLeft';case 17:return'ControlLeft';case 18:return'AltLeft';case 20:return'CapsLock';case 27:return'Escape';case 32:return'Space';case 33:return'PageUp';case 34:return'PageDown';case 35:return'End';
case 36:return'Home';case 37:return'ArrowLeft';case 38:return'ArrowUp';case 39:return'ArrowRight';case 40:return'ArrowDown';case 45:return'Insert';case 46:return'Delete';case 91:return'MetaLeft';case 92:case 93:return'MetaRight';case 144:return'NumLock';case 145:return'ScrollLock';case 19:return'Pause';case 186:return'Semicolon';case 187:return'Equal';case 189:return'Minus';case 191:return'Slash';case 192:return'Backquote';case 219:return'BracketLeft';case 220:return'Backslash';case 221:return'BracketRight';
case 222:return'Quote';case 188:return'Comma';case 190:return'Period';case 106:return'NumpadMultiply';case 107:return'NumpadAdd';case 109:return'NumpadSubtract';case 110:return'NumpadDecimal';case 111:return'NumpadDivide';default:throw Error('Unknown Key Code: '+a);}};x('org.apache.royale.events.utils.KeyConverter.convertKeyCode',Bi.convertKeyCode);Bi.convertCharCode=function(a){return String.fromCharCode(a)};x('org.apache.royale.events.utils.KeyConverter.convertCharCode',Bi.convertCharCode);
Bi.prototype.m={names:[{name:'KeyConverter',o:ud,kind:f}]};function K(a,b,c,d,e,g,h,k,n){d='undefined'!==typeof d?d:!1;e='undefined'!==typeof e?e:!1;g='undefined'!==typeof g?g:!1;h='undefined'!==typeof h?h:!1;G.call(this,a,!1,'undefined'!==typeof n?n:!1);this.oe=b;this.le=c;this.qe=d;this.ke=e;this.me=g;this.pe=h}z(K,G);x(pd,K);K.KEY_DOWN=Qb;x('org.apache.royale.events.KeyboardEvent.KEY_DOWN',K.KEY_DOWN);K.KEY_UP='keyup';x('org.apache.royale.events.KeyboardEvent.KEY_UP',K.KEY_UP);K.KEYCODE_UP=38;x('org.apache.royale.events.KeyboardEvent.KEYCODE_UP',K.KEYCODE_UP);
K.KEYCODE_DOWN=40;x('org.apache.royale.events.KeyboardEvent.KEYCODE_DOWN',K.KEYCODE_DOWN);K.KEYCODE_LEFT=37;x('org.apache.royale.events.KeyboardEvent.KEYCODE_LEFT',K.KEYCODE_LEFT);K.KEYCODE_RIGHT=39;x('org.apache.royale.events.KeyboardEvent.KEYCODE_RIGHT',K.KEYCODE_RIGHT);K.KEYCODE_PAGEUP=33;x('org.apache.royale.events.KeyboardEvent.KEYCODE_PAGEUP',K.KEYCODE_PAGEUP);K.KEYCODE_PAGEDOWN=34;x('org.apache.royale.events.KeyboardEvent.KEYCODE_PAGEDOWN',K.KEYCODE_PAGEDOWN);K.KEYCODE_HOME=36;
x('org.apache.royale.events.KeyboardEvent.KEYCODE_HOME',K.KEYCODE_HOME);K.KEYCODE_END=35;x('org.apache.royale.events.KeyboardEvent.KEYCODE_END',K.KEYCODE_END);K.prototype.wrapEvent=function(a){this.L=a;this.nativeEvent=a.getBrowserEvent()};x('org.apache.royale.events.KeyboardEvent.prototype.wrapEvent',K.prototype.wrapEvent);K.prototype.stopImmediatePropagation=function(){this.L&&(this.L.stopPropagation(),this.nativeEvent.stopImmediatePropagation())};
x('org.apache.royale.events.KeyboardEvent.prototype.stopImmediatePropagation',K.prototype.stopImmediatePropagation);K.prototype.stopPropagation=function(){this.L&&this.L.stopPropagation()};x('org.apache.royale.events.KeyboardEvent.prototype.stopPropagation',K.prototype.stopPropagation);K.prototype.preventDefault=function(){this.L?this.L.preventDefault():(K.M.preventDefault.apply(this),this.ne=!0)};x('org.apache.royale.events.KeyboardEvent.prototype.preventDefault',K.prototype.preventDefault);
K.prototype.cloneEvent=function(){return new K(this.type,this.key,this.code,this.shiftKey,this.altKey,this.ctrlKey,this.metaKey,this.bubbles,this.cancelable)};x('org.apache.royale.events.KeyboardEvent.prototype.cloneEvent',K.prototype.cloneEvent);K.setupConverter=function(){ph.converterMap.KeyboardEvent=Ai.convert;return!0};x('org.apache.royale.events.KeyboardEvent.setupConverter',K.setupConverter);w=K.prototype;w.Gb=function(){return this.L?Vh(this.L.target):this.cd};w.Dd=u('cd');
w.Ab=function(){return this.L?Vh(this.L.currentTarget):this.cd};w.qd=u('cd');w.tf=v('oe');w.jh=u('oe');w.Xe=v('le');w.Xg=u('le');w.yb=function(){return!(this.L?!this.L.altKey:!this.ke)};w.md=function(a){this.L?this.L.altKey=a:this.ke=a};w.zb=function(){return!(this.L?!this.L.ctrlKey:!this.me)};w.pd=function(a){this.L?this.L.ctrlKey=a:this.me=a};w.Db=function(){return!(this.L?!this.L.metaKey:!this.pe)};w.yd=function(a){this.L?this.L.metaKey=a:this.pe=a};
w.Fb=function(){return!(this.L?!this.L.shiftKey:!this.qe)};w.Bd=function(a){this.L?this.L.shiftKey=a:this.qe=a};w.Af=function(){return this.shiftKey||this.ctrlKey||this.metaKey};w.Bb=function(){return!(this.L?!this.L.defaultPrevented:!this.ne)};w.rd=u('ne');
Object.defineProperties(K.prototype,{target:{get:K.prototype.Gb,set:K.prototype.Dd},currentTarget:{get:K.prototype.Ab,set:K.prototype.qd},key:{get:K.prototype.tf,set:K.prototype.jh},code:{get:K.prototype.Xe,set:K.prototype.Xg},altKey:{get:K.prototype.yb,set:K.prototype.md},ctrlKey:{get:K.prototype.zb,set:K.prototype.pd},metaKey:{get:K.prototype.Db,set:K.prototype.yd},shiftKey:{get:K.prototype.Fb,set:K.prototype.Bd},modifierKey:{get:K.prototype.Af},defaultPrevented:{get:K.prototype.Bb,set:K.prototype.rd}});
K.setupConverter();K.prototype.m={names:[{name:'KeyboardEvent',o:pd,kind:f}],s:[zi]};function qi(a,b,c,d){b='undefined'!==typeof b?b:null;G.call(this,a,'undefined'!==typeof c?c:!1,'undefined'!==typeof d?d:!1);this.value=b}z(qi,G);x(sd,qi);qi.prototype.cloneEvent=function(){return new qi(this.type,this.value,this.bubbles,this.cancelable)};x('org.apache.royale.events.ValueEvent.prototype.cloneEvent',qi.prototype.cloneEvent);qi.prototype.m={names:[{name:'ValueEvent',o:sd,kind:f}]};function Di(){this.sb=A(Oh.valuesImpl.newInstance(this,'iStorageProvider'),Ei)}x(Td,Di);Di.prototype.storageAvailable=function(){return this.sb.storageAvailable()};x('org.apache.royale.storage.LocalStorage.prototype.storageAvailable',Di.prototype.storageAvailable);Di.prototype.setItem=function(a,b){return this.sb.setItem(a,b.toString())};x('org.apache.royale.storage.LocalStorage.prototype.setItem',Di.prototype.setItem);Di.prototype.getItem=function(a){return this.sb.getItem(a)};
x('org.apache.royale.storage.LocalStorage.prototype.getItem',Di.prototype.getItem);Di.prototype.removeItem=function(a){return this.sb.removeItem(a)};x('org.apache.royale.storage.LocalStorage.prototype.removeItem',Di.prototype.removeItem);Di.prototype.hasItem=function(a){return this.sb.hasItem(a)};x('org.apache.royale.storage.LocalStorage.prototype.hasItem',Di.prototype.hasItem);Di.prototype.clear=function(){this.sb.clear()};x('org.apache.royale.storage.LocalStorage.prototype.clear',Di.prototype.clear);
Di.prototype.m={names:[{name:'LocalStorage',o:Td,kind:f}]};function Fi(a){var b=!0;Fi.map.has(a)||(Fi.map.set(a,!0),b=!1);return b}x('org.apache.royale.debugging.alreadyRecorded',Fi);Fi.map=new WeakMap;x('org.apache.royale.debugging.alreadyRecorded.map',Fi.map);function Gi(){this.createDelegate()}x(zd,Gi);Gi.prototype.createDelegate=function(){this.delegate=document.createElement('input');this.delegate.setAttribute('type','file');Sf(this.delegate,tb,D(this.Hg,this,'org_apache_royale_file_beads_FileBrowser_fileChangeHandler'))};
Gi.prototype.browse=function(){this.hc=document.activeElement;this.hc.addEventListener('blur',D(this.Ae,this,de));this.hc.addEventListener('focus',D(this.Be,this,ee));window.addEventListener(Qb,D(this.fd,this,fe));window.addEventListener(Vb,D(this.rb,this,he));window.addEventListener(Ub,D(this.rb,this,he));this.delegate.click()};x('org.apache.royale.file.beads.FileBrowser.prototype.browse',Gi.prototype.browse);
Gi.prototype.Ae=function(){window.removeEventListener(Qb,D(this.fd,this,fe));window.removeEventListener(Vb,D(this.rb,this,he));window.removeEventListener(Ub,D(this.rb,this,he))};Gi.CANCEL_TIMEOUT=150;x('org.apache.royale.file.beads.FileBrowser.CANCEL_TIMEOUT',Gi.CANCEL_TIMEOUT);w=Gi.prototype;w.Be=function(){Hi(this);setTimeout(D(this.gd,this,ge),Gi.CANCEL_TIMEOUT)};w.fd=function(){Hi(this);setTimeout(D(this.gd,this,ge),Gi.CANCEL_TIMEOUT)};w.rb=function(){Hi(this);setTimeout(D(this.gd,this,ge),Gi.CANCEL_TIMEOUT)};
function Hi(a){a.hc.removeEventListener('focus',D(a.Be,a,ee));a.hc.removeEventListener('blur',D(a.Ae,a,de));window.removeEventListener(Qb,D(a.fd,a,fe));window.removeEventListener(Vb,D(a.rb,a,he));window.removeEventListener(Ub,D(a.rb,a,he))}w.gd=function(){this.delegate.files.length||this.ed.dispatchEvent(new G('cancel'))};w.Hg=function(){this.ed.model.fileReference=this.delegate.files[0];this.ed.dispatchEvent(new G(Tb))};w.qa=u('Gg');w.Ef=v('Gg');
Object.defineProperties(Gi.prototype,{strand:{set:Gi.prototype.qa},ed:{get:Gi.prototype.Ef}});Gi.prototype.m={names:[{name:'FileBrowser',o:zd,kind:f}],s:[yh]};function Ii(){}x(be,Ii);Ii.pad=function(a,b,c,d){a=a?a:'';c=c+1-(a.length>>0);b=Array(c).join(b);return'undefined'!==typeof d&&d?a+b:b+a};x('org.apache.royale.utils.StringPadder.pad',Ii.pad);Ii.prototype.m={names:[{name:'StringPadder',o:be,kind:f}]};function Qh(){}x(lc,Qh);Qh.prototype.m={names:[{name:'IBeadController',o:lc,kind:l}],s:[yh]};function Ji(){this.createElement();this.className='CheckBoxIcon'}x(Rd,Ji);w=Ji.prototype;w.createElement=function(){var a=document.createElement('input');a.type='checkbox';return this.element=a};w.bb=v('Lg');w.od=function(a){this.Lg=a;this.element.className=a};w.Cb=v('Mg');w.Nb=function(a){this.Mg=a;this.element.id=a};Object.defineProperties(Ji.prototype,{className:{get:Ji.prototype.bb,set:Ji.prototype.od},id:{get:Ji.prototype.Cb,set:Ji.prototype.Nb}});
Ji.prototype.m={names:[{name:'CheckBoxIcon',o:Rd,kind:f}]};function Ki(){}x(zc,Ki);Ki.prototype.beforeLayout=t();Ki.prototype.afterLayout=t();Ki.prototype.m={names:[{name:'ILayoutHost',o:zc,kind:l}]};function Li(a){if(null==a)return!1;var b=a.length>>>0;if(!b||!Li.isInTable(Li.lettersTable,a.charCodeAt(0)>>>0)&&'_'!=a.charAt(0))return!1;for(var c=1;c<b;c++){var d=a.charCodeAt(c)>>>0;if(!(Li.isInTable(Li.lettersTable,d)||Li.isInTable(Li.digitsTable,d)||46==d||45==d||95==d||Li.isInTable(Li.combiningCharsTable,d)||Li.isInTable(Li.extendersTable,d)))return!1}return!0}x('isXMLName',Li);
Li.lettersTable=[65,90,97,122,192,214,216,246,248,255,256,305,308,318,321,328,330,382,384,451,461,496,500,501,506,535,592,680,699,705,902,902,904,906,908,908,910,929,931,974,976,982,986,986,988,988,990,990,992,992,994,1011,1025,1036,1038,1103,1105,1116,1118,1153,1168,1220,1223,1224,1227,1228,1232,1259,1262,1269,1272,1273,1329,1366,1369,1369,1377,1414,1488,1514,1520,1522,1569,1594,1601,1610,1649,1719,1722,1726,1728,1742,1744,1747,1749,1749,1765,1766,2309,2361,2365,2365,2392,2401,2437,2444,2447,2448,
2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,
3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3585,3630,3632,3632,3634,3635,3648,3653,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3758,3760,3760,3762,3763,3773,3773,3776,3780,3904,3911,3913,3945,4256,4293,4304,4342,4352,4352,4354,4355,4357,4359,4361,4361,4363,4364,4366,4370,4412,4412,4414,4414,4416,4416,4428,4428,4430,4430,4432,4432,4436,4437,4441,4441,
4447,4449,4451,4451,4453,4453,4455,4455,4457,4457,4461,4462,4466,4467,4469,4469,4510,4510,4520,4520,4523,4523,4526,4527,4535,4536,4538,4538,4540,4546,4587,4587,4592,4592,4601,4601,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8486,8486,8490,8491,8494,8494,8576,8578,12353,12436,12449,12538,12549,12588,44032,55203,19968,40869,12295,12295,
12321,12329];x('isXMLName.lettersTable',Li.lettersTable);Li.digitsTable=[48,57,1632,1641,1776,1785,2406,2415,2534,2543,2662,2671,2790,2799,2918,2927,3047,3055,3174,3183,3302,3311,3430,3439,3664,3673,3792,3801,3872,3881];x('isXMLName.digitsTable',Li.digitsTable);Li.extendersTable=[183,183,720,720,721,721,903,903,1600,1600,3654,3654,3782,3782,12293,12293,12337,12341,12445,12446,12540,12542];x('isXMLName.extendersTable',Li.extendersTable);
Li.combiningCharsTable=[768,837,864,865,1155,1158,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1611,1618,1648,1648,1750,1756,1757,1759,1760,1764,1767,1768,1770,1773,2305,2307,2364,2364,2366,2380,2381,2381,2385,2388,2402,2403,2433,2435,2492,2492,2494,2494,2495,2495,2496,2500,2503,2504,2507,2509,2519,2519,2530,2531,2562,2562,2620,2620,2622,2622,2623,2623,2624,2626,2631,2632,2635,2637,2672,2673,2689,2691,2748,2748,2750,2757,2759,2761,2763,2765,2817,2819,2876,2876,2878,2883,2887,2888,2891,
2893,2902,2903,2946,2947,3006,3010,3014,3016,3018,3021,3031,3031,3073,3075,3134,3140,3142,3144,3146,3149,3157,3158,3202,3203,3262,3268,3270,3272,3274,3277,3285,3286,3330,3331,3390,3395,3398,3400,3402,3405,3415,3415,3633,3633,3636,3642,3655,3662,3761,3761,3764,3769,3771,3772,3784,3789,3864,3865,3893,3893,3895,3895,3897,3897,3902,3902,3903,3903,3953,3972,3974,3979,3984,3989,3991,3991,3993,4013,4017,4023,4025,4025,8400,8412,8417,8417,12330,12335,12441,12441,12442,12442];
x('isXMLName.combiningCharsTable',Li.combiningCharsTable);Li.isInTable=function(a,b){for(var c=a.length>>>0,d=0;d<c;d+=2)if(b>=a[d]&&b<=a[d+1])return!0;return!1};x('isXMLName.isInTable',Li.isInTable);function L(a,b){this.transform=new M;this.aabb=new Mi;this.type=a;this.collisionGroup=b}x(Ma,L);L.BOX=1;x('alternativa.physics.collision.CollisionPrimitive.BOX',L.BOX);L.PLANE=2;x('alternativa.physics.collision.CollisionPrimitive.PLANE',L.PLANE);L.SPHERE=3;x('alternativa.physics.collision.CollisionPrimitive.SPHERE',L.SPHERE);L.RECT=4;x('alternativa.physics.collision.CollisionPrimitive.RECT',L.RECT);L.TRIANGLE=5;x('alternativa.physics.collision.CollisionPrimitive.TRIANGLE',L.TRIANGLE);
L.prototype.type=0;x('alternativa.physics.collision.CollisionPrimitive.prototype.type',L.prototype.type);L.prototype.collisionGroup=0;x('alternativa.physics.collision.CollisionPrimitive.prototype.collisionGroup',L.prototype.collisionGroup);L.prototype.postCollisionPredicate=null;x('alternativa.physics.collision.CollisionPrimitive.prototype.postCollisionPredicate',L.prototype.postCollisionPredicate);L.prototype.body=null;x('alternativa.physics.collision.CollisionPrimitive.prototype.body',L.prototype.body);
L.prototype.localTransform=null;x('alternativa.physics.collision.CollisionPrimitive.prototype.localTransform',L.prototype.localTransform);L.prototype.transform=null;x('alternativa.physics.collision.CollisionPrimitive.prototype.transform',L.prototype.transform);L.prototype.aabb=null;x('alternativa.physics.collision.CollisionPrimitive.prototype.aabb',L.prototype.aabb);
L.prototype.setBody=function(a,b){b='undefined'!==typeof b?b:null;this.body!=a&&(this.body=a,null!=a&&(null!=b?(null==this.localTransform&&(this.localTransform=new M),this.localTransform.copy(b)):this.localTransform=null))};x('alternativa.physics.collision.CollisionPrimitive.prototype.setBody',L.prototype.setBody);L.prototype.calculateAABB=v('aabb');x('alternativa.physics.collision.CollisionPrimitive.prototype.calculateAABB',L.prototype.calculateAABB);L.prototype.raycast=xe(-1);
x('alternativa.physics.collision.CollisionPrimitive.prototype.raycast',L.prototype.raycast);L.prototype.clone=function(){return this.createPrimitive().copyFrom(this)};x('alternativa.physics.collision.CollisionPrimitive.prototype.clone',L.prototype.clone);L.prototype.copyFrom=function(a){if(null==a)throw Error('Parameter source cannot be null');this.type=a.type;this.transform.copy(a.transform);this.collisionGroup=a.collisionGroup;this.setBody(a.body,a.localTransform);this.aabb.copyFrom(a.aabb);return this};
x('alternativa.physics.collision.CollisionPrimitive.prototype.copyFrom',L.prototype.copyFrom);L.prototype.toString=function(){return'[CollisionPrimitive type='+this.type+']'};x('alternativa.physics.collision.CollisionPrimitive.prototype.toString',L.prototype.toString);L.prototype.createPrimitive=function(){return new L(this.type,this.collisionGroup)};L.prototype.m={names:[{name:'CollisionPrimitive',o:Ma,kind:f}]};Object.keys(L);function Ni(){nh.call(this)}z(Ni,Bh);x(Yc,Ni);Ni.prototype.addBead=function(a){Ni.M.addBead.apply(this,[a]);B(a,xh)&&(this.cc=a)};x('org.apache.royale.core.StrandWithModel.prototype.addBead',Ni.prototype.addBead);Ni.prototype.Eb=function(){null==this.cc&&(this.cc=A(wh(xh,'iBeadModel',this),xh));return this.cc};Ni.prototype.Ob=function(a){this.cc!=a&&(this.addBead(a),this.dispatchEvent(Tb))};Object.defineProperties(Ni.prototype,{model:{get:Ni.prototype.Eb,set:Ni.prototype.Ob}});
Ni.prototype.m={names:[{name:'StrandWithModel',o:Yc,kind:f}]};function Oi(){fi.call(this)}z(Oi,gi);x(Nd,Oi);w=Oi.prototype;w.handleInitComplete=function(){var a=this.host;!a.isHeightSizedToContent()&&isNaN(a.explicitHeight)&&isNaN(a.percentHeight)||!a.isWidthSizedToContent()&&isNaN(a.explicitWidth)&&isNaN(a.percentWidth)?(this.host.addEventListener(qe,D(this.deferredSizeHandler,this,zb)),this.host.addEventListener(we,D(this.deferredSizeHandler,this,zb)),this.host.addEventListener(Jb,D(this.deferredSizeHandler,this,zb))):this.completeSetup()};
w.deferredSizeHandler=function(){this.host.removeEventListener(qe,D(this.deferredSizeHandler,this,zb));this.host.removeEventListener(we,D(this.deferredSizeHandler,this,zb));this.host.removeEventListener(Jb,D(this.deferredSizeHandler,this,zb));this.completeSetup()};w.completeSetup=function(){this.host.addEventListener(qe,D(this.resizeHandler,this,me));this.host.addEventListener(we,D(this.resizeHandler,this,me));this.host.addEventListener(Jb,D(this.resizeHandler,this,me))};w.resizeHandler=t();
w.beforeLayout=xe(!0);x('org.apache.royale.html.beads.GroupView.prototype.beforeLayout',Oi.prototype.beforeLayout);w=Oi.prototype;w.performLayout=t();w.afterLayout=t();w.$e=v('host');w.Mf=v('host');w.qa=function(a){Oi.M.qa.apply(this,[a]);this.host.addEventListener(Mb,D(this.handleInitComplete,this,Hb))};Object.defineProperties(Oi.prototype,{contentView:{get:Oi.prototype.$e},resizableView:{get:Oi.prototype.Mf},strand:{set:Oi.prototype.qa}});Oi.prototype.m={names:[{name:'GroupView',o:Nd,kind:f}],s:[Ki]};function Pi(){}x(Pa,Pi);w=Pi.prototype;w.getAllContacts=t();w.raycast=t();w.raycastStatic=t();w.getContact=t();w.testCollision=t();w.m={names:[{name:'ICollisionDetector',o:Pa,kind:l}]};function N(){this.Xb={};this.wa=new Qi;this.Ga=new J;this.xa=new J;this.tb=new Uh;this.tree=new O;this.dynamicPrimitives=new (og(Ma));Ri(this,L.BOX,L.BOX,new Si);Ri(this,L.BOX,L.SPHERE,new Ti);Ri(this,L.BOX,L.RECT,new Ui);Ri(this,L.BOX,L.TRIANGLE,new Vi);Ri(this,L.SPHERE,L.SPHERE,new Wi)}x(Sa,N);N.prototype.tree=null;x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.tree',N.prototype.tree);N.prototype.dynamicPrimitives=null;
x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.dynamicPrimitives',N.prototype.dynamicPrimitives);N.prototype.dynamicPrimitivesNum=0;x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.dynamicPrimitivesNum',N.prototype.dynamicPrimitivesNum);N.prototype.threshold=1E-4;x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.threshold',N.prototype.threshold);w=N.prototype;w.Xb=null;w.wa=null;w.Ga=null;w.xa=null;w.tb=null;w.addPrimitive=xe(!0);
x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.addPrimitive',N.prototype.addPrimitive);N.prototype.removePrimitive=xe(!0);x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.removePrimitive',N.prototype.removePrimitive);N.prototype.init=function(a){this.tree.createTree(a)};x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.init',N.prototype.init);N.prototype.getAllContacts=function(a){return a};
x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.getAllContacts',N.prototype.getAllContacts);N.prototype.getContact=function(a,b,c){if(0==(a.collisionGroup&b.collisionGroup)||null!=a.body&&a.body==b.body||!a.aabb.intersects(b.aabb,.01))return!1;var d=A(this.Xb[a.type<=b.type?a.type<<16|b.type:b.type<<16|a.type],Xi);return null!=d&&d.getContact(a,b,c)?null!=a.postCollisionPredicate||null!=b.postCollisionPredicate?!1:!0:!1};
x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.getContact',N.prototype.getContact);N.prototype.testCollision=function(a,b){if(0==(a.collisionGroup&b.collisionGroup)||null!=a.body&&a.body==b.body||!a.aabb.intersects(b.aabb,.01))return!1;var c=A(this.Xb[a.type<=b.type?a.type<<16|b.type:b.type<<16|a.type],Xi);return null!=c&&c.haveCollision(a,b)?null!=a.postCollisionPredicate||null!=b.postCollisionPredicate?!1:!0:!1};
x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.testCollision',N.prototype.testCollision);
N.prototype.raycast=function(a,b,c,d,e,g){var h=this.raycastStatic(a,b,c,d,e,g);var k=this.tb,n=a.x+b.x*d,m=a.y+b.y*d,p=a.z+b.z*d;n<a.x?(N.ja.minX=n,N.ja.maxX=a.x):(N.ja.minX=a.x,N.ja.maxX=n);m<a.y?(N.ja.minY=m,N.ja.maxY=a.y):(N.ja.minY=a.y,N.ja.maxY=m);p<a.z?(N.ja.minZ=p,N.ja.maxZ=a.z):(N.ja.minZ=a.z,N.ja.maxZ=p);n=d+1;for(m=0;m<this.dynamicPrimitivesNum;m++)if(p=this.dynamicPrimitives[m],0!=(p.collisionGroup&c)){var q=p.aabb;N.ja.maxX<q.minX||N.ja.minX>q.maxX||N.ja.maxY<q.minY||N.ja.minY>q.maxY||
N.ja.maxZ<q.minZ||N.ja.minZ>q.maxZ||null!=e&&null!=p.body||(q=p.raycast(a,b,this.threshold,this.Ga),0<q&&q<n&&(n=q,k.primitive=p,k.normal.x=this.Ga.x,k.normal.y=this.Ga.y,k.normal.z=this.Ga.z))}n>d?a=!1:(k.pos.x=a.x+b.x*n,k.pos.y=a.y+b.y*n,k.pos.z=a.z+b.z*n,k.t=n,a=!0);if(!a&&!h)return!1;if(a&&h)return g.t>this.tb.t&&g.copy(this.tb),!0;if(h)return!0;g.copy(this.tb);return!0};x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.raycast',N.prototype.raycast);
N.prototype.raycastStatic=function(a,b,c,d,e,g){a:{var h=this.tree.rootNode.boundBox;var k=this.wa,n=NaN,m=NaN;k.min=-1;k.max=1E308;for(var p=0;3>p;p++){switch(p){case 0:if(b.x<this.threshold&&b.x>-this.threshold){if(a.x<h.minX||a.x>h.maxX){h=!1;break a}continue}n=(h.minX-a.x)/b.x;m=(h.maxX-a.x)/b.x;break;case 1:if(b.y<this.threshold&&b.y>-this.threshold){if(a.y<h.minY||a.y>h.maxY){h=!1;break a}continue}n=(h.minY-a.y)/b.y;m=(h.maxY-a.y)/b.y;break;case 2:if(b.z<this.threshold&&b.z>-this.threshold){if(a.z<
h.minZ||a.z>h.maxZ){h=!1;break a}continue}n=(h.minZ-a.z)/b.z;m=(h.maxZ-a.z)/b.z}n<m?(n>k.min&&(k.min=n),m<k.max&&(k.max=m)):(m>k.min&&(k.min=m),n<k.max&&(k.max=n));if(k.max<k.min){h=!1;break a}}h=!0}if(!h||0>this.wa.max||this.wa.min>d)return!1;0>=this.wa.min?(this.wa.min=0,this.xa.x=a.x,this.xa.y=a.y,this.xa.z=a.z):(this.xa.x=a.x+this.wa.min*b.x,this.xa.y=a.y+this.wa.min*b.y,this.xa.z=a.z+this.wa.min*b.z);this.wa.max>d&&(this.wa.max=d);return Yi(this,this.tree.rootNode,a,this.xa,b,c,this.wa.min,this.wa.max,
e,g)?g.t<=d:!1};x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.raycastStatic',N.prototype.raycastStatic);N.prototype.testBodyPrimitiveCollision=xe(!1);x('alternativa.physics.collision.KdTreeCollisionDetector.prototype.testBodyPrimitiveCollision',N.prototype.testBodyPrimitiveCollision);function Ri(a,b,c,d){a.Xb[b<=c?b<<16|c:c<<16|b]=d}
Object.defineProperties(N,{ja:{get:function(){var a=new Mi;Object.defineProperties(N,{ja:{value:a,writable:!0}});return a},set:function(a){Object.defineProperties(N,{ja:{value:a,writable:!0}})},configurable:!0}});
function Yi(a,b,c,d,e,g,h,k,n,m){var p=null,q=NaN,r;if(r=null!=b.indices){r=a.tree.staticChildren;for(var y=b.indices,Q=y.length>>0,ba=1E308,Ga=0;Ga<Q;Ga++){var ya=r[y[Ga]];if(0!=(ya.collisionGroup&g)&&(null==n||null==ya.body)){var Ca=ya.raycast(c,e,a.threshold,a.Ga);0<Ca&&Ca<ba&&(ba=Ca,m.primitive=ya,m.normal.x=a.Ga.x,m.normal.y=a.Ga.y,m.normal.z=a.Ga.z)}}1E308==ba?r=!1:(m.pos.x=c.x+e.x*ba,m.pos.y=c.y+e.y*ba,m.pos.z=c.z+e.z*ba,m.t=ba,r=!0)}if(r)return!0;if(-1==b.axis)return!1;switch(b.axis){case 0:q=
e.x>-a.threshold&&e.x<a.threshold?k+1:(b.coord-c.x)/e.x;p=d.x<b.coord?b.negativeNode:b.positiveNode;break;case 1:q=e.y>-a.threshold&&e.y<a.threshold?k+1:(b.coord-c.y)/e.y;p=d.y<b.coord?b.negativeNode:b.positiveNode;break;case 2:q=e.z>-a.threshold&&e.z<a.threshold?k+1:(b.coord-c.z)/e.z,p=d.z<b.coord?b.negativeNode:b.positiveNode}if(q<h||q>k)return Yi(a,p,c,d,e,g,h,k,n,m);if(Yi(a,p,c,d,e,g,h,q,n,m))return!0;a.xa.x=c.x+q*e.x;a.xa.y=c.y+q*e.y;a.xa.z=c.z+q*e.z;return Yi(a,p==b.negativeNode?b.positiveNode:
b.negativeNode,c,a.xa,e,g,q,k,n,m)}N.prototype.m={names:[{name:'KdTreeCollisionDetector',o:Sa,kind:f}],s:[Pi]};Object.keys(N);function Qi(){}x(Ta,Qi);Qi.prototype.min=0;x('alternativa.physics.collision.KdTreeCollisionDetector.MinMax.prototype.min',Qi.prototype.min);Qi.prototype.max=0;x('alternativa.physics.collision.KdTreeCollisionDetector.MinMax.prototype.max',Qi.prototype.max);Qi.prototype.m={names:[{name:'MinMax',o:Ta,kind:f}]};function wi(){this.pos=new J;this.r1=new J;this.r2=new J}x(Ha,wi);wi.prototype.pos=null;x('alternativa.physics.ContactPoint.prototype.pos',wi.prototype.pos);wi.prototype.penetration=NaN;x('alternativa.physics.ContactPoint.prototype.penetration',wi.prototype.penetration);wi.prototype.feature1=0;x('alternativa.physics.ContactPoint.prototype.feature1',wi.prototype.feature1);wi.prototype.feature2=0;x('alternativa.physics.ContactPoint.prototype.feature2',wi.prototype.feature2);wi.prototype.normalVel=NaN;
x('alternativa.physics.ContactPoint.prototype.normalVel',wi.prototype.normalVel);wi.prototype.minSepVel=NaN;x('alternativa.physics.ContactPoint.prototype.minSepVel',wi.prototype.minSepVel);wi.prototype.velByUnitImpulseN=NaN;x('alternativa.physics.ContactPoint.prototype.velByUnitImpulseN',wi.prototype.velByUnitImpulseN);wi.prototype.angularInertia1=NaN;x('alternativa.physics.ContactPoint.prototype.angularInertia1',wi.prototype.angularInertia1);wi.prototype.angularInertia2=NaN;
x('alternativa.physics.ContactPoint.prototype.angularInertia2',wi.prototype.angularInertia2);wi.prototype.r1=null;x('alternativa.physics.ContactPoint.prototype.r1',wi.prototype.r1);wi.prototype.r2=null;x('alternativa.physics.ContactPoint.prototype.r2',wi.prototype.r2);wi.prototype.accumImpulseN=NaN;x('alternativa.physics.ContactPoint.prototype.accumImpulseN',wi.prototype.accumImpulseN);wi.prototype.satisfied=!1;x('alternativa.physics.ContactPoint.prototype.satisfied',wi.prototype.satisfied);
wi.prototype.copyFrom=function(a){this.pos.copy(a.pos);this.penetration=a.penetration;this.feature1=a.feature1;this.feature2=a.feature2;this.r1.copy(a.r1);this.r2.copy(a.r2)};x('alternativa.physics.ContactPoint.prototype.copyFrom',wi.prototype.copyFrom);wi.prototype.m={names:[{name:'ContactPoint',o:Ha,kind:f}]};function Zi(){}x(uc,Zi);Zi.prototype.setDocument=t();Zi.prototype.m={names:[{name:'IDocument',o:uc,kind:l}]};function P(){}x(da,P);
P.parseAndAdd=function(a){null==$i&&($i=new THREE.MeshPhongMaterial({map:new THREE.CanvasTexture(P.createPlaneTexture('#00d000')),shininess:5}),aj=new THREE.MeshPhongMaterial({map:new THREE.CanvasTexture(P.createPlaneTexture('#ff0000')),shininess:5}),bj=new THREE.MeshPhongMaterial({map:new THREE.CanvasTexture(P.createPlaneTexture('#737373')),shininess:5}),cj=new THREE.MeshPhongMaterial({map:new THREE.CanvasTexture(dj('#00d4cd')),shininess:5}),ej=new THREE.MeshPhongMaterial({map:new THREE.CanvasTexture(dj('#737373')),shininess:5}));
var b=og(Ma).coerce([]),c=fj(a,xb),d;for(d in c){var e=c[d];b.push(e)}c=fj(a,wb);for(var g in c)e=c[g],b.push(e);a=fj(a,yb);for(var h in a)e=a[h],b.push(e);return b};x('CollisionGeometryUtils.parseAndAdd',P.parseAndAdd);Object.defineProperties(P,{Aa:{get:function(){var a=new J;Object.defineProperties(P,{Aa:{value:a,writable:!1}});return a},configurable:!0}});
function fj(a,b){var c=null,d=null,e={},g=og(Ma).coerce([]);a=a.elements('collision-geometry')[0].elements(b);for(var h in a.elementNames()){var k=a[h];switch(b){case xb:var n=Number(k.child('width')),m=Number(k.child('length'));P.Aa.x=.5*n;P.Aa.y=.5*m;P.Aa.z=0;c=new gj(P.Aa,255);d=n+'x'+m;break;case wb:hj(k.child('size'),P.Aa);P.Aa.scale(.5);c=new ij(P.Aa,255);d=P.Aa.toString();break;case yb:var p=new J,q=new J,r=new J;hj(k.child('v0'),p);hj(k.child('v1'),q);hj(k.child('v2'),r);c=new jj(p,q,r,255);
d=p.toString()+q.toString()+r.toString()}var y=c;hj(k.child('position'),P.position);hj(k.child('rotation'),P.rotation);P.ld.setRotationMatrix(P.rotation.x,P.rotation.y,P.rotation.z);y.transform.setFromMatrix3(P.ld,P.position);g.push(c);if(!e[d]){switch(b){case xb:var Q=new THREE.PlaneGeometry(n,m);var ba=$i;break;case wb:Q=new THREE.BoxGeometry(2*P.Aa.x,2*P.Aa.y,2*P.Aa.z);ba=aj;break;case yb:Q=new THREE.BufferGeometry,Q.setFromPoints([new THREE.Vector3(-p.x,p.z,p.y),new THREE.Vector3(-q.x,q.z,q.y),
new THREE.Vector3(-r.x,r.z,r.y)]),Q.setAttribute('uv',new THREE.BufferAttribute(new Float32Array([0,0,1,0,0,1]),2)),Q.computeVertexNormals(),ba=cj}e[d]={ac:new THREE.InstancedMesh(Q,ba,a.length()),count:0}}k=e[d];y=k.ac;k=k.count++>>0;var Ga=b!=yb;Ga='undefined'!==typeof Ga?Ga:!0;var ya=new THREE.Object3D;ya.position.x=-P.position.x;ya.position.y=P.position.z;ya.position.z=P.position.y;ya.rotation.copy(new THREE.Euler(-P.rotation.x,P.rotation.z,P.rotation.y,'YZX'));Ga&&ya.rotateX(-Math.PI/2);ya.updateMatrix();
y.setMatrixAt(k,ya.matrix)}for(var Ca in e)c=e[Ca],c.ac.count=c.count,c.ac.name=b,kj.scene.add(c.ac);return g}Object.defineProperties(P,{position:{get:function(){var a=new J;Object.defineProperties(P,{position:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(P,{rotation:{get:function(){var a=new J;Object.defineProperties(P,{rotation:{value:a,writable:!1}});return a},configurable:!0}});
Object.defineProperties(P,{ld:{get:function(){var a=new R;Object.defineProperties(P,{ld:{value:a,writable:!1}});return a},configurable:!0}});function hj(a,b){a=a[0];b.x=Number(a.child('x'));b.y=Number(a.child('y'));b.z=Number(a.child('z'))}var $i=void 0,aj=void 0,cj=void 0,bj=void 0,ej=void 0;
P.createPlaneTexture=function(a){var b=document.createElement('canvas');b.width=b.height=256;var c=b.getContext('2d');c.fillStyle=a;c.fillRect(0,0,b.width,b.height);c.strokeStyle='#ffffff';c.lineWidth=6;c.strokeRect(0,0,b.width,b.height);return b};x('CollisionGeometryUtils.createPlaneTexture',P.createPlaneTexture);
function dj(a){var b=document.createElement('canvas');b.width=b.height=256;var c=b.getContext('2d');c.fillStyle='#ffffff';c.fillRect(0,0,b.width,b.height);c.fillStyle=a;c.beginPath();c.moveTo(0,0);c.lineTo(b.width,b.height);c.lineTo(0,b.height);c.closePath();c.fill();c.strokeStyle='#ffffff';c.lineWidth=6;c.strokeRect(0,0,b.width,b.height);return b}P.setGrayMaterial=function(a){a.material=a.name==yb?ej:bj};x('CollisionGeometryUtils.setGrayMaterial',P.setGrayMaterial);
P.setColorMaterial=function(a){switch(a.name){case xb:a.material=$i;break;case wb:a.material=aj;break;case yb:a.material=cj}};x('CollisionGeometryUtils.setColorMaterial',P.setColorMaterial);P.prototype.m={names:[{name:da,o:da,kind:f}]};Object.keys(P);function lj(){this.Ee=this;I.call(this);this.typeNames='Group'}z(lj,oi);x(Hd,lj);lj.prototype.addedToParent=function(){this.De||Oh.valuesImpl.init(this);lj.M.addedToParent.apply(this);this.De||(ui.generateMXMLInstances(this.Ee,this,this.MXMLDescriptor),this.dispatchEvent(new G('initBindings')),this.dispatchEvent(new G(Mb)),this.De=!0)};x('org.apache.royale.html.Group.prototype.addedToParent',lj.prototype.addedToParent);lj.prototype.setMXMLDescriptor=function(a,b){this.Ee=a;this.Kg=b};
x('org.apache.royale.html.Group.prototype.setMXMLDescriptor',lj.prototype.setMXMLDescriptor);lj.prototype.generateMXMLAttributes=function(a){ui.generateMXMLProperties(this,a)};x('org.apache.royale.html.Group.prototype.generateMXMLAttributes',lj.prototype.generateMXMLAttributes);lj.prototype.pb=v('Kg');Object.defineProperties(lj.prototype,{MXMLDescriptor:{get:lj.prototype.pb}});lj.prototype.m={names:[{name:'Group',o:Hd,kind:f}],s:[ii]};function mj(){I.call(this);this.typeNames='Label'}z(mj,I);x(Jd,mj);w=mj.prototype;w.hd='';w.createElement=function(){Rh(this,'span');this.textNode=document.createTextNode(this.hd);this.element.appendChild(this.textNode);this.element.style.whiteSpace='nowrap';return this.element};w.Hb=v('hd');w.Pb=function(a){this.textNode&&(this.hd=a=null!=a?a+'':'',this.textNode.nodeValue=a,this.dispatchEvent(ue))};w.Ec=function(){return this.element.innerHTML};w.xd=function(a){this.element.innerHTML=a;this.dispatchEvent(ue)};
Object.defineProperties(mj.prototype,{text:{get:mj.prototype.Hb,set:mj.prototype.Pb},html:{get:mj.prototype.Ec,set:mj.prototype.xd}});mj.prototype.m={names:[{name:'Label',o:Jd,kind:f}]};function nj(){}x(hd,nj);w=nj.prototype;w.ie=0;w.Tc=v('zg');w.Cd=u('zg');w.Ye=v('ie');w.Yg=u('ie');w.Jb=v('Ag');w.Qb=u('Ag');Object.defineProperties(nj.prototype,{style:{get:nj.prototype.Tc,set:nj.prototype.Cd},color:{get:nj.prototype.Ye,set:nj.prototype.Yg},width:{get:nj.prototype.Jb,set:nj.prototype.Qb}});nj.prototype.m={names:[{name:'BorderStyles',o:hd,kind:f}]};function oj(a){this.body=a}x(za,oj);var pj=null;oj.create=function(a){if(null==pj)var b=new oj(a);else b=pj,pj=b.next,b.next=null,b.body=a;return b};x('alternativa.physics.BodyListItem.create',oj.create);oj.clearPool=function(){for(var a=pj;null!=a;)pj=a.next,a.next=null,a=pj};x('alternativa.physics.BodyListItem.clearPool',oj.clearPool);oj.prototype.body=null;x('alternativa.physics.BodyListItem.prototype.body',oj.prototype.body);oj.prototype.next=null;
x('alternativa.physics.BodyListItem.prototype.next',oj.prototype.next);oj.prototype.prev=null;x('alternativa.physics.BodyListItem.prototype.prev',oj.prototype.prev);oj.prototype.dispose=function(){this.prev=this.body=null;this.next=pj;pj=this};oj.prototype.m={names:[{name:'BodyListItem',o:za,kind:f}]};Object.keys(oj);function Xi(){}x(Oa,Xi);Xi.prototype.getContact=t();Xi.prototype.haveCollision=t();Xi.prototype.m={names:[{name:'ICollider',o:Oa,kind:l}]};function qj(){}x(Wa,qj);qj.prototype.getContact=xe(!1);x('alternativa.physics.collision.colliders.BoxCollider.prototype.getContact',qj.prototype.getContact);qj.prototype.haveCollision=xe(!1);x('alternativa.physics.collision.colliders.BoxCollider.prototype.haveCollision',qj.prototype.haveCollision);w=qj.prototype;
w.getFaceVertsByAxis=function(a,b,c,d){switch(b){case 0:c?(b=d[d._ci(0)],b.x=-a.x,b.y=a.y,b.z=-a.z,b=d[d._ci(1)],b.x=-a.x,b.y=-a.y,b.z=-a.z,b=d[d._ci(2)],b.x=-a.x,b.y=-a.y,b.z=a.z,b=d[d._ci(3)],b.x=-a.x,b.y=a.y):(b=d[d._ci(0)],b.x=a.x,b.y=-a.y,b.z=-a.z,b=d[d._ci(1)],b.x=a.x,b.y=a.y,b.z=-a.z,b=d[d._ci(2)],b.x=a.x,b.y=a.y,b.z=a.z,b=d[d._ci(3)],b.x=a.x,b.y=-a.y);b.z=a.z;break;case 1:c?(b=d[d._ci(0)],b.x=-a.x,b.y=-a.y,b.z=-a.z,b=d[d._ci(1)],b.x=a.x,b.y=-a.y,b.z=-a.z,b=d[d._ci(2)],b.x=a.x,b.y=-a.y,b.z=
a.z,b=d[d._ci(3)],b.x=-a.x,b.y=-a.y):(b=d[d._ci(0)],b.x=a.x,b.y=a.y,b.z=-a.z,b=d[d._ci(1)],b.x=-a.x,b.y=a.y,b.z=-a.z,b=d[d._ci(2)],b.x=-a.x,b.y=a.y,b.z=a.z,b=d[d._ci(3)],b.x=a.x,b.y=a.y);b.z=a.z;break;case 2:c?(b=d[d._ci(0)],b.x=-a.x,b.y=a.y,b.z=-a.z,b=d[d._ci(1)],b.x=a.x,b.y=a.y,b.z=-a.z,b=d[d._ci(2)],b.x=a.x,b.y=-a.y,b.z=-a.z,b=d[d._ci(3)],b.x=-a.x,b.y=-a.y,b.z=-a.z):(b=d[d._ci(0)],b.x=-a.x,b.y=-a.y,b.z=a.z,b=d[d._ci(1)],b.x=a.x,b.y=-a.y,b.z=a.z,b=d[d._ci(2)],b.x=a.x,b.y=a.y,b.z=a.z,b=d[d._ci(3)],
b.x=-a.x,b.y=a.y,b.z=a.z)}};w.clipLowX=function(a,b,c,d,e){for(var g,h,k,n,m,p=a-e,q=0,r=c[b-1>>0],y=0;y<b;y++)e=c[c._ci(y)],r.x>p?(m=d[d._ci(q)],q++,m.x=r.x,m.y=r.y,m.z=r.z,e.x<p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.x)/g,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n)):e.x>p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.x)/g,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n),r=e;return q};
w.clipHighX=function(a,b,c,d,e){for(var g,h,k,n,m,p=a+e,q=0,r=c[b-1>>0],y=0;y<b;y++)e=c[c._ci(y)],r.x<p?(m=d[d._ci(q)],q++,m.x=r.x,m.y=r.y,m.z=r.z,e.x>p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.x)/g,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n)):e.x<p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.x)/g,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n),r=e;return q};
w.clipLowY=function(a,b,c,d,e){for(var g,h,k,n,m,p=a-e,q=0,r=c[b-1>>0],y=0;y<b;y++)e=c[c._ci(y)],r.y>p?(m=d[d._ci(q)],q++,m.x=r.x,m.y=r.y,m.z=r.z,e.y<p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.y)/k,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n)):e.y>p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.y)/k,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n),r=e;return q};
w.clipHighY=function(a,b,c,d,e){for(var g,h,k,n,m,p=a+e,q=0,r=c[b-1>>0],y=0;y<b;y++)e=c[c._ci(y)],r.y<p?(m=d[d._ci(q)],q++,m.x=r.x,m.y=r.y,m.z=r.z,e.y>p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.y)/k,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n)):e.y<p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.y)/k,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n),r=e;return q};
w.clipLowZ=function(a,b,c,d,e){for(var g,h,k,n,m,p=a-e,q=0,r=c[b-1>>0],y=0;y<b;y++)e=c[c._ci(y)],r.z>p?(m=d[d._ci(q)],q++,m.x=r.x,m.y=r.y,m.z=r.z,e.z<p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.z)/n,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n)):e.z>p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.z)/n,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n),r=e;return q};
w.clipHighZ=function(a,b,c,d,e){for(var g,h,k,n,m,p=a+e,q=0,r=c[b-1>>0],y=0;y<b;y++)e=c[c._ci(y)],r.z<p?(m=d[d._ci(q)],q++,m.x=r.x,m.y=r.y,m.z=r.z,e.z>p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.z)/n,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n)):e.z<p&&(g=e.x-r.x,k=e.y-r.y,n=e.z-r.z,h=(a-r.z)/n,m=d[d._ci(q)],q++,m.x=r.x+h*g,m.y=r.y+h*k,m.z=r.z+h*n),r=e;return q};w.m={names:[{name:'BoxCollider',o:Wa,kind:f}],s:[Xi]};function Si(){this.da=new J;this.Y=new J;this.S=new J;this.La=new J;this.Ma=new J;this.T=new J;this.Na=new J;this.Oa=new J;this.ka=new (og(va))(8,!0);this.na=new (og(va))(8,!0);this.oa=new (og(Ha))(8,!0);for(var a=0;8>a;a++)this.oa[this.oa._ci(a)]=new wi,this.ka[this.ka._ci(a)]=new J,this.na[this.na._ci(a)]=new J}z(Si,qj);x(Ua,Si);w=Si.prototype;w.ma=.001;w.da=null;w.Y=null;w.S=null;w.La=null;w.Ma=null;w.T=null;w.Na=null;w.Oa=null;w.Pa=0;w.lb=NaN;w.ka=null;w.na=null;w.oa=null;w.ya=0;
w.getContact=function(a,b,c){if(!this.haveCollision(a,b))return!1;if(null!=a.body){var d=A(a,ij);a=A(b,ij)}else d=A(b,ij),a=A(a,ij);if(6>this.Pa){b=d;var e=a,g=this.da,h=this.Pa,k,n=NaN,m=!1;2<h&&(m=b,b=e,e=m,g.x=-g.x,g.y=-g.y,g.z=-g.z,h-=3,m=!0);var p=b.transform,q=e.transform,r=c.normal;p.getAxis(h,r);g=0<r.x*g.x+r.y*g.y+r.z*g.z;var y=1<<(h<<1);g&&(y<<=1);if(0!=(y&b.excludedFaces))b=!1;else{g||(r.x=-r.x,r.y=-r.y,r.z=-r.z);for(var Q=k=y=0;3>Q;Q++){q.getAxis(Q,this.Y);var ba=this.Y.x*r.x+this.Y.y*
r.y+this.Y.z*r.z,Ga=0>ba?-ba:ba;Ga>k&&(k=Ga,n=ba,y=Q)}q.getAxis(y,this.Y);this.getFaceVertsByAxis(e.hs,y,0>n,this.ka);q.transformPointsN(this.ka,this.na,4);p.transformPointsTransposedN(this.na,this.ka,4);b:{e=b.hs;n=4;switch(h){case 0:if(0==(n=this.clipLowZ(-e.z,n,this.ka,this.na,this.ma)))break;if(0==(n=this.clipHighZ(e.z,n,this.na,this.ka,this.ma)))break;if(0==(n=this.clipLowY(-e.y,n,this.ka,this.na,this.ma)))break;e=this.clipHighY(e.y,n,this.na,this.ka,this.ma);break b;case 1:if(0==(n=this.clipLowZ(-e.z,
n,this.ka,this.na,this.ma)))break;if(0==(n=this.clipHighZ(e.z,n,this.na,this.ka,this.ma)))break;if(0==(n=this.clipLowX(-e.x,n,this.ka,this.na,this.ma)))break;e=this.clipHighX(e.x,n,this.na,this.ka,this.ma);break b;case 2:if(0!=(n=this.clipLowX(-e.x,n,this.ka,this.na,this.ma))&&0!=(n=this.clipHighX(e.x,n,this.na,this.ka,this.ma))&&0!=(n=this.clipLowY(-e.y,n,this.ka,this.na,this.ma))){e=this.clipHighY(e.y,n,this.na,this.ka,this.ma);break b}}e=0}for(n=this.ya=0;n<e;n++){y=this.ka[n];b:{k=b.hs;switch(h){case 0:k=
g?y.x+k.x:k.x-y.x;break b;case 1:k=g?y.y+k.y:k.y-y.y;break b;case 2:k=g?y.z+k.z:k.z-y.z;break b}k=0}k>-this.ma&&(Q=this.oa[this.ya++],ba=Q.pos,ba.x=p.a*y.x+p.b*y.y+p.c*y.z+p.d,ba.y=p.e*y.x+p.f*y.y+p.g*y.z+p.h,ba.z=p.i*y.x+p.j*y.y+p.k*y.z+p.l,y=Q.r1,y.x=ba.x-p.d,y.y=ba.y-p.h,y.z=ba.z-p.l,y=Q.r2,y.x=ba.x-q.d,y.y=ba.y-q.h,y.z=ba.z-q.l,Q.penetration=k)}m&&(r.x=-r.x,r.y=-r.y,r.z=-r.z);if(4<this.ya)for(b=0;4<this.ya;){p=1E10;q=A(this.oa[this.ya-1>>0],wi).pos;for(m=0;m<this.ya;m++)h=A(this.oa[m],wi).pos,
r=h.x-q.x,g=h.y-q.y,q=h.z-q.z,q=r*r+g*g+q*q,q<p&&(p=q,b=m),q=h;p=this.oa[this.oa._ci((0==b?this.ya-1:b-1)>>0)];m=this.oa[this.oa._ci(b)];q=p.pos;h=m.pos;h.x=.5*(q.x+h.x);h.y=.5*(q.y+h.y);h.z=.5*(q.z+h.z);m.penetration=.5*(p.penetration+m.penetration);if(0<b){for(m=b;m<this.ya;m++)this.oa[this.oa._ci(m-1>>0)]=this.oa[this.oa._ci(m)];this.oa[this.oa._ci(this.ya-1>>0)]=p}this.ya--}for(n=0;n<this.ya;n++)Q=c.points[c.points._ci(n)],Q.copyFrom(this.oa[n]);c.pcount=this.ya;b=!0}if(!b)return!1}else this.Pa-=
6,m=d,r=a,p=this.da,n=this.Pa/3>>0,y=this.Pa%3>>0,b=m.transform,h=r.transform,b.getAxis(n,this.S),h.getAxis(y,this.T),k=c.normal,k.x=this.S.y*this.T.z-this.S.z*this.T.y,k.y=this.S.z*this.T.x-this.S.x*this.T.z,k.z=this.S.x*this.T.y-this.S.y*this.T.x,q=1/Math.sqrt(k.x*k.x+k.y*k.y+k.z*k.z),k.x*=q,k.y*=q,k.z*=q,0>k.x*p.x+k.y*p.y+k.z*p.z&&(k.x=-k.x,k.y=-k.y,k.z=-k.z),g=m.hs.x,e=m.hs.y,Q=m.hs.z,m=r.hs.x,p=r.hs.y,r=r.hs.z,0==n?g=0:0<k.x*b.a+k.y*b.e+k.z*b.i&&(g=-g),0==y?m=0:0>k.x*h.a+k.y*h.e+k.z*h.i&&(m=
-m),1==n?e=0:0<k.x*b.b+k.y*b.f+k.z*b.j&&(e=-e),1==y?p=0:0>k.x*h.b+k.y*h.f+k.z*h.j&&(p=-p),2==n?Q=0:0<k.x*b.c+k.y*b.g+k.z*b.k&&(Q=-Q),2==y?r=0:0>k.x*h.c+k.y*h.g+k.z*h.k&&(r=-r),n=b.a*g+b.b*e+b.c*Q+b.d,y=b.e*g+b.f*e+b.g*Q+b.h,k=b.i*g+b.j*e+b.k*Q+b.l,g=m,e=p,Q=r,m=h.a*g+h.b*e+h.c*Q+h.d,p=h.e*g+h.f*e+h.g*Q+h.h,r=h.i*g+h.j*e+h.k*Q+h.l,q=this.S.x*this.T.x+this.S.y*this.T.y+this.S.z*this.T.z,ba=q*q-1,g=m-n,e=p-y,Q=r-k,Ga=this.S.x*g+this.S.y*e+this.S.z*Q,e=this.T.x*g+this.T.y*e+this.T.z*Q,g=(e*q-Ga)/ba,Q=
(e-Ga*q)/ba,c.pcount=1,q=c.points[0],e=q.pos,q.pos.x=.5*(n+this.S.x*g+m+this.T.x*Q),q.pos.y=.5*(y+this.S.y*g+p+this.T.y*Q),q.pos.z=.5*(k+this.S.z*g+r+this.T.z*Q),m=q.r1,m.x=e.x-b.d,m.y=e.y-b.h,m.z=e.z-b.l,m=q.r2,m.x=e.x-h.d,m.y=e.y-h.h,m.z=e.z-h.l,q.penetration=this.lb;c.body1=d.body;c.body2=a.body;return!0};x('alternativa.physics.collision.colliders.BoxBoxCollider.prototype.getContact',Si.prototype.getContact);
Si.prototype.haveCollision=function(a,b){this.lb=1E10;if(null!=a.body){var c=A(a,ij);a=A(b,ij)}else c=A(b,ij),a=A(a,ij);b=c.transform;var d=a.transform;this.da.x=b.d-d.d;this.da.y=b.h-d.h;this.da.z=b.l-d.l;this.S.x=b.a;this.S.y=b.e;this.S.z=b.i;if(!rj(this,c,a,this.S,0,this.da))return!1;this.La.x=b.b;this.La.y=b.f;this.La.z=b.j;if(!rj(this,c,a,this.La,1,this.da))return!1;this.Ma.x=b.c;this.Ma.y=b.g;this.Ma.z=b.k;if(!rj(this,c,a,this.Ma,2,this.da))return!1;this.T.x=d.a;this.T.y=d.e;this.T.z=d.i;if(!rj(this,
c,a,this.T,3,this.da))return!1;this.Na.x=d.b;this.Na.y=d.f;this.Na.z=d.j;if(!rj(this,c,a,this.Na,4,this.da))return!1;this.Oa.x=d.c;this.Oa.y=d.g;this.Oa.z=d.k;return rj(this,c,a,this.Oa,5,this.da)&&sj(this,c,a,this.S,this.T,6,this.da)&&sj(this,c,a,this.S,this.Na,7,this.da)&&sj(this,c,a,this.S,this.Oa,8,this.da)&&sj(this,c,a,this.La,this.T,9,this.da)&&sj(this,c,a,this.La,this.Na,10,this.da)&&sj(this,c,a,this.La,this.Oa,11,this.da)&&sj(this,c,a,this.Ma,this.T,12,this.da)&&sj(this,c,a,this.Ma,this.Na,
13,this.da)&&sj(this,c,a,this.Ma,this.Oa,14,this.da)?!0:!1};x('alternativa.physics.collision.colliders.BoxBoxCollider.prototype.haveCollision',Si.prototype.haveCollision);function rj(a,b,c,d,e,g){b=a.overlapOnAxis(b,c,d,g);if(b<-a.ma)return!1;b+a.ma<a.lb&&(a.lb=b,a.Pa=e);return!0}
function sj(a,b,c,d,e,g,h){a.Y.x=d.y*e.z-d.z*e.y;a.Y.y=d.z*e.x-d.x*e.z;a.Y.z=d.x*e.y-d.y*e.x;d=a.Y.x*a.Y.x+a.Y.y*a.Y.y+a.Y.z*a.Y.z;if(1E-4>d)return!0;d=1/Math.sqrt(d);a.Y.x*=d;a.Y.y*=d;a.Y.z*=d;b=a.overlapOnAxis(b,c,a.Y,h);if(b<-a.ma)return!1;b+a.ma<a.lb&&(a.lb=b,a.Pa=g);return!0}
Si.prototype.overlapOnAxis=function(a,b,c,d){var e=a.transform,g=(e.a*c.x+e.e*c.y+e.i*c.z)*a.hs.x;0>g&&(g=-g);var h=g;g=(e.b*c.x+e.f*c.y+e.j*c.z)*a.hs.y;0>g&&(g=-g);h+=g;g=(e.c*c.x+e.g*c.y+e.k*c.z)*a.hs.z;0>g&&(g=-g);h+=g;e=b.transform;g=(e.a*c.x+e.e*c.y+e.i*c.z)*b.hs.x;0>g&&(g=-g);h+=g;g=(e.b*c.x+e.f*c.y+e.j*c.z)*b.hs.y;0>g&&(g=-g);h+=g;g=(e.c*c.x+e.g*c.y+e.k*c.z)*b.hs.z;0>g&&(g=-g);h+=g;g=d.x*c.x+d.y*c.y+d.z*c.z;0>g&&(g=-g);return h-g};
x('alternativa.physics.collision.colliders.BoxBoxCollider.prototype.overlapOnAxis',Si.prototype.overlapOnAxis);Si.prototype.m={names:[{name:'BoxBoxCollider',o:Ua,kind:f}]};function tj(){this.pos=new J}x(Va,tj);tj.prototype.pos=null;x('alternativa.physics.collision.colliders.BoxBoxCollider.CollisionPointTmp.prototype.pos',tj.prototype.pos);tj.prototype.penetration=NaN;x('alternativa.physics.collision.colliders.BoxBoxCollider.CollisionPointTmp.prototype.penetration',tj.prototype.penetration);
tj.prototype.feature1=0;x('alternativa.physics.collision.colliders.BoxBoxCollider.CollisionPointTmp.prototype.feature1',tj.prototype.feature1);tj.prototype.feature2=0;x('alternativa.physics.collision.colliders.BoxBoxCollider.CollisionPointTmp.prototype.feature2',tj.prototype.feature2);tj.prototype.m={names:[{name:'CollisionPointTmp',o:Va,kind:f}]};function ij(a,b){this.hs=new J;L.call(this,L.BOX,b);this.hs.copy(a)}z(ij,L);x(ab,ij);ij.prototype.hs=null;x('alternativa.physics.collision.primitives.CollisionBox.prototype.hs',ij.prototype.hs);ij.prototype.excludedFaces=0;x('alternativa.physics.collision.primitives.CollisionBox.prototype.excludedFaces',ij.prototype.excludedFaces);
ij.prototype.calculateAABB=function(){var a=this.transform;var b=0>a.a?-a.a:a.a;var c=0>a.b?-a.b:a.b;var d=0>a.c?-a.c:a.c;this.aabb.maxX=this.hs.x*b+this.hs.y*c+this.hs.z*d;this.aabb.minX=-this.aabb.maxX;b=0>a.e?-a.e:a.e;c=0>a.f?-a.f:a.f;d=0>a.g?-a.g:a.g;this.aabb.maxY=this.hs.x*b+this.hs.y*c+this.hs.z*d;this.aabb.minY=-this.aabb.maxY;b=0>a.i?-a.i:a.i;c=0>a.j?-a.j:a.j;d=0>a.k?-a.k:a.k;this.aabb.maxZ=this.hs.x*b+this.hs.y*c+this.hs.z*d;this.aabb.minZ=-this.aabb.maxZ;this.aabb.minX+=a.d;this.aabb.maxX+=
a.d;this.aabb.minY+=a.h;this.aabb.maxY+=a.h;this.aabb.minZ+=a.l;this.aabb.maxZ+=a.l;return this.aabb};x('alternativa.physics.collision.primitives.CollisionBox.prototype.calculateAABB',ij.prototype.calculateAABB);ij.prototype.copyFrom=function(a){a=A(a,ij);if(null==a)return this;ij.M.copyFrom.apply(this,[a]);this.hs.copy(a.hs);return this};x('alternativa.physics.collision.primitives.CollisionBox.prototype.copyFrom',ij.prototype.copyFrom);
ij.prototype.createPrimitive=function(){return new ij(this.hs,this.collisionGroup)};
ij.prototype.raycast=function(a,b,c,d){var e=-1,g=1E308;var h=a.x-this.transform.d;var k=a.y-this.transform.h;a=a.z-this.transform.l;var n=this.transform.a*h+this.transform.e*k+this.transform.i*a,m=this.transform.b*h+this.transform.f*k+this.transform.j*a,p=this.transform.c*h+this.transform.g*k+this.transform.k*a;h=this.transform.a*b.x+this.transform.e*b.y+this.transform.i*b.z;k=this.transform.b*b.x+this.transform.f*b.y+this.transform.j*b.z;a=this.transform.c*b.x+this.transform.g*b.y+this.transform.k*
b.z;if(h<c&&h>-c){if(n<-this.hs.x||n>this.hs.x)return-1}else if(b=(-this.hs.x-n)/h,h=(this.hs.x-n)/h,b<h?(b>e&&(e=b,d.x=-1,d.y=d.z=0),h<g&&(g=h)):(h>e&&(e=h,d.x=1,d.y=d.z=0),b<g&&(g=b)),g<e)return-1;if(k<c&&k>-c){if(m<-this.hs.y||m>this.hs.y)return-1}else if(b=(-this.hs.y-m)/k,h=(this.hs.y-m)/k,b<h?(b>e&&(e=b,d.y=-1,d.x=d.z=0),h<g&&(g=h)):(h>e&&(e=h,d.y=1,d.x=d.z=0),b<g&&(g=b)),g<e)return-1;if(a<c&&a>-c){if(p<-this.hs.z||p>this.hs.z)return-1}else if(b=(-this.hs.z-p)/a,h=(this.hs.z-p)/a,b<h?(b>e&&
(e=b,d.z=-1,d.x=d.y=0),h<g&&(g=h)):(h>e&&(e=h,d.z=1,d.x=d.y=0),b<g&&(g=b)),g<e)return-1;h=d.x;k=d.y;a=d.z;d.x=this.transform.a*h+this.transform.b*k+this.transform.c*a;d.y=this.transform.e*h+this.transform.f*k+this.transform.g*a;d.z=this.transform.i*h+this.transform.j*k+this.transform.k*a;return e};x('alternativa.physics.collision.primitives.CollisionBox.prototype.raycast',ij.prototype.raycast);ij.prototype.toString=function(){return'[CollisionBox hs='+this.hs+']'};
x('alternativa.physics.collision.primitives.CollisionBox.prototype.toString',ij.prototype.toString);ij.prototype.m={names:[{name:'CollisionBox',o:ab,kind:f}]};function uj(){}x(gb,uj);uj.prototype.satisfied=!1;x('alternativa.physics.constraints.Constraint.prototype.satisfied',uj.prototype.satisfied);uj.prototype.world=null;x('alternativa.physics.constraints.Constraint.prototype.world',uj.prototype.world);uj.prototype.preProcess=t();x('alternativa.physics.constraints.Constraint.prototype.preProcess',uj.prototype.preProcess);uj.prototype.apply=t();x('alternativa.physics.constraints.Constraint.prototype.apply',uj.prototype.apply);
uj.prototype.m={names:[{name:'Constraint',o:gb,kind:f}]};function ch(a){var b=typeof a;if(null==a||b==Zb||'boolean'==b)throw new TypeError(Pb);B(a,Ng)?a.va||(a=new Ng(a),a.Wa=!0):(a=a.toString(),b=a.indexOf('@')>>0,-1!=b&&(a=a.slice(b+1)),a=new Ng(a),a.Wa=!0);return a};function jj(a,b,c,d){this.v0=new J;this.v1=new J;this.v2=new J;this.e0=new J;this.e1=new J;this.e2=new J;L.call(this,L.TRIANGLE,d);this.v0.copy(a);this.v1.copy(b);this.v2.copy(c);this.e0.diff(b,a);this.e0.normalize();this.e1.diff(c,b);this.e1.normalize();this.e2.diff(a,c);this.e2.normalize()}z(jj,L);x(db,jj);jj.prototype.v0=null;x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.v0',jj.prototype.v0);jj.prototype.v1=null;
x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.v1',jj.prototype.v1);jj.prototype.v2=null;x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.v2',jj.prototype.v2);jj.prototype.e0=null;x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.e0',jj.prototype.e0);jj.prototype.e1=null;x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.e1',jj.prototype.e1);jj.prototype.e2=null;
x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.e2',jj.prototype.e2);
jj.prototype.calculateAABB=function(){var a=.005*this.transform.c,b=.005*this.transform.g,c=.005*this.transform.k;var d=this.v0.x*this.transform.a+this.v0.y*this.transform.b;this.aabb.minX=this.aabb.maxX=d+a;var e=d-a;e>this.aabb.maxX?this.aabb.maxX=e:e<this.aabb.minX&&(this.aabb.minX=e);d=this.v0.x*this.transform.e+this.v0.y*this.transform.f;this.aabb.minY=this.aabb.maxY=d+b;e=d-b;e>this.aabb.maxY?this.aabb.maxY=e:e<this.aabb.minY&&(this.aabb.minY=e);d=this.v0.x*this.transform.i+this.v0.y*this.transform.j;
this.aabb.minZ=this.aabb.maxZ=d+c;e=d-c;e>this.aabb.maxZ?this.aabb.maxZ=e:e<this.aabb.minZ&&(this.aabb.minZ=e);d=this.v1.x*this.transform.a+this.v1.y*this.transform.b;e=d+a;e>this.aabb.maxX?this.aabb.maxX=e:e<this.aabb.minX&&(this.aabb.minX=e);e=d-a;e>this.aabb.maxX?this.aabb.maxX=e:e<this.aabb.minX&&(this.aabb.minX=e);d=this.v1.x*this.transform.e+this.v1.y*this.transform.f;e=d+b;e>this.aabb.maxY?this.aabb.maxY=e:e<this.aabb.minY&&(this.aabb.minY=e);e=d-b;e>this.aabb.maxY?this.aabb.maxY=e:e<this.aabb.minY&&
(this.aabb.minY=e);d=this.v1.x*this.transform.i+this.v1.y*this.transform.j;e=d+c;e>this.aabb.maxZ?this.aabb.maxZ=e:e<this.aabb.minZ&&(this.aabb.minZ=e);e=d-c;e>this.aabb.maxZ?this.aabb.maxZ=e:e<this.aabb.minZ&&(this.aabb.minZ=e);d=this.v2.x*this.transform.a+this.v2.y*this.transform.b;e=d+a;e>this.aabb.maxX?this.aabb.maxX=e:e<this.aabb.minX&&(this.aabb.minX=e);e=d-a;e>this.aabb.maxX?this.aabb.maxX=e:e<this.aabb.minX&&(this.aabb.minX=e);d=this.v2.x*this.transform.e+this.v2.y*this.transform.f;e=d+b;
e>this.aabb.maxY?this.aabb.maxY=e:e<this.aabb.minY&&(this.aabb.minY=e);e=d-b;e>this.aabb.maxY?this.aabb.maxY=e:e<this.aabb.minY&&(this.aabb.minY=e);d=this.v2.x*this.transform.i+this.v2.y*this.transform.j;e=d+c;e>this.aabb.maxZ?this.aabb.maxZ=e:e<this.aabb.minZ&&(this.aabb.minZ=e);e=d-c;e>this.aabb.maxZ?this.aabb.maxZ=e:e<this.aabb.minZ&&(this.aabb.minZ=e);this.aabb.minX+=this.transform.d;this.aabb.maxX+=this.transform.d;this.aabb.minY+=this.transform.h;this.aabb.maxY+=this.transform.h;this.aabb.minZ+=
this.transform.l;this.aabb.maxZ+=this.transform.l;return this.aabb};x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.calculateAABB',jj.prototype.calculateAABB);
jj.prototype.raycast=function(a,b,c,d){var e=b.x*this.transform.c+b.y*this.transform.g+b.z*this.transform.k;if(e<c&&e>-c)return-1;c=a.x-this.transform.d;var g=a.y-this.transform.h;a=a.z-this.transform.l;e=-(c*this.transform.c+g*this.transform.g+a*this.transform.k)/e;if(0>e)return-1;var h=c*this.transform.b+g*this.transform.f+a*this.transform.j;c=c*this.transform.a+g*this.transform.e+a*this.transform.i+e*(b.x*this.transform.a+b.y*this.transform.e+b.z*this.transform.i);g=h+e*(b.x*this.transform.b+b.y*
this.transform.f+b.z*this.transform.j);if(0>this.e0.x*(g-this.v0.y)-this.e0.y*(c-this.v0.x)||0>this.e1.x*(g-this.v1.y)-this.e1.y*(c-this.v1.x)||0>this.e2.x*(g-this.v2.y)-this.e2.y*(c-this.v2.x))return-1;d.x=this.transform.c;d.y=this.transform.g;d.z=this.transform.k;return e};x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.raycast',jj.prototype.raycast);
jj.prototype.copyFrom=function(a){jj.M.copyFrom.apply(this,[a]);a=A(a,jj);null!=a&&(this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.e0.copy(a.e0),this.e1.copy(a.e1),this.e2.copy(a.e2));return this};x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.copyFrom',jj.prototype.copyFrom);jj.prototype.toString=function(){return'[CollisionTriangle v0='+this.v0+', v1='+this.v1+', v2='+this.v2+']'};
x('alternativa.physics.collision.primitives.CollisionTriangle.prototype.toString',jj.prototype.toString);jj.prototype.createPrimitive=function(){return new jj(this.v0,this.v1,this.v2,this.collisionGroup)};jj.prototype.m={names:[{name:'CollisionTriangle',o:db,kind:f}]};function S(a,b,c,d){this.w='undefined'!==typeof a?a:1;this.x='undefined'!==typeof b?b:0;this.y='undefined'!==typeof c?c:0;this.z='undefined'!==typeof d?d:0}x(ua,S);S.prototype.w=NaN;x('alternativa.math.Quaternion.prototype.w',S.prototype.w);S.prototype.x=NaN;x('alternativa.math.Quaternion.prototype.x',S.prototype.x);S.prototype.y=NaN;x('alternativa.math.Quaternion.prototype.y',S.prototype.y);S.prototype.z=NaN;x('alternativa.math.Quaternion.prototype.z',S.prototype.z);
S.multiply=function(a,b,c){c.w=a.w*b.w-a.x*b.x-a.y*b.y-a.z*b.z;c.x=a.w*b.x+a.x*b.w+a.y*b.z-a.z*b.y;c.y=a.w*b.y+a.y*b.w+a.z*b.x-a.x*b.z;c.z=a.w*b.z+a.z*b.w+a.x*b.y-a.y*b.x};x('alternativa.math.Quaternion.multiply',S.multiply);S.createFromAxisAngle=function(a,b){var c=new S;c.setFromAxisAngle(a,b);return c};x('alternativa.math.Quaternion.createFromAxisAngle',S.createFromAxisAngle);S.createFromAxisAngleComponents=function(a,b,c,d){var e=new S;e.setFromAxisAngleComponents(a,b,c,d);return e};
x('alternativa.math.Quaternion.createFromAxisAngleComponents',S.createFromAxisAngleComponents);S.createFromEulerAnglesXYZ=function(a,b,c){var d=new S;d.setFromAxisAngleComponents(1,0,0,a);vj.setFromAxisAngleComponents(0,1,0,b);d.append(vj);d.normalize();vj.setFromAxisAngleComponents(0,0,1,c);d.append(vj);d.normalize();return d};x('alternativa.math.Quaternion.createFromEulerAnglesXYZ',S.createFromEulerAnglesXYZ);
S.prototype.reset=function(a,b,c,d){this.w='undefined'!==typeof a?a:1;this.x='undefined'!==typeof b?b:0;this.y='undefined'!==typeof c?c:0;this.z='undefined'!==typeof d?d:0;return this};x('alternativa.math.Quaternion.prototype.reset',S.prototype.reset);S.prototype.normalize=function(){var a=this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z;0==a?this.w=1:(a=1/Math.sqrt(a),this.w*=a,this.x*=a,this.y*=a,this.z*=a);return this};x('alternativa.math.Quaternion.prototype.normalize',S.prototype.normalize);
S.prototype.prepend=function(a){var b=this.w*a.x+this.x*a.w+this.y*a.z-this.z*a.y,c=this.w*a.y+this.y*a.w+this.z*a.x-this.x*a.z,d=this.w*a.z+this.z*a.w+this.x*a.y-this.y*a.x;this.w=this.w*a.w-this.x*a.x-this.y*a.y-this.z*a.z;this.x=b;this.y=c;this.z=d;return this};x('alternativa.math.Quaternion.prototype.prepend',S.prototype.prepend);
S.prototype.append=function(a){var b=a.w*this.x+a.x*this.w+a.y*this.z-a.z*this.y,c=a.w*this.y+a.y*this.w+a.z*this.x-a.x*this.z,d=a.w*this.z+a.z*this.w+a.x*this.y-a.y*this.x;this.w=a.w*this.w-a.x*this.x-a.y*this.y-a.z*this.z;this.x=b;this.y=c;this.z=d;return this};x('alternativa.math.Quaternion.prototype.append',S.prototype.append);
S.prototype.rotateByVector=function(a){var b=a.x*this.w+a.y*this.z-a.z*this.y,c=a.y*this.w+a.z*this.x-a.x*this.z,d=a.z*this.w+a.x*this.y-a.y*this.x;this.w=-a.x*this.x-a.y*this.y-a.z*this.z;this.x=b;this.y=c;this.z=d;return this};x('alternativa.math.Quaternion.prototype.rotateByVector',S.prototype.rotateByVector);
S.prototype.addScaledVector=function(a,b){var c=a.x*b,d=a.y*b;a=a.z*b;b=c*this.w+d*this.z-a*this.y;var e=d*this.w+a*this.x-c*this.z,g=a*this.w+c*this.y-d*this.x;this.w+=.5*(-this.x*c-this.y*d-this.z*a);this.x+=.5*b;this.y+=.5*e;this.z+=.5*g;c=this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z;0==c?this.w=1:(c=1/Math.sqrt(c),this.w*=c,this.x*=c,this.y*=c,this.z*=c);return this};x('alternativa.math.Quaternion.prototype.addScaledVector',S.prototype.addScaledVector);
S.prototype.toMatrix3=function(a){var b=2*this.x*this.x,c=2*this.y*this.y,d=2*this.z*this.z,e=2*this.x*this.y,g=2*this.y*this.z,h=2*this.z*this.x,k=2*this.w*this.x,n=2*this.w*this.y,m=2*this.w*this.z;a.a=1-c-d;a.b=e-m;a.c=h+n;a.e=e+m;a.f=1-b-d;a.g=g-k;a.i=h-n;a.j=g+k;a.k=1-b-c;return this};x('alternativa.math.Quaternion.prototype.toMatrix3',S.prototype.toMatrix3);
S.prototype.toMatrix4=function(a){var b=2*this.x*this.x,c=2*this.y*this.y,d=2*this.z*this.z,e=2*this.x*this.y,g=2*this.y*this.z,h=2*this.z*this.x,k=2*this.w*this.x,n=2*this.w*this.y,m=2*this.w*this.z;a.a=1-c-d;a.b=e-m;a.c=h+n;a.e=e+m;a.f=1-b-d;a.g=g-k;a.i=h-n;a.j=g+k;a.k=1-b-c;return this};x('alternativa.math.Quaternion.prototype.toMatrix4',S.prototype.toMatrix4);S.prototype.length=function(){return Math.sqrt(this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z)};
x('alternativa.math.Quaternion.prototype.length',S.prototype.length);S.prototype.lengthSqr=function(){return this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z};x('alternativa.math.Quaternion.prototype.lengthSqr',S.prototype.lengthSqr);S.prototype.setFromAxisAngle=function(a,b){this.w=Math.cos(.5*b);b=Math.sin(.5*b)/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);this.x=a.x*b;this.y=a.y*b;this.z=a.z*b;return this};x('alternativa.math.Quaternion.prototype.setFromAxisAngle',S.prototype.setFromAxisAngle);
S.prototype.setFromAxisAngleComponents=function(a,b,c,d){this.w=Math.cos(.5*d);d=Math.sin(.5*d)/Math.sqrt(a*a+b*b+c*c);this.x=a*d;this.y=b*d;this.z=c*d;return this};x('alternativa.math.Quaternion.prototype.setFromAxisAngleComponents',S.prototype.setFromAxisAngleComponents);
S.prototype.toAxisVector=function(a){a='undefined'!==typeof a?a:null;(-1>this.w||1<this.w)&&this.normalize();null==a&&(a=new J);if(-1<this.w&&1>this.w)if(0==this.w)a.x=this.x,a.y=this.y,a.z=this.z;else{var b=2*Math.acos(this.w),c=1/Math.sqrt(1-this.w*this.w);a.x=this.x*c*b;a.y=this.y*c*b;a.z=this.z*c*b}else a.x=0,a.y=0,a.z=0;return a};x('alternativa.math.Quaternion.prototype.toAxisVector',S.prototype.toAxisVector);
S.prototype.getEulerAngles=function(a){var b=2*this.x*this.x,c=2*this.y*this.y,d=2*this.z*this.z,e=2*this.x*this.y,g=2*this.w*this.z,h=1-c-d,k=e-g;e+=g;d=1-b-d;g=2*this.z*this.x-2*this.w*this.y;var n=2*this.y*this.z+2*this.w*this.x;b=1-b-c;-1<g&&1>g?null==a?a=new J(Math.atan2(n,b),-Math.asin(g),Math.atan2(e,h)):(a.x=Math.atan2(n,b),a.y=-Math.asin(g),a.z=Math.atan2(e,h)):null==a?a=new J(0,.5*(-1>=g?Math.PI:-Math.PI),Math.atan2(-k,d)):(a.x=0,a.y=-1>=g?Math.PI:-Math.PI,a.y*=.5,a.z=Math.atan2(-k,d));
return a};x('alternativa.math.Quaternion.prototype.getEulerAngles',S.prototype.getEulerAngles);S.prototype.setFromEulerAnglesXYZ=function(a,b,c){this.setFromAxisAngleComponents(1,0,0,a);vj.setFromAxisAngleComponents(0,1,0,b);this.append(vj);this.normalize();vj.setFromAxisAngleComponents(0,0,1,c);this.append(vj);this.normalize()};x('alternativa.math.Quaternion.prototype.setFromEulerAnglesXYZ',S.prototype.setFromEulerAnglesXYZ);S.prototype.conjugate=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};
S.prototype.nlerp=function(a,b,c){var d=1-c;this.w=a.w*d+b.w*c;this.x=a.x*d+b.x*c;this.y=a.y*d+b.y*c;this.z=a.z*d+b.z*c;d=this.w*this.w+this.x*this.x+this.y*this.y+this.z*this.z;0==d?this.w=1:(d=1/Math.sqrt(d),this.w*=d,this.x*=d,this.y*=d,this.z*=d);return this};x('alternativa.math.Quaternion.prototype.nlerp',S.prototype.nlerp);S.prototype.subtract=function(a){this.w-=a.w;this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};x('alternativa.math.Quaternion.prototype.subtract',S.prototype.subtract);
S.prototype.diff=function(a,b){this.w=b.w-a.w;this.x=b.x-a.x;this.y=b.y-a.y;this.z=b.z-a.z;return this};x('alternativa.math.Quaternion.prototype.diff',S.prototype.diff);S.prototype.copy=function(a){this.w=a.w;this.x=a.x;this.y=a.y;this.z=a.z;return this};x('alternativa.math.Quaternion.prototype.copy',S.prototype.copy);S.prototype.clone=function(){return new S(this.w,this.x,this.y,this.z)};x('alternativa.math.Quaternion.prototype.clone',S.prototype.clone);
S.prototype.toString=function(){return'['+this.w+aa+this.x+aa+this.y+aa+this.z+']'};x('alternativa.math.Quaternion.prototype.toString',S.prototype.toString);
S.prototype.slerp=function(a,b,c){var d=1,e=a.w*b.w+a.x*b.x+a.y*b.y+a.z*b.z;0>e&&(e=-e,d=-1);if(.001>1-e)e=1-c,c*=d,this.w=a.w*e+b.w*c,this.x=a.x*e+b.x*c,this.y=a.y*e+b.y*c,this.z=a.z*e+b.z*c,this.normalize();else{var g=Math.acos(e),h=Math.sin(g);e=Math.sin((1-c)*g)/h;c=Math.sin(c*g)/h*d;this.w=a.w*e+b.w*c;this.x=a.x*e+b.x*c;this.y=a.y*e+b.y*c;this.z=a.z*e+b.z*c}return this};x('alternativa.math.Quaternion.prototype.slerp',S.prototype.slerp);var vj=new S;
S.prototype.m={names:[{name:'Quaternion',o:ua,kind:f}]};Object.keys(S);function wj(a){this.primitive=a}x(Ea,wj);var xj=null;wj.create=function(a){if(null==xj)var b=new wj(a);else b=xj,b.primitive=a,xj=b.next,b.next=null;return b};x('alternativa.physics.CollisionPrimitiveListItem.create',wj.create);wj.clearPool=function(){for(var a=xj;null!=a;)xj=a.next,a.next=null,a=xj};x('alternativa.physics.CollisionPrimitiveListItem.clearPool',wj.clearPool);wj.prototype.primitive=null;x('alternativa.physics.CollisionPrimitiveListItem.prototype.primitive',wj.prototype.primitive);
wj.prototype.next=null;x('alternativa.physics.CollisionPrimitiveListItem.prototype.next',wj.prototype.next);wj.prototype.prev=null;x('alternativa.physics.CollisionPrimitiveListItem.prototype.prev',wj.prototype.prev);wj.prototype.dispose=function(){this.prev=this.primitive=null;this.next=xj;xj=this};x('alternativa.physics.CollisionPrimitiveListItem.prototype.dispose',wj.prototype.dispose);wj.prototype.m={names:[{name:'CollisionPrimitiveListItem',o:Ea,kind:f}]};Object.keys(wj);function yj(){}x(yd,yj);yj.prototype.m={names:[{name:'IFileModel',o:yd,kind:l}]};function J(a,b,c){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0}x(va,J);J.prototype.x=NaN;x('alternativa.math.Vector3.prototype.x',J.prototype.x);J.prototype.y=NaN;x('alternativa.math.Vector3.prototype.y',J.prototype.y);J.prototype.z=NaN;x('alternativa.math.Vector3.prototype.z',J.prototype.z);J.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};x('alternativa.math.Vector3.prototype.length',J.prototype.length);
J.prototype.lengthSqr=function(){return this.x*this.x+this.y*this.y+this.z*this.z};x('alternativa.math.Vector3.prototype.lengthSqr',J.prototype.lengthSqr);J.prototype.setLength=function(a){0==this.x*this.x+this.y*this.y+this.z*this.z?this.x=a:(a/=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z),this.x*=a,this.y*=a,this.z*=a);return this};x('alternativa.math.Vector3.prototype.setLength',J.prototype.setLength);
J.prototype.normalize=function(){var a=this.x*this.x+this.y*this.y+this.z*this.z;0==a?this.x=1:(a=Math.sqrt(a),this.x/=a,this.y/=a,this.z/=a);return this};x('alternativa.math.Vector3.prototype.normalize',J.prototype.normalize);J.prototype.add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z;return this};x('alternativa.math.Vector3.prototype.add',J.prototype.add);J.prototype.addScaled=function(a,b){this.x+=a*b.x;this.y+=a*b.y;this.z+=a*b.z;return this};
x('alternativa.math.Vector3.prototype.addScaled',J.prototype.addScaled);J.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;return this};x('alternativa.math.Vector3.prototype.subtract',J.prototype.subtract);J.prototype.sum=function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this};x('alternativa.math.Vector3.prototype.sum',J.prototype.sum);J.prototype.diff=function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this};
x('alternativa.math.Vector3.prototype.diff',J.prototype.diff);J.prototype.scale=function(a){this.x*=a;this.y*=a;this.z*=a;return this};x('alternativa.math.Vector3.prototype.scale',J.prototype.scale);J.prototype.reverse=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this};x('alternativa.math.Vector3.prototype.reverse',J.prototype.reverse);J.prototype.dot=function(a){return this.x*a.x+this.y*a.y+this.z*a.z};x('alternativa.math.Vector3.prototype.dot',J.prototype.dot);
J.prototype.cross=function(a){var b=this.z*a.x-this.x*a.z,c=this.x*a.y-this.y*a.x;this.x=this.y*a.z-this.z*a.y;this.y=b;this.z=c;return this};x('alternativa.math.Vector3.prototype.cross',J.prototype.cross);J.prototype.cross2=function(a,b){this.x=a.y*b.z-a.z*b.y;this.y=a.z*b.x-a.x*b.z;this.z=a.x*b.y-a.y*b.x;return this};x('alternativa.math.Vector3.prototype.cross2',J.prototype.cross2);
J.prototype.transform3=function(a){var b=this.x,c=this.y,d=this.z;this.x=a.a*b+a.b*c+a.c*d;this.y=a.e*b+a.f*c+a.g*d;this.z=a.i*b+a.j*c+a.k*d;return this};x('alternativa.math.Vector3.prototype.transform3',J.prototype.transform3);J.prototype.transformTransposed3=function(a){var b=this.x,c=this.y,d=this.z;this.x=a.a*b+a.e*c+a.i*d;this.y=a.b*b+a.f*c+a.j*d;this.z=a.c*b+a.g*c+a.k*d;return this};x('alternativa.math.Vector3.prototype.transformTransposed3',J.prototype.transformTransposed3);
J.prototype.transform4=function(a){var b=this.x,c=this.y,d=this.z;this.x=a.a*b+a.b*c+a.c*d+a.d;this.y=a.e*b+a.f*c+a.g*d+a.h;this.z=a.i*b+a.j*c+a.k*d+a.l;return this};x('alternativa.math.Vector3.prototype.transform4',J.prototype.transform4);J.prototype.transformTransposed4=function(a){var b=this.x-a.d,c=this.y-a.h,d=this.z-a.l;this.x=a.a*b+a.e*c+a.i*d;this.y=a.b*b+a.f*c+a.j*d;this.z=a.c*b+a.g*c+a.k*d;return this};x('alternativa.math.Vector3.prototype.transformTransposed4',J.prototype.transformTransposed4);
J.prototype.transformVector4=function(a){var b=this.x,c=this.y,d=this.z;this.x=a.a*b+a.b*c+a.c*d;this.y=a.e*b+a.f*c+a.g*d;this.z=a.i*b+a.j*c+a.k*d;return this};x('alternativa.math.Vector3.prototype.transformVector4',J.prototype.transformVector4);J.prototype.reset=function(a,b,c){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0;this.z='undefined'!==typeof c?c:0;return this};x('alternativa.math.Vector3.prototype.reset',J.prototype.reset);
J.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this};x('alternativa.math.Vector3.prototype.copy',J.prototype.copy);J.prototype.clone=function(){return new J(this.x,this.y,this.z)};x('alternativa.math.Vector3.prototype.clone',J.prototype.clone);J.prototype.distanceTo=function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return Math.sqrt(b*b+c*c+a*a)};x('alternativa.math.Vector3.prototype.distanceTo',J.prototype.distanceTo);
J.prototype.toString=function(){return'Vector3('+this.x+aa+this.y+aa+this.z+')'};x('alternativa.math.Vector3.prototype.toString',J.prototype.toString);J.prototype.m={names:[{name:'Vector3',o:va,kind:f}]};Object.keys(J);function zj(){this.createDelegate()}z(zj,Gi);x(Ad,zj);zj.prototype.ze='';zj.prototype.browse=function(){this.delegate.accept=this.filter;zj.M.browse.apply(this)};x('org.apache.royale.file.beads.FileBrowserWithFilter.prototype.browse',zj.prototype.browse);zj.prototype.mf=v('ze');zj.prototype.gh=u('ze');Object.defineProperties(zj.prototype,{filter:{get:zj.prototype.mf,set:zj.prototype.gh}});zj.prototype.m={names:[{name:'FileBrowserWithFilter',o:Ad,kind:f}]};function T(a,b){this.aabb=new Mi;this.state=new Aj;this.prevState=new Aj;this.accel=new J;this.angleAccel=new J;this.material=new Wh;this.invInertia=new R;this.invInertiaWorld=new R;this.baseMatrix=new R;this.contacts=new (og(Fa))(this.MAX_CONTACTS);this.forceAccum=new J;this.torqueAccum=new J;this.invMass=a;this.invInertia.copy(b)}x(wa,T);T.linDamping=.997;x('alternativa.physics.Body.linDamping',T.linDamping);T.rotDamping=.997;x('alternativa.physics.Body.rotDamping',T.rotDamping);
T.prototype.id=0;x('alternativa.physics.Body.prototype.id',T.prototype.id);T.prototype.name=null;x('alternativa.physics.Body.prototype.name',T.prototype.name);T.prototype.world=null;x('alternativa.physics.Body.prototype.world',T.prototype.world);T.prototype.movable=!0;x('alternativa.physics.Body.prototype.movable',T.prototype.movable);T.prototype.canFreeze=!1;x('alternativa.physics.Body.prototype.canFreeze',T.prototype.canFreeze);T.prototype.freezeCounter=0;
x('alternativa.physics.Body.prototype.freezeCounter',T.prototype.freezeCounter);T.prototype.frozen=!1;x('alternativa.physics.Body.prototype.frozen',T.prototype.frozen);T.prototype.useGravity=!0;x('alternativa.physics.Body.prototype.useGravity',T.prototype.useGravity);T.prototype.aabb=null;x('alternativa.physics.Body.prototype.aabb',T.prototype.aabb);T.prototype.postCollisionPredicate=null;x('alternativa.physics.Body.prototype.postCollisionPredicate',T.prototype.postCollisionPredicate);
T.prototype.state=null;x('alternativa.physics.Body.prototype.state',T.prototype.state);T.prototype.prevState=null;x('alternativa.physics.Body.prototype.prevState',T.prototype.prevState);T.prototype.accel=null;x('alternativa.physics.Body.prototype.accel',T.prototype.accel);T.prototype.angleAccel=null;x('alternativa.physics.Body.prototype.angleAccel',T.prototype.angleAccel);T.prototype.material=null;x('alternativa.physics.Body.prototype.material',T.prototype.material);T.prototype.invMass=1;
x('alternativa.physics.Body.prototype.invMass',T.prototype.invMass);T.prototype.invInertia=null;x('alternativa.physics.Body.prototype.invInertia',T.prototype.invInertia);T.prototype.invInertiaWorld=null;x('alternativa.physics.Body.prototype.invInertiaWorld',T.prototype.invInertiaWorld);T.prototype.baseMatrix=null;x('alternativa.physics.Body.prototype.baseMatrix',T.prototype.baseMatrix);T.prototype.MAX_CONTACTS=20;x('alternativa.physics.Body.prototype.MAX_CONTACTS',T.prototype.MAX_CONTACTS);
T.prototype.contacts=null;x('alternativa.physics.Body.prototype.contacts',T.prototype.contacts);T.prototype.contactsNum=0;x('alternativa.physics.Body.prototype.contactsNum',T.prototype.contactsNum);T.prototype.collisionPrimitives=null;x('alternativa.physics.Body.prototype.collisionPrimitives',T.prototype.collisionPrimitives);T.prototype.forceAccum=null;x('alternativa.physics.Body.prototype.forceAccum',T.prototype.forceAccum);T.prototype.torqueAccum=null;
x('alternativa.physics.Body.prototype.torqueAccum',T.prototype.torqueAccum);Object.defineProperties(T,{Ka:{get:function(){var a=new J;Object.defineProperties(T,{Ka:{value:a,writable:!0}});return a},set:function(a){Object.defineProperties(T,{Ka:{value:a,writable:!0}})},configurable:!0}});Object.defineProperties(T,{Ea:{get:function(){var a=new J;Object.defineProperties(T,{Ea:{value:a,writable:!0}});return a},set:function(a){Object.defineProperties(T,{Ea:{value:a,writable:!0}})},configurable:!0}});
Object.defineProperties(T,{Ca:{get:function(){var a=new S;Object.defineProperties(T,{Ca:{value:a,writable:!0}});return a},set:function(a){Object.defineProperties(T,{Ca:{value:a,writable:!0}})},configurable:!0}});T.prototype.addCollisionPrimitive=function(a,b){b='undefined'!==typeof b?b:null;if(null==a)throw Error('Primitive cannot be null');null==this.collisionPrimitives&&(this.collisionPrimitives=new Bj);this.collisionPrimitives.append(a);a.setBody(this,b)};
x('alternativa.physics.Body.prototype.addCollisionPrimitive',T.prototype.addCollisionPrimitive);T.prototype.removeCollisionPrimitive=function(a){null!=this.collisionPrimitives&&(a.setBody(null),this.collisionPrimitives.remove(a),0==this.collisionPrimitives.size&&(this.collisionPrimitives=null))};x('alternativa.physics.Body.prototype.removeCollisionPrimitive',T.prototype.removeCollisionPrimitive);
T.prototype.interpolate=function(a,b,c){var d=1-a;b.x=this.prevState.pos.x*d+this.state.pos.x*a;b.y=this.prevState.pos.y*d+this.state.pos.y*a;b.z=this.prevState.pos.z*d+this.state.pos.z*a;c.w=this.prevState.orientation.w*d+this.state.orientation.w*a;c.x=this.prevState.orientation.x*d+this.state.orientation.x*a;c.y=this.prevState.orientation.y*d+this.state.orientation.y*a;c.z=this.prevState.orientation.z*d+this.state.orientation.z*a};x('alternativa.physics.Body.prototype.interpolate',T.prototype.interpolate);
T.prototype.interpolateSLERP=function(a,b,c){var d=1-a;b.x=this.prevState.pos.x*d+this.state.pos.x*a;b.y=this.prevState.pos.y*d+this.state.pos.y*a;b.z=this.prevState.pos.z*d+this.state.pos.z*a;c.slerp(this.prevState.orientation,this.state.orientation,a)};x('alternativa.physics.Body.prototype.interpolateSLERP',T.prototype.interpolateSLERP);
T.prototype.interpolateToMatrix=function(a,b){var c=1-a;b.d=this.prevState.pos.x*c+this.state.pos.x*a;b.h=this.prevState.pos.y*c+this.state.pos.y*a;b.l=this.prevState.pos.z*c+this.state.pos.z*a;T.Ca.w=this.prevState.orientation.w*c+this.state.orientation.w*a;T.Ca.x=this.prevState.orientation.x*c+this.state.orientation.x*a;T.Ca.y=this.prevState.orientation.y*c+this.state.orientation.y*a;T.Ca.z=this.prevState.orientation.z*c+this.state.orientation.z*a;T.Ca.normalize();T.Ca.toMatrix4(b)};
x('alternativa.physics.Body.prototype.interpolateToMatrix',T.prototype.interpolateToMatrix);T.prototype.interpolateToMatrixSLERP=function(a,b){var c=1-a;b.d=this.prevState.pos.x*c+this.state.pos.x*a;b.h=this.prevState.pos.y*c+this.state.pos.y*a;b.l=this.prevState.pos.z*c+this.state.pos.z*a;T.Ca.slerp(this.prevState.orientation,this.state.orientation,a);T.Ca.normalize();T.Ca.toMatrix4(b)};x('alternativa.physics.Body.prototype.interpolateToMatrixSLERP',T.prototype.interpolateToMatrixSLERP);
T.prototype.setPosition=function(a){this.state.pos.copy(a)};x('alternativa.physics.Body.prototype.setPosition',T.prototype.setPosition);T.prototype.setPositionXYZ=function(a,b,c){this.state.pos.reset(a,b,c)};x('alternativa.physics.Body.prototype.setPositionXYZ',T.prototype.setPositionXYZ);T.prototype.setVelocity=function(a){this.state.velocity.copy(a)};x('alternativa.physics.Body.prototype.setVelocity',T.prototype.setVelocity);
T.prototype.setVelocityXYZ=function(a,b,c){this.state.velocity.reset(a,b,c)};x('alternativa.physics.Body.prototype.setVelocityXYZ',T.prototype.setVelocityXYZ);T.prototype.setRotation=function(a){this.state.rotation.copy(a)};x('alternativa.physics.Body.prototype.setRotation',T.prototype.setRotation);T.prototype.setRotationXYZ=function(a,b,c){this.state.rotation.reset(a,b,c)};x('alternativa.physics.Body.prototype.setRotationXYZ',T.prototype.setRotationXYZ);T.prototype.setOrientation=function(a){this.state.orientation.copy(a)};
x('alternativa.physics.Body.prototype.setOrientation',T.prototype.setOrientation);
T.prototype.applyRelPosWorldImpulse=function(a,b,c){var d=c*this.invMass;this.state.velocity.x+=d*b.x;this.state.velocity.y+=d*b.y;this.state.velocity.z+=d*b.z;d=(a.y*b.z-a.z*b.y)*c;var e=(a.z*b.x-a.x*b.z)*c;a=(a.x*b.y-a.y*b.x)*c;this.state.rotation.x+=this.invInertiaWorld.a*d+this.invInertiaWorld.b*e+this.invInertiaWorld.c*a;this.state.rotation.y+=this.invInertiaWorld.e*d+this.invInertiaWorld.f*e+this.invInertiaWorld.g*a;this.state.rotation.z+=this.invInertiaWorld.i*d+this.invInertiaWorld.j*e+this.invInertiaWorld.k*
a};x('alternativa.physics.Body.prototype.applyRelPosWorldImpulse',T.prototype.applyRelPosWorldImpulse);T.prototype.addForce=function(a){this.forceAccum.add(a)};x('alternativa.physics.Body.prototype.addForce',T.prototype.addForce);T.prototype.addForceXYZ=function(a,b,c){this.forceAccum.x+=a;this.forceAccum.y+=b;this.forceAccum.z+=c};x('alternativa.physics.Body.prototype.addForceXYZ',T.prototype.addForceXYZ);
T.prototype.addWorldForceXYZ=function(a,b,c,d,e,g){this.forceAccum.x+=d;this.forceAccum.y+=e;this.forceAccum.z+=g;var h=this.state.pos;a-=h.x;b-=h.y;c-=h.z;this.torqueAccum.x+=b*g-c*e;this.torqueAccum.y+=c*d-a*g;this.torqueAccum.z+=a*e-b*d};x('alternativa.physics.Body.prototype.addWorldForceXYZ',T.prototype.addWorldForceXYZ);T.prototype.addWorldForce=function(a,b){this.forceAccum.add(b);this.torqueAccum.add(T.Ka.diff(a,this.state.pos).cross(b))};
x('alternativa.physics.Body.prototype.addWorldForce',T.prototype.addWorldForce);T.prototype.addWorldForceScaled=function(a,b,c){T.Ea.x=c*b.x;T.Ea.y=c*b.y;T.Ea.z=c*b.z;this.forceAccum.add(T.Ea);this.torqueAccum.add(T.Ka.diff(a,this.state.pos).cross(T.Ea))};x('alternativa.physics.Body.prototype.addWorldForceScaled',T.prototype.addWorldForceScaled);T.prototype.addLocalForce=function(a,b){this.baseMatrix.transformVector(a,T.Ka);this.baseMatrix.transformVector(b,T.Ea);this.forceAccum.add(T.Ea);this.torqueAccum.add(T.Ka.cross(T.Ea))};
x('alternativa.physics.Body.prototype.addLocalForce',T.prototype.addLocalForce);T.prototype.addWorldForceAtLocalPoint=function(a,b){this.baseMatrix.transformVector(a,T.Ka);this.forceAccum.add(b);this.torqueAccum.add(T.Ka.cross(b))};x('alternativa.physics.Body.prototype.addWorldForceAtLocalPoint',T.prototype.addWorldForceAtLocalPoint);T.prototype.beforePhysicsStep=t();x('alternativa.physics.Body.prototype.beforePhysicsStep',T.prototype.beforePhysicsStep);T.prototype.addTorque=function(a){this.torqueAccum.add(a)};
x('alternativa.physics.Body.prototype.addTorque',T.prototype.addTorque);T.prototype.clearAccumulators=function(){this.forceAccum.x=this.forceAccum.y=this.forceAccum.z=0;this.torqueAccum.x=this.torqueAccum.y=this.torqueAccum.z=0};
T.prototype.calcAccelerations=function(){this.accel.x=this.forceAccum.x*this.invMass;this.accel.y=this.forceAccum.y*this.invMass;this.accel.z=this.forceAccum.z*this.invMass;this.angleAccel.x=this.invInertiaWorld.a*this.torqueAccum.x+this.invInertiaWorld.b*this.torqueAccum.y+this.invInertiaWorld.c*this.torqueAccum.z;this.angleAccel.y=this.invInertiaWorld.e*this.torqueAccum.x+this.invInertiaWorld.f*this.torqueAccum.y+this.invInertiaWorld.g*this.torqueAccum.z;this.angleAccel.z=this.invInertiaWorld.i*
this.torqueAccum.x+this.invInertiaWorld.j*this.torqueAccum.y+this.invInertiaWorld.k*this.torqueAccum.z};
T.prototype.calcDerivedData=function(){this.state.orientation.toMatrix3(this.baseMatrix);this.invInertiaWorld.copy(this.invInertia).append(this.baseMatrix).prependTransposed(this.baseMatrix);if(null!=this.collisionPrimitives){this.aabb.infinity();for(var a=this.collisionPrimitives.head;null!=a;){var b=a.primitive;b.transform.setFromMatrix3(this.baseMatrix,this.state.pos);null!=b.localTransform&&b.transform.prepend(b.localTransform);b.calculateAABB();this.aabb.addBoundBox(b.aabb);a=a.next}}};
x('alternativa.physics.Body.prototype.calcDerivedData',T.prototype.calcDerivedData);w=T.prototype;w.saveState=function(){this.prevState.copy(this.state)};w.restoreState=function(){this.state.copy(this.prevState)};
w.integrateVelocity=function(a){this.state.velocity.x+=this.accel.x*a;this.state.velocity.y+=this.accel.y*a;this.state.velocity.z+=this.accel.z*a;this.state.rotation.x+=this.angleAccel.x*a;this.state.rotation.y+=this.angleAccel.y*a;this.state.rotation.z+=this.angleAccel.z*a;this.state.velocity.x*=T.linDamping;this.state.velocity.y*=T.linDamping;this.state.velocity.z*=T.linDamping;this.state.rotation.x*=T.rotDamping;this.state.rotation.y*=T.rotDamping;this.state.rotation.z*=T.rotDamping};
w.integratePosition=function(a){this.state.pos.x+=this.state.velocity.x*a;this.state.pos.y+=this.state.velocity.y*a;this.state.pos.z+=this.state.velocity.z*a;this.state.orientation.addScaledVector(this.state.rotation,a)};w.m={names:[{name:'Body',o:wa,kind:f}]};Object.keys(T);function wh(a,b,c){a=c.getBeadByType(a);!a&&(b=Oh.valuesImpl.getValue(c,b))&&(a=new b,c.addBead(a));return a};x('org.apache.royale.debugging.throwError',t());function Cj(){this.Tb=og(Ja).coerce([])}x(ka,Cj);Cj.prototype.Tb=null;Cj.group=void 0;x('KdNodesVisualization.group',Cj.group);Cj.prototype.Sb=0;
Cj.prototype.setRootNode=function(a){if(A(Cj.group,THREE.Group)){for(;0<Cj.group.children.length;)Cj.group.remove(Cj.group.children[0]);Cj.group.removeFromParent();this.Sb=this.Tb._s.length=0}Cj.group=new THREE.Group;Dj(this,a);Ej.instance.maxIndicesLabel.text='Max indices in node: '+this.Sb;a=this.Tb;for(var b in a){var c=a[b],d=c.boundBox,e=d.minX-0,g=d.minY-0,h=d.minZ-0,k=d.maxX+0-e,n=d.maxY+0-g;d=d.maxZ+0-h;var m=c.indices.length;m=Math.max(0,Math.min(200,m));m/=200;m=new THREE.MeshPhongMaterial({color:(Math.round(255*
m)>>>0<<16|Math.round(255*(1-m))>>>0<<8)>>>0,transparent:!0,opacity:Math.min(.7,c.indices.length/200)+.1,emissive:(new THREE.Color).setHex(0)});m=new THREE.Mesh(new THREE.BoxGeometry(k,d,n),m);m.indices=c.indices.length;m.position.set(-(e+k/2),h+d/2,g+n/2);Cj.group.add(m)}kj.scene.add(Cj.group)};x('KdNodesVisualization.prototype.setRootNode',Cj.prototype.setRootNode);
function Dj(a,b){null!=b&&(null!=b.indices&&(a.Tb.push(b),a.Sb=Math.max(a.Sb,b.indices.length)>>0),Dj(a,b.negativeNode),Dj(a,b.positiveNode))}Cj.prototype.Ed=function(a){Cj.group&&(Cj.group.visible=a)};Object.defineProperties(Cj.prototype,{visible:{set:Cj.prototype.Ed}});Cj.prototype.m={names:[{name:ka,o:ka,kind:f}]};Object.keys(Cj);function Fj(){}x(fd,Fj);w=Fj.prototype;w.Te=v('vg');w.Tg=u('vg');w.Ff=v('xg');w.ph=u('xg');w.yf=v('wg');w.oh=u('wg');Object.defineProperties(Fj.prototype,{border:{get:Fj.prototype.Te,set:Fj.prototype.Tg},padding:{get:Fj.prototype.Ff,set:Fj.prototype.ph},margins:{get:Fj.prototype.yf,set:Fj.prototype.oh}});Fj.prototype.m={names:[{name:'LayoutData',o:fd,kind:f}]};function Ti(){this.A=new J;this.Fa=new J;this.Yb=new J;this.Ra=new J}x(Ya,Ti);w=Ti.prototype;w.A=null;w.Fa=null;w.Yb=null;w.Ra=null;
w.getContact=function(a,b,c){var d=A(a,Gj);null==d?(d=A(b,Gj),a=A(a,ij)):a=A(b,ij);d.transform.getAxis(3,this.Ra);a.transform.getAxis(3,this.Yb);a.transform.transformPointTransposed(this.Ra,this.A);b=a.hs;var e=b.x+d.r,g=b.y+d.r,h=b.z+d.r;if(this.A.x>e||this.A.x<-e||this.A.y>g||this.A.y<-g||this.A.z>h||this.A.z<-h)return!1;this.Fa.x=this.A.x>b.x?b.x:this.A.x<-b.x?-b.x:this.A.x;this.Fa.y=this.A.y>b.y?b.y:this.A.y<-b.y?-b.y:this.A.y;this.Fa.z=this.A.z>b.z?b.z:this.A.z<-b.z?-b.z:this.A.z;b=this.A.subtract(this.Fa).lengthSqr();
if(b>d.r*d.r)return!1;c.body1=d.body;c.body2=a.body;c.normal.copy(this.Fa).transform4(a.transform).subtract(this.Ra).normalize().reverse();c.pcount=1;a=c.points[0];a.penetration=d.r-Math.sqrt(b);a.pos.copy(c.normal).scale(-d.r).add(this.Ra);a.r1.diff(a.pos,this.Ra);a.r2.diff(a.pos,this.Yb);return!0};x('alternativa.physics.collision.colliders.BoxSphereCollider.prototype.getContact',Ti.prototype.getContact);
Ti.prototype.haveCollision=function(a,b){var c=A(a,Gj);null==c?(c=A(b,Gj),a=A(a,ij)):a=A(b,ij);c.transform.getAxis(3,this.Ra);a.transform.getAxis(3,this.Yb);a.transform.transformPointTransposed(this.Ra,this.A);a=a.hs;b=a.x+c.r;var d=a.y+c.r,e=a.z+c.r;if(this.A.x>b||this.A.x<-b||this.A.y>d||this.A.y<-d||this.A.z>e||this.A.z<-e)return!1;this.Fa.x=this.A.x>a.x?a.x:this.A.x<-a.x?-a.x:this.A.x;this.Fa.y=this.A.y>a.y?a.y:this.A.y<-a.y?-a.y:this.A.y;this.Fa.z=this.A.z>a.z?a.z:this.A.z<-a.z?-a.z:this.A.z;
return this.A.subtract(this.Fa).lengthSqr()<=c.r*c.r};x('alternativa.physics.collision.colliders.BoxSphereCollider.prototype.haveCollision',Ti.prototype.haveCollision);Ti.prototype.m={names:[{name:'BoxSphereCollider',o:Ya,kind:f}],s:[Xi]};function U(a){a='undefined'!==typeof a?a:null;this.fb=Hj.BIG_ENDIAN;this.Fe=this.fb==Hj.systemEndian;this.ba=a?a:new ArrayBuffer(0);this._len=this.ba.byteLength>>>0}x(Vd,U);U.fromString=function(a){var b=new U;b.writeUTFBytes(a);return b};x('org.apache.royale.utils.BinaryData.fromString',U.fromString);U.prototype._position=0;U.prototype.clear=function(){this.ba=new ArrayBuffer(0);this._len=this._position=0;this._dataView=this._typedArray=null};
x('org.apache.royale.utils.BinaryData.prototype.clear',U.prototype.clear);U.prototype.toString=function(){this._position=0;return this.readUTFBytes(this.length>>>0)};x('org.apache.royale.utils.BinaryData.prototype.toString',U.prototype.toString);U.prototype.writeBoolean=function(a){this.writeByte((a?1:0)>>0)};x('org.apache.royale.utils.BinaryData.prototype.writeBoolean',U.prototype.writeBoolean);
U.prototype.writeByte=function(a){this._position+1>this._len&&this.setBufferSize(this._position+1>>>0);this.getTypedArray()[this._position++]=a};x('org.apache.royale.utils.BinaryData.prototype.writeByte',U.prototype.writeByte);U.prototype.writeBinaryData=function(a,b,c){if(!a)throw new TypeError(ja);if(a==this)throw Error('Parameter bytes must be another instance.');this.writeBytes(a.ba,'undefined'!==typeof b?b:0,'undefined'!==typeof c?c:0)};
x('org.apache.royale.utils.BinaryData.prototype.writeBinaryData',U.prototype.writeBinaryData);
U.prototype.writeBytes=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;if(!a)throw new TypeError(ja);if(b>a.byteLength)throw new RangeError(ia);if(0==c)c=a.byteLength-b>>>0;else if(c>a.byteLength-b)throw new RangeError(ia);this._position+c>this._len&&this.setBufferSize(this._position+c>>>0);var d=new Uint8Array(this.ba,this._position,c);a=new Uint8Array(a,b,c);d.set(a);this._position+=c>>0};x('org.apache.royale.utils.BinaryData.prototype.writeBytes',U.prototype.writeBytes);
U.prototype.writeShort=function(a){this._position+2>this._len&&this.setBufferSize(this._position+2>>>0);var b=this.getTypedArray();this.endian==Hj.BIG_ENDIAN?(b[this._position++]=(a&65280)>>8,b[this._position++]=a&255):(b[this._position++]=a&255,b[this._position++]=(a&65280)>>8)};x('org.apache.royale.utils.BinaryData.prototype.writeShort',U.prototype.writeShort);U.prototype.writeUnsignedInt=function(a){this.writeInt(a>>0)};x('org.apache.royale.utils.BinaryData.prototype.writeUnsignedInt',U.prototype.writeUnsignedInt);
U.prototype.writeInt=function(a){this._position+4>this._len&&this.setBufferSize(this._position+4>>>0);var b=this.getTypedArray();this.endian==Hj.BIG_ENDIAN?(b[this._position++]=(a&4278190080)>>24,b[this._position++]=(a&16711680)>>16,b[this._position++]=(a&65280)>>8,b[this._position++]=a&255):(b[this._position++]=a&255,b[this._position++]=(a&65280)>>8,b[this._position++]=(a&16711680)>>16,b[this._position++]=(a&4278190080)>>24)};x('org.apache.royale.utils.BinaryData.prototype.writeInt',U.prototype.writeInt);
U.prototype.writeFloat=function(a){this._position+4>this._len&&this.setBufferSize(this._position+4>>>0);this.getDataView().setFloat32(this._position,a,this.fb==Hj.LITTLE_ENDIAN);this._position+=4};x('org.apache.royale.utils.BinaryData.prototype.writeFloat',U.prototype.writeFloat);U.prototype.writeDouble=function(a){this._position+8>this._len&&this.setBufferSize(this._position+8>>>0);this.getDataView().setFloat64(this._position,a,this.fb==Hj.LITTLE_ENDIAN);this._position+=8};
x('org.apache.royale.utils.BinaryData.prototype.writeDouble',U.prototype.writeDouble);U.prototype.readBoolean=function(){return!!this.getTypedArray()[this._position++]};x('org.apache.royale.utils.BinaryData.prototype.readBoolean',U.prototype.readBoolean);U.prototype.readByte=function(){return this.readUnsignedByte()<<24>>24};x('org.apache.royale.utils.BinaryData.prototype.readByte',U.prototype.readByte);U.prototype.readUnsignedByte=function(){return this.getTypedArray()[this._position++]>>>0};
x('org.apache.royale.utils.BinaryData.prototype.readUnsignedByte',U.prototype.readUnsignedByte);U.prototype.readBinaryData=function(a,b,c){c='undefined'!==typeof c?c:0;if(!a)throw new TypeError('Error #2007: Parameter destination must be non-null.');if(a==this)throw Error('Parameter destination must be another instance.');0==c&&(c=this._len-this._position>>>0);a.mergeInToArrayBuffer('undefined'!==typeof b?b:0,new Uint8Array(this.ba,this._position,c));this._position+=c>>0};
x('org.apache.royale.utils.BinaryData.prototype.readBinaryData',U.prototype.readBinaryData);
U.prototype.readBytes=function(a,b,c){b='undefined'!==typeof b?b:0;c='undefined'!==typeof c?c:0;if(!a)throw new TypeError(ja);if(a==this.ba)throw Error('cannot read into internal ArrayBuffer as both destination and source');0==c&&(c=this._len-this._position>>>0);if(0<b+c-a.byteLength>>0)throw Error('cannot read into destination ArrayBuffer, insufficient fixed length');var d=new Uint8Array(this.ba,this._position,c);(new Uint8Array(a,b,c)).set(d);this._position+=c>>0};
x('org.apache.royale.utils.BinaryData.prototype.readBytes',U.prototype.readBytes);U.prototype.readByteAt=function(a){return this.getTypedArray()[a]>>0>>>0};x('org.apache.royale.utils.BinaryData.prototype.readByteAt',U.prototype.readByteAt);U.prototype.getTypedArray=function(){null==this._typedArray&&(this._typedArray=new Uint8Array(this.ba));return this._typedArray};U.prototype.getDataView=function(){this._dataView||(this._dataView=new DataView(this.ba));return this._dataView};
U.prototype.writeByteAt=function(a,b){a>=this._len&&this.setBufferSize(a+1>>>0);this.getTypedArray()[a]=b};x('org.apache.royale.utils.BinaryData.prototype.writeByteAt',U.prototype.writeByteAt);U.prototype.readShort=function(){return this.readUnsignedShort()<<16>>16};x('org.apache.royale.utils.BinaryData.prototype.readShort',U.prototype.readShort);
U.prototype.readUnsignedInt=function(){var a=this.getTypedArray();return this.endian==Hj.BIG_ENDIAN?(a[this._position++]<<24>>>0)+(a[this._position++]<<16)+(a[this._position++]<<8)+a[this._position++]>>>0:a[this._position++]+(a[this._position++]<<8)+(a[this._position++]<<16)+(a[this._position++]<<24>>>0)>>>0};x('org.apache.royale.utils.BinaryData.prototype.readUnsignedInt',U.prototype.readUnsignedInt);
U.prototype.readUnsignedShort=function(){var a=this.getTypedArray();return this.endian==Hj.BIG_ENDIAN?(a[this._position++]<<8)+a[this._position++]>>>0:a[this._position++]+(a[this._position++]<<8)>>>0};x('org.apache.royale.utils.BinaryData.prototype.readUnsignedShort',U.prototype.readUnsignedShort);U.prototype.readInt=function(){return this.readUnsignedInt()<<32>>32};x('org.apache.royale.utils.BinaryData.prototype.readInt',U.prototype.readInt);
U.prototype.readFloat=function(){var a=this.getDataView().getFloat32(this._position,this.fb==Hj.LITTLE_ENDIAN);this._position+=4;return a};x('org.apache.royale.utils.BinaryData.prototype.readFloat',U.prototype.readFloat);U.prototype.readDouble=function(){var a=this.getDataView().getFloat64(this._position,this.fb==Hj.LITTLE_ENDIAN);this._position+=8;return a};x('org.apache.royale.utils.BinaryData.prototype.readDouble',U.prototype.readDouble);U.prototype._len=0;
U.prototype.setBufferSize=function(a){var b=this._len;if(b!=a){var c=new Uint8Array(a);b=new Uint8Array(this.ba,0,Math.min(a,b));c.set(b);this.ba=c.buffer;this._position>a&&(this._position=a>>0);this._typedArray=c;this._dataView=null;this._len=a}};U.prototype.growBuffer=function(a){this.setBufferSize(this._len+a>>>0)};x('org.apache.royale.utils.BinaryData.prototype.growBuffer',U.prototype.growBuffer);U.prototype.readUTF=function(){var a=this.readUnsignedShort();return this.readUTFBytes(a)};
x('org.apache.royale.utils.BinaryData.prototype.readUTF',U.prototype.readUTF);
U.prototype.readUTFBytes=function(a){if(this._position+a>this._len)throw Error('Error #2030: End of file was encountered.');var b=new Uint8Array(this.ba,this._position,a);if('TextDecoder'in window){var c=new TextDecoder('utf-8');this._position+=a>>0;return c.decode(b)}c=[];for(var d=0,e=0;d<b.length;){var g=b[d++]>>0;if(128>g)c[e++]=String.fromCharCode(g);else if(191<g&&224>g){var h=b[d++]>>0;c[e++]=String.fromCharCode((g&31)<<6|h&63)}else if(239<g&&365>g){h=b[d++]>>0;var k=b[d++]>>0;var n=b[d++]>>
0;k=((g&7)<<18|(h&63)<<12|(k&63)<<6|n&63)-65536>>0;c[e++]=String.fromCharCode(55296+(k>>10));c[e++]=String.fromCharCode(56320+(k&1023))}else h=b[d++]>>0,k=b[d++]>>0,c[e++]=String.fromCharCode((g&15)<<12|(h&63)<<6|k&63)}this._position+=a>>0;return c.join('')};x('org.apache.royale.utils.BinaryData.prototype.readUTFBytes',U.prototype.readUTFBytes);U.prototype.writeUTF=function(a){a=this.getUTFBytes(a,!0);this._position=this.mergeInToArrayBuffer(this._position>>>0,a)>>0};
x('org.apache.royale.utils.BinaryData.prototype.writeUTF',U.prototype.writeUTF);U.prototype.writeUTFBytes=function(a){a=this.getUTFBytes(a,!1);this._position=this.mergeInToArrayBuffer(this._position>>>0,a)>>0};x('org.apache.royale.utils.BinaryData.prototype.writeUTFBytes',U.prototype.writeUTFBytes);w=U.prototype;
w.mergeInToArrayBuffer=function(a,b){var c=b.length>>>0,d=a+c>>>0;if(d>this._len){c=new Uint8Array(d);if(this._len){var e=Math.min(a,this._len)>>>0;0<e&&c.set(new Uint8Array(this.ba,0,e))}c.set(b,a);this.ba=c.buffer;this._typedArray=c;this._dataView=null;this._len=d}else c=new Uint8Array(this.ba,a,c),c.set(b);return d};
w.getUTFBytes=function(a,b){if('TextEncoder'in window)a=(new TextEncoder('utf-8')).encode(a);else{for(var c=[],d=0,e=0;e<a.length;e++){var g=a.charCodeAt(e)>>0;128>g?c[d++]=g:(2048>g?c[d++]=g>>6|192:(55296==(g&64512)&&e+1<a.length&&56320==(a.charCodeAt(e+1)&64512)?(g=65536+((g&1023)<<10)+(a.charCodeAt(++e)&1023)>>0,c[d++]=g>>18|240,c[d++]=g>>12&63|128):c[d++]=g>>12|224,c[d++]=g>>6&63|128),c[d++]=g&63|128)}a=new Uint8Array(c)}if(b){b=a.length>>>0;if(65535<b)throw new RangeError('UTF max string length of 65535 bytes exceeded : BinaryData.writeUTF');
g=new Uint8Array(a.length+2);g.set(a,2);(new Uint16Array(g.buffer,0,1))[0]=this.Fe?b:(b&65280)>>8|(b&255)<<8;a=g}return a};w.Re=function(){return this.getTypedArray()};w.jf=v('fb');w.fh=function(a){if(a==Hj.BIG_ENDIAN||a==Hj.LITTLE_ENDIAN)this.fb=a,this.Fe=a==Hj.systemEndian};w.df=v('ba');w.Gc=function(){return this._len>>0};w.lh=function(a){this.setBufferSize(a>>>0)};w.Ve=function(){return(this._position<this._len?this._len-this._position:0)>>>0};w.Jf=function(){return this._position>>>0};
w.qh=function(a){this._position=a>>0};Object.defineProperties(U.prototype,{array:{get:U.prototype.Re},endian:{get:U.prototype.jf,set:U.prototype.fh},data:{get:U.prototype.df},length:{get:U.prototype.Gc,set:U.prototype.lh},bytesAvailable:{get:U.prototype.Ve},position:{get:U.prototype.Jf,set:U.prototype.qh}});U.prototype.m={names:[{name:'BinaryData',o:Vd,kind:f}],s:[hi,Yh]};function H(){}x(Wd,H);H.attributeFromColor=function(a){var b=a.toString(16);if(16777215<a){a=b.match(/.{2}/g);for(b=0;4>b;b++)a[b]=parseInt(a[b],16);a[3]=parseInt(''+a[3]/255*1E3,10)/1E3;return'rgba('+a.join(',')+')'}return'#'+Ii.pad(b,'0',6)};x('org.apache.royale.utils.CSSUtils.attributeFromColor',H.attributeFromColor);
H.toNumber=function(a,b){b='undefined'!==typeof b?b:0;if(''===a)return NaN;var c=a.indexOf(le)>>0;if(-1<c)return Number(a.substr(0,c));c=a.indexOf('%')>>0;return-1<c?Number(a.substr(0,c))*b/100:Number(a)};x('org.apache.royale.utils.CSSUtils.toNumber',H.toNumber);H.toColor=function(a){return(H.toColorWithAlpha(a)&16777215)>>>0};x('org.apache.royale.utils.CSSUtils.toColor',H.toColor);
H.toColorWithAlpha=function(a){if(!B(a,String))return(a>>>0|4278190080)>>>0;var b=a;if('transparent'===b)return 4294967295;if('#'===b.charAt(0))return 4===b.length?'0x'+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2)+b.charAt(3)+b.charAt(3)>>>0:7===b.length?'0xFF'+b.substr(1)>>>0:'0x'+b.substr(1)>>>0;if(-1!==(a=b.indexOf('rgb(')>>0)){var c=b.indexOf(')')>>0;b=b.substring(a+4,c);a=b.split(',');return 4278190080+(a[0]>>>0<<16)+(a[1]>>>0<<8)+(a[2]>>>0)>>>0}return-1!==(a=b.indexOf('rgba(')>>0)?(c=b.indexOf(')')>>
0,b=b.substring(a+5,c),a=b.split(','),a[3]*=255,(a[3]>>>0<<24)+(a[0]>>>0<<16)+(a[1]>>>0<<8)+(a[2]>>>0)>>>0):H.colorMap.hasOwnProperty(b)?H.colorMap[b]>>>0:b>>>0};x('org.apache.royale.utils.CSSUtils.toColorWithAlpha',H.toColorWithAlpha);H.getTopValue=function(a,b,c){c='undefined'!==typeof c?c:NaN;return H.getSideValue(a,b,0,c)};x('org.apache.royale.utils.CSSUtils.getTopValue',H.getTopValue);H.getRightValue=function(a,b,c){c='undefined'!==typeof c?c:NaN;return H.getSideValue(a,b,1,c)};
x('org.apache.royale.utils.CSSUtils.getRightValue',H.getRightValue);H.getBottomValue=function(a,b,c){c='undefined'!==typeof c?c:NaN;return H.getSideValue(a,b,2,c)};x('org.apache.royale.utils.CSSUtils.getBottomValue',H.getBottomValue);H.getLeftValue=function(a,b,c){c='undefined'!==typeof c?c:NaN;return H.getSideValue(a,b,3,c)};x('org.apache.royale.utils.CSSUtils.getLeftValue',H.getLeftValue);
H.getSideValue=function(a,b,c,d){d='undefined'!==typeof d?d:NaN;if(B(a,Number))return a;if(B(b,Number))return b;if(null!=a)return H.toNumber(a,d);if(null==b)return 0;if(B(b,Array)){a=c;c=b.length>>0;switch(a){case 2:a=(2===c?0:2)>>0;break;case 3:a=(3>c?1:3)>>0}a=b[a];return B(a,String)?H.toNumber(a,d):a}return H.toNumber(b,d)};x('org.apache.royale.utils.CSSUtils.getSideValue',H.getSideValue);
H.colorMap={Th:0,Uh:4294967295,Rh:4290822336,Kh:4286611584,Ih:4278190080,red:4294901760,Mh:4286578688,Vh:4294967040,Oh:4286611456,Lh:4278255360,green:4278222848,Gh:4278255615,Sh:4278222976,blue:4278190335,Nh:4278190208,Jh:4294902015,Qh:4286578816};x('org.apache.royale.utils.CSSUtils.colorMap',H.colorMap);H.prototype.m={names:[{name:'CSSUtils',o:Wd,kind:f}]};function Vi(){this.la=new J;this.O=new J;this.D=new J;this.U=new J;this.Sa=new J;this.Ta=new J;this.P=new J;this.$a=new J;this.ab=new J;this.G=new (og(va))(8,!0);this.W=new (og(va))(8,!0);for(var a=0;8>a;a++)this.G[this.G._ci(a)]=new J,this.W[this.W._ci(a)]=new J}z(Vi,qj);x(Za,Vi);Vi.prototype.epsilon=.001;x('alternativa.physics.collision.colliders.BoxTriangleCollider.prototype.epsilon',Vi.prototype.epsilon);w=Vi.prototype;w.Ua=0;w.nb=NaN;w.la=null;w.O=null;w.D=null;w.U=null;w.Sa=null;w.Ta=null;
w.P=null;w.$a=null;w.ab=null;w.G=null;w.W=null;
w.getContact=function(a,b,c){if(!this.haveCollision(a,b))return!1;var d=A(a,jj);null==d?(a=A(a,ij,!0),d=A(b,jj,!0)):a=A(b,ij,!0);if(4>this.Ua){b=a;var e=d,g=this.la,h=this.Ua;if(0==h){h=b.transform;var k=e.transform;this.D.x=k.c;this.D.y=k.g;this.D.z=k.k;var n=0<g.x*this.D.x+g.y*this.D.y+g.z*this.D.z;n||(this.D.x=-this.D.x,this.D.y=-this.D.y,this.D.z=-this.D.z);for(var m=g=0,p=0,q=0;3>q;q++){h.getAxis(q,this.O);var r=this.O.x*this.D.x+this.O.y*this.D.y+this.O.z*this.D.z,y=0>r?-r:r;y>p&&(p=y,m=r,g=
q)}m=0<m;p=1<<(g<<1);m&&(p<<=1);if(0!=(p&b.excludedFaces))b=!1;else{this.getFaceVertsByAxis(b.hs,g,m,this.G);h.transformPointsN(this.G,this.W,4);k.transformPointsTransposedN(this.W,this.G,4);b=Ij(e.v0,e.e0,this.G,4,this.W);0==b?e=0:(b=Ij(e.v1,e.e1,this.W,b,this.G),e=0==b?0:Ij(e.v2,e.e2,this.G,b,this.W));for(g=c.pcount=0;g<e;g++)if(m=this.W[g],n&&0>m.z||!n&&0<m.z)b=c.points[c.points._ci(c.pcount++)],p=b.pos,p.x=k.a*m.x+k.b*m.y+k.c*m.z+k.d,p.y=k.e*m.x+k.f*m.y+k.g*m.z+k.h,p.z=k.i*m.x+k.j*m.y+k.k*m.z+
k.l,q=b.r1,q.x=p.x-h.d,q.y=p.y-h.h,q.z=p.z-h.l,q=b.r2,q.x=p.x-k.d,q.y=p.y-k.h,q.z=p.z-k.l,b.penetration=n?-m.z:m.z;c.normal.x=this.D.x;c.normal.y=this.D.y;c.normal.z=this.D.z;b=!0}}else if(h--,k=b.transform,n=e.transform,k.getAxis(h,this.D),g=0<g.x*this.D.x+g.y*this.D.y+g.z*this.D.z,m=1<<(h<<1),g&&(m<<=1),0!=(m&b.excludedFaces))b=!1;else{g||(this.D.x=-this.D.x,this.D.y=-this.D.y,this.D.z=-this.D.z);m=this.G[0];m.x=e.v0.x;m.y=e.v0.y;m.z=e.v0.z;m=this.G[this.G._ci(1)];m.x=e.v1.x;m.y=e.v1.y;m.z=e.v1.z;
m=this.G[this.G._ci(2)];m.x=e.v2.x;m.y=e.v2.y;m.z=e.v2.z;n.transformPointsN(this.G,this.W,3);k.transformPointsTransposedN(this.W,this.G,3);b:{e=b.hs;m=3;switch(h){case 0:if(0==(m=this.clipLowZ(-e.z,m,this.G,this.W,this.epsilon)))break;if(0==(m=this.clipHighZ(e.z,m,this.W,this.G,this.epsilon)))break;if(0==(m=this.clipLowY(-e.y,m,this.G,this.W,this.epsilon)))break;e=this.clipHighY(e.y,m,this.W,this.G,this.epsilon);break b;case 1:if(0==(m=this.clipLowZ(-e.z,m,this.G,this.W,this.epsilon)))break;if(0==
(m=this.clipHighZ(e.z,m,this.W,this.G,this.epsilon)))break;if(0==(m=this.clipLowX(-e.x,m,this.G,this.W,this.epsilon)))break;e=this.clipHighX(e.x,m,this.W,this.G,this.epsilon);break b;case 2:if(0!=(m=this.clipLowX(-e.x,m,this.G,this.W,this.epsilon))&&0!=(m=this.clipHighX(e.x,m,this.W,this.G,this.epsilon))&&0!=(m=this.clipLowY(-e.y,m,this.G,this.W,this.epsilon))){e=this.clipHighY(e.y,m,this.W,this.G,this.epsilon);break b}}e=0}for(p=c.pcount=0;p<e;p++){m=this.G[this.G._ci(p)];b:{q=b.hs;switch(h){case 0:q=
g?m.x+q.x:q.x-m.x;break b;case 1:q=g?m.y+q.y:q.y-m.y;break b;case 2:q=g?m.z+q.z:q.z-m.z;break b}q=0}q>-this.epsilon&&(r=c.points[c.pcount++],y=r.pos,y.x=k.a*m.x+k.b*m.y+k.c*m.z+k.d,y.y=k.e*m.x+k.f*m.y+k.g*m.z+k.h,y.z=k.i*m.x+k.j*m.y+k.k*m.z+k.l,m=r.r1,m.x=y.x-k.d,m.y=y.y-k.h,m.z=y.z-k.l,m=r.r2,m.x=y.x-n.d,m.y=y.y-n.h,m.z=y.z-n.l,r.penetration=q)}c.normal.x=this.D.x;c.normal.y=this.D.y;c.normal.z=this.D.z;b=!0}if(!b)return!1}else if(this.Ua-=4,!Jj(this,a,d,this.la,this.Ua%3>>0,this.Ua/3>>0,c))return!1;
c.body1=a.body;c.body2=d.body;.99999<d.transform.k&&(c.normal.x=0,c.normal.y=0,c.normal.z=1);return!0};x('alternativa.physics.collision.colliders.BoxTriangleCollider.prototype.getContact',Vi.prototype.getContact);
Vi.prototype.haveCollision=function(a,b){var c=A(a,jj);null==c?(a=A(a,ij,!0),c=A(b,jj,!0)):a=A(b,ij,!0);var d=a.transform;b=c.transform;this.la.x=d.d-b.d;this.la.y=d.h-b.h;this.la.z=d.l-b.l;this.nb=1E308;this.O.x=b.c;this.O.y=b.g;this.O.z=b.k;if(!Kj(this,a,c,this.O,0,this.la))return!1;this.U.x=d.a;this.U.y=d.e;this.U.z=d.i;if(!Kj(this,a,c,this.U,1,this.la))return!1;this.Sa.x=d.b;this.Sa.y=d.f;this.Sa.z=d.j;if(!Kj(this,a,c,this.Sa,2,this.la))return!1;this.Ta.x=d.c;this.Ta.y=d.g;this.Ta.z=d.k;if(!Kj(this,
a,c,this.Ta,3,this.la))return!1;d=c.e0;this.P.x=b.a*d.x+b.b*d.y+b.c*d.z;this.P.y=b.e*d.x+b.f*d.y+b.g*d.z;this.P.z=b.i*d.x+b.j*d.y+b.k*d.z;if(!Lj(this,a,c,this.U,this.P,4,this.la)||!Lj(this,a,c,this.Sa,this.P,5,this.la)||!Lj(this,a,c,this.Ta,this.P,6,this.la))return!1;d=c.e1;this.$a.x=b.a*d.x+b.b*d.y+b.c*d.z;this.$a.y=b.e*d.x+b.f*d.y+b.g*d.z;this.$a.z=b.i*d.x+b.j*d.y+b.k*d.z;if(!Lj(this,a,c,this.U,this.$a,7,this.la)||!Lj(this,a,c,this.Sa,this.$a,8,this.la)||!Lj(this,a,c,this.Ta,this.$a,9,this.la))return!1;
d=c.e2;this.ab.x=b.a*d.x+b.b*d.y+b.c*d.z;this.ab.y=b.e*d.x+b.f*d.y+b.g*d.z;this.ab.z=b.i*d.x+b.j*d.y+b.k*d.z;return Lj(this,a,c,this.U,this.ab,10,this.la)&&Lj(this,a,c,this.Sa,this.ab,11,this.la)&&Lj(this,a,c,this.Ta,this.ab,12,this.la)?!0:!1};x('alternativa.physics.collision.colliders.BoxTriangleCollider.prototype.haveCollision',Vi.prototype.haveCollision);function Kj(a,b,c,d,e,g){b=Mj(b,c,d,g);if(b<-a.epsilon)return!1;b+a.epsilon<a.nb&&(a.nb=b,a.Ua=e);return!0}
function Lj(a,b,c,d,e,g,h){a.O.x=d.y*e.z-d.z*e.y;a.O.y=d.z*e.x-d.x*e.z;a.O.z=d.x*e.y-d.y*e.x;d=a.O.x*a.O.x+a.O.y*a.O.y+a.O.z*a.O.z;if(1E-4>d)return!0;d=1/Math.sqrt(d);a.O.x*=d;a.O.y*=d;a.O.z*=d;b=Mj(b,c,a.O,h);if(b<-a.epsilon)return!1;b+a.epsilon<a.nb&&(a.nb=b,a.Ua=g);return!0}
function Mj(a,b,c,d){var e=a.transform,g=(e.a*c.x+e.e*c.y+e.i*c.z)*a.hs.x;0>g&&(g=-g);var h=(e.b*c.x+e.f*c.y+e.j*c.z)*a.hs.y;g+=0>h?-h:h;h=(e.c*c.x+e.g*c.y+e.k*c.z)*a.hs.z;g+=0>h?-h:h;a=d.x*c.x+d.y*c.y+d.z*c.z;e=b.transform;d=e.a*c.x+e.e*c.y+e.i*c.z;var k=e.b*c.x+e.f*c.y+e.j*c.z;c=e.c*c.x+e.g*c.y+e.k*c.z;e=0;0>a?(a=-a,h=b.v0.x*d+b.v0.y*k+b.v0.z*c,h<e&&(e=h),h=b.v1.x*d+b.v1.y*k+b.v1.z*c,h<e&&(e=h),h=b.v2.x*d+b.v2.y*k+b.v2.z*c,h<e&&(e=h),e=-e):(h=b.v0.x*d+b.v0.y*k+b.v0.z*c,h>e&&(e=h),h=b.v1.x*d+b.v1.y*
k+b.v1.z*c,h>e&&(e=h),h=b.v2.x*d+b.v2.y*k+b.v2.z*c,h>e&&(e=h));return g+e-a}function Ij(a,b,c,d,e){var g=-b.y;b=b.x;var h=a.x*g+a.y*b,k=c[d-1>>0];var n=k.x*g+k.y*b;for(var m=0,p=0;p<d;p++){var q=c[p],r=q.x*g+q.y*b;n<h?r>h&&(n=(h-n)/(r-n),a=e[e._ci(m)],a.x=k.x+n*(q.x-k.x),a.y=k.y+n*(q.y-k.y),a.z=k.z+n*(q.z-k.z),m++):(a=e[e._ci(m)],a.x=k.x,a.y=k.y,a.z=k.z,m++,r<h&&(n=(h-n)/(r-n),a=e[e._ci(m)],a.x=k.x+n*(q.x-k.x),a.y=k.y+n*(q.y-k.y),a.z=k.z+n*(q.z-k.z),m++));k=q;n=r}return m}
function Jj(a,b,c,d,e,g,h){var k=NaN,n=NaN,m=NaN,p=NaN,q=NaN,r=NaN;switch(g){case 0:n=c.e0.x;r=c.e0.y;p=c.e0.z;k=c.v0.x;q=c.v0.y;m=c.v0.z;break;case 1:n=c.e1.x;r=c.e1.y;p=c.e1.z;k=c.v1.x;q=c.v1.y;m=c.v1.z;break;case 2:n=c.e2.x,r=c.e2.y,p=c.e2.z,k=c.v2.x,q=c.v2.y,m=c.v2.z}c=c.transform;a.P.x=c.a*n+c.b*r+c.c*p;a.P.y=c.e*n+c.f*r+c.g*p;a.P.z=c.i*n+c.j*r+c.k*p;g=c.a*k+c.b*q+c.c*m+c.d;var y=c.e*k+c.f*q+c.g*m+c.h;m=c.i*k+c.j*q+c.k*m+c.l;k=b.transform;k.getAxis(e,a.U);q=h.normal;q.x=a.U.y*a.P.z-a.U.z*a.P.y;
q.y=a.U.z*a.P.x-a.U.x*a.P.z;q.z=a.U.x*a.P.y-a.U.y*a.P.x;n=1/Math.sqrt(q.x*q.x+q.y*q.y+q.z*q.z);q.x*=n;q.y*=n;q.z*=n;0>q.x*d.x+q.y*d.y+q.z*d.z&&(q.x=-q.x,q.y=-q.y,q.z=-q.z);n=b.hs.x;r=b.hs.y;p=b.hs.z;if(0==e)n=0;else if(0<k.a*q.x+k.e*q.y+k.i*q.z){if(n=-n,0!=(b.excludedFaces&2))return!1}else if(0!=(b.excludedFaces&1))return!1;if(1==e)r=0;else if(0<k.b*q.x+k.f*q.y+k.j*q.z){if(r=-r,0!=(b.excludedFaces&8))return!1}else if(0!=(b.excludedFaces&4))return!1;if(2==e)p=0;else if(0<k.c*q.x+k.g*q.y+k.k*q.z){if(p=
-p,0!=(b.excludedFaces&32))return!1}else if(0!=(b.excludedFaces&16))return!1;b=k.a*n+k.b*r+k.c*p+k.d;d=k.e*n+k.f*r+k.g*p+k.h;p=k.i*n+k.j*r+k.k*p+k.l;n=a.U.x*a.P.x+a.U.y*a.P.y+a.U.z*a.P.z;q=n*n-1;e=g-b;var Q=y-d,ba=m-p;r=a.U.x*e+a.U.y*Q+a.U.z*ba;Q=a.P.x*e+a.P.y*Q+a.P.z*ba;e=(Q*n-r)/q;n=(Q-r*n)/q;h.pcount=1;h=h.points[0];h.penetration=a.nb;q=h.pos;q.x=.5*(b+a.U.x*e+g+a.P.x*n);q.y=.5*(d+a.U.y*e+y+a.P.y*n);q.z=.5*(p+a.U.z*e+m+a.P.z*n);a=h.r1;a.x=q.x-k.d;a.y=q.y-k.h;a.z=q.z-k.l;a=h.r2;a.x=q.x-c.d;a.y=
q.y-c.h;a.z=q.z-c.l;return!0}Vi.prototype.m={names:[{name:'BoxTriangleCollider',o:Za,kind:f}]};function Nj(){}x(Gc,Nj);Nj.prototype.m={names:[{name:'IPopUp',o:Gc,kind:l}]};function Oj(){I.call(this);this.typeNames='SimpleAlert'}z(Oj,I);x(Kd,Oj);Oj.prototype.showAlert=function(a){a.addElement(this)};x('org.apache.royale.html.SimpleAlert.prototype.showAlert',Oj.prototype.showAlert);Oj.show=function(a){alert(a);return null};x('org.apache.royale.html.SimpleAlert.show',Oj.show);Oj.prototype.m={names:[{name:'SimpleAlert',o:Kd,kind:f}],s:[Nj]};function Hj(){}x(Xd,Hj);Hj.BIG_ENDIAN='bigEndian';x('org.apache.royale.utils.Endian.BIG_ENDIAN',Hj.BIG_ENDIAN);Hj.LITTLE_ENDIAN='littleEndian';x('org.apache.royale.utils.Endian.LITTLE_ENDIAN',Hj.LITTLE_ENDIAN);Object.defineProperties(Hj,{systemEndian:{get:function(){return Pj}}});var Pj=1718379896==(new Uint32Array((new Uint8Array([102,108,101,120])).buffer))[0]>>>0?Hj.BIG_ENDIAN:Hj.LITTLE_ENDIAN;Hj.prototype.m={names:[{name:'Endian',o:Xd,kind:f}]};function R(a,b,c,d,e,g,h,k,n){this.a='undefined'!==typeof a?a:1;this.b='undefined'!==typeof b?b:0;this.c='undefined'!==typeof c?c:0;this.e='undefined'!==typeof d?d:0;this.f='undefined'!==typeof e?e:1;this.g='undefined'!==typeof g?g:0;this.i='undefined'!==typeof h?h:0;this.j='undefined'!==typeof k?k:0;this.k='undefined'!==typeof n?n:1}x(sa,R);R.prototype.a=NaN;x('alternativa.math.Matrix3.prototype.a',R.prototype.a);R.prototype.b=NaN;x('alternativa.math.Matrix3.prototype.b',R.prototype.b);
R.prototype.c=NaN;x('alternativa.math.Matrix3.prototype.c',R.prototype.c);R.prototype.e=NaN;x('alternativa.math.Matrix3.prototype.e',R.prototype.e);R.prototype.f=NaN;x('alternativa.math.Matrix3.prototype.f',R.prototype.f);R.prototype.g=NaN;x('alternativa.math.Matrix3.prototype.g',R.prototype.g);R.prototype.i=NaN;x('alternativa.math.Matrix3.prototype.i',R.prototype.i);R.prototype.j=NaN;x('alternativa.math.Matrix3.prototype.j',R.prototype.j);R.prototype.k=NaN;
x('alternativa.math.Matrix3.prototype.k',R.prototype.k);R.prototype.toIdentity=function(){this.a=this.f=this.k=1;this.b=this.c=this.e=this.g=this.i=this.j=0;return this};x('alternativa.math.Matrix3.prototype.toIdentity',R.prototype.toIdentity);
R.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.e,e=this.f,g=this.g,h=this.i,k=this.j,n=this.k,m=1/(-c*e*h+b*g*h+c*d*k-a*g*k-b*d*n+a*e*n);this.a=(e*n-g*k)*m;this.b=(c*k-b*n)*m;this.c=(b*g-c*e)*m;this.e=(g*h-d*n)*m;this.f=(a*n-c*h)*m;this.g=(c*d-a*g)*m;this.i=(d*k-e*h)*m;this.j=(b*h-a*k)*m;this.k=(a*e-b*d)*m;return this};x('alternativa.math.Matrix3.prototype.invert',R.prototype.invert);
R.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.e,g=this.f,h=this.g,k=this.i,n=this.j,m=this.k;this.a=a.a*b+a.b*e+a.c*k;this.b=a.a*c+a.b*g+a.c*n;this.c=a.a*d+a.b*h+a.c*m;this.e=a.e*b+a.f*e+a.g*k;this.f=a.e*c+a.f*g+a.g*n;this.g=a.e*d+a.f*h+a.g*m;this.i=a.i*b+a.j*e+a.k*k;this.j=a.i*c+a.j*g+a.k*n;this.k=a.i*d+a.j*h+a.k*m;return this};x('alternativa.math.Matrix3.prototype.append',R.prototype.append);
R.prototype.prepend=function(a){var b=this.a,c=this.b,d=this.c,e=this.e,g=this.f,h=this.g,k=this.i,n=this.j,m=this.k;this.a=b*a.a+c*a.e+d*a.i;this.b=b*a.b+c*a.f+d*a.j;this.c=b*a.c+c*a.g+d*a.k;this.e=e*a.a+g*a.e+h*a.i;this.f=e*a.b+g*a.f+h*a.j;this.g=e*a.c+g*a.g+h*a.k;this.i=k*a.a+n*a.e+m*a.i;this.j=k*a.b+n*a.f+m*a.j;this.k=k*a.c+n*a.g+m*a.k;return this};x('alternativa.math.Matrix3.prototype.prepend',R.prototype.prepend);
R.prototype.prependTransposed=function(a){var b=this.a,c=this.b,d=this.c,e=this.e,g=this.f,h=this.g,k=this.i,n=this.j,m=this.k;this.a=b*a.a+c*a.b+d*a.c;this.b=b*a.e+c*a.f+d*a.g;this.c=b*a.i+c*a.j+d*a.k;this.e=e*a.a+g*a.b+h*a.c;this.f=e*a.e+g*a.f+h*a.g;this.g=e*a.i+g*a.j+h*a.k;this.i=k*a.a+n*a.b+m*a.c;this.j=k*a.e+n*a.f+m*a.g;this.k=k*a.i+n*a.j+m*a.k;return this};x('alternativa.math.Matrix3.prototype.prependTransposed',R.prototype.prependTransposed);
R.prototype.add=function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.e+=a.e;this.f+=a.f;this.g+=a.g;this.i+=a.i;this.j+=a.j;this.k+=a.k;return this};x('alternativa.math.Matrix3.prototype.add',R.prototype.add);R.prototype.subtract=function(a){this.a-=a.a;this.b-=a.b;this.c-=a.c;this.e-=a.e;this.f-=a.f;this.g-=a.g;this.i-=a.i;this.j-=a.j;this.k-=a.k;return this};x('alternativa.math.Matrix3.prototype.subtract',R.prototype.subtract);
R.prototype.transpose=function(){var a=this.b;this.b=this.e;this.e=a;a=this.c;this.c=this.i;this.i=a;a=this.g;this.g=this.j;this.j=a;return this};x('alternativa.math.Matrix3.prototype.transpose',R.prototype.transpose);R.prototype.transformVector=function(a,b){b.x=this.a*a.x+this.b*a.y+this.c*a.z;b.y=this.e*a.x+this.f*a.y+this.g*a.z;b.z=this.i*a.x+this.j*a.y+this.k*a.z};x('alternativa.math.Matrix3.prototype.transformVector',R.prototype.transformVector);
R.prototype.transformVectorTransposed=function(a,b){b.x=this.a*a.x+this.e*a.y+this.i*a.z;b.y=this.b*a.x+this.f*a.y+this.j*a.z;b.z=this.c*a.x+this.g*a.y+this.k*a.z};x('alternativa.math.Matrix3.prototype.transformVectorTransposed',R.prototype.transformVectorTransposed);R.prototype.createSkewSymmetric=function(a){this.a=this.f=this.k=0;this.b=-a.z;this.c=a.y;this.e=a.z;this.g=-a.x;this.i=-a.y;this.j=a.x;return this};x('alternativa.math.Matrix3.prototype.createSkewSymmetric',R.prototype.createSkewSymmetric);
R.prototype.copy=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.e=a.e;this.f=a.f;this.g=a.g;this.i=a.i;this.j=a.j;this.k=a.k;return this};x('alternativa.math.Matrix3.prototype.copy',R.prototype.copy);R.prototype.setRotationMatrix=function(a,b,c){var d=Math.cos(a);a=Math.sin(a);var e=Math.cos(b);b=Math.sin(b);var g=Math.cos(c);c=Math.sin(c);var h=g*b,k=c*b;this.a=g*e;this.b=h*a-c*d;this.c=h*d+c*a;this.e=c*e;this.f=k*a+g*d;this.g=k*d-g*a;this.i=-b;this.j=e*a;this.k=e*d};
x('alternativa.math.Matrix3.prototype.setRotationMatrix',R.prototype.setRotationMatrix);R.prototype.fromAxisAngle=function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=1-c,e=a.x,g=a.y;a=a.z;this.a=d*e*e+c;this.b=d*e*g-a*b;this.c=d*e*a+g*b;this.e=d*e*g+a*b;this.f=d*g*g+c;this.g=d*g*a-e*b;this.i=d*e*a-g*b;this.j=d*g*a+e*b;this.k=d*a*a+c};x('alternativa.math.Matrix3.prototype.fromAxisAngle',R.prototype.fromAxisAngle);
R.prototype.clone=function(){return new R(this.a,this.b,this.c,this.e,this.f,this.g,this.i,this.j,this.k)};x('alternativa.math.Matrix3.prototype.clone',R.prototype.clone);R.prototype.toString=function(){return'[Matrix3 ('+this.a+aa+this.b+aa+this.c+'), ('+this.e+aa+this.f+aa+this.g+'), ('+this.i+aa+this.j+aa+this.k+')]'};x('alternativa.math.Matrix3.prototype.toString',R.prototype.toString);
R.prototype.getEulerAngles=function(a){-1<this.i&&1>this.i?(a.x=Math.atan2(this.j,this.k),a.y=-Math.asin(this.i),a.z=Math.atan2(this.e,this.a)):(a.x=0,a.y=-1>=this.i?Math.PI:-Math.PI,a.y*=.5,a.z=Math.atan2(-this.b,this.f))};x('alternativa.math.Matrix3.prototype.getEulerAngles',R.prototype.getEulerAngles);R.prototype.m={names:[{name:'Matrix3',o:sa,kind:f}]};Object.keys(R);function M(a,b,c,d,e,g,h,k,n,m,p,q){this.a='undefined'!==typeof a?a:1;this.b='undefined'!==typeof b?b:0;this.c='undefined'!==typeof c?c:0;this.d='undefined'!==typeof d?d:0;this.e='undefined'!==typeof e?e:0;this.f='undefined'!==typeof g?g:1;this.g='undefined'!==typeof h?h:0;this.h='undefined'!==typeof k?k:0;this.i='undefined'!==typeof n?n:0;this.j='undefined'!==typeof m?m:0;this.k='undefined'!==typeof p?p:1;this.l='undefined'!==typeof q?q:0}x(ta,M);M.prototype.a=NaN;
x('alternativa.math.Matrix4.prototype.a',M.prototype.a);M.prototype.b=NaN;x('alternativa.math.Matrix4.prototype.b',M.prototype.b);M.prototype.c=NaN;x('alternativa.math.Matrix4.prototype.c',M.prototype.c);M.prototype.d=NaN;x('alternativa.math.Matrix4.prototype.d',M.prototype.d);M.prototype.e=NaN;x('alternativa.math.Matrix4.prototype.e',M.prototype.e);M.prototype.f=NaN;x('alternativa.math.Matrix4.prototype.f',M.prototype.f);M.prototype.g=NaN;x('alternativa.math.Matrix4.prototype.g',M.prototype.g);
M.prototype.h=NaN;x('alternativa.math.Matrix4.prototype.h',M.prototype.h);M.prototype.i=NaN;x('alternativa.math.Matrix4.prototype.i',M.prototype.i);M.prototype.j=NaN;x('alternativa.math.Matrix4.prototype.j',M.prototype.j);M.prototype.k=NaN;x('alternativa.math.Matrix4.prototype.k',M.prototype.k);M.prototype.l=NaN;x('alternativa.math.Matrix4.prototype.l',M.prototype.l);M.prototype.toIdentity=function(){this.a=this.f=this.k=1;this.b=this.c=this.e=this.g=this.i=this.j=this.d=this.h=this.l=0;return this};
x('alternativa.math.Matrix4.prototype.toIdentity',M.prototype.toIdentity);
M.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.e,g=this.f,h=this.g,k=this.h,n=this.i,m=this.j,p=this.k,q=this.l,r=-c*g*n+b*h*n+c*e*m-a*h*m-b*e*p+a*g*p;this.a=(-h*m+g*p)/r;this.b=(c*m-b*p)/r;this.c=(-c*g+b*h)/r;this.d=(d*h*m-c*k*m-d*g*p+b*k*p+c*g*q-b*h*q)/r;this.e=(h*n-e*p)/r;this.f=(-c*n+a*p)/r;this.g=(c*e-a*h)/r;this.h=(c*k*n-d*h*n+d*e*p-a*k*p-c*e*q+a*h*q)/r;this.i=(-g*n+e*m)/r;this.j=(b*n-a*m)/r;this.k=(-b*e+a*g)/r;this.l=(d*g*n-b*k*n-d*e*m+a*k*m+b*e*q-a*g*q)/r;return this};
x('alternativa.math.Matrix4.prototype.invert',M.prototype.invert);
M.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d,g=this.e,h=this.f,k=this.g,n=this.h,m=this.i,p=this.j,q=this.k,r=this.l;this.a=a.a*b+a.b*g+a.c*m;this.b=a.a*c+a.b*h+a.c*p;this.c=a.a*d+a.b*k+a.c*q;this.d=a.a*e+a.b*n+a.c*r+a.d;this.e=a.e*b+a.f*g+a.g*m;this.f=a.e*c+a.f*h+a.g*p;this.g=a.e*d+a.f*k+a.g*q;this.h=a.e*e+a.f*n+a.g*r+a.h;this.i=a.i*b+a.j*g+a.k*m;this.j=a.i*c+a.j*h+a.k*p;this.k=a.i*d+a.j*k+a.k*q;this.l=a.i*e+a.j*n+a.k*r+a.l;return this};
x('alternativa.math.Matrix4.prototype.append',M.prototype.append);
M.prototype.prepend=function(a){var b=this.a,c=this.b,d=this.c,e=this.d,g=this.e,h=this.f,k=this.g,n=this.h,m=this.i,p=this.j,q=this.k,r=this.l;this.a=b*a.a+c*a.e+d*a.i;this.b=b*a.b+c*a.f+d*a.j;this.c=b*a.c+c*a.g+d*a.k;this.d=b*a.d+c*a.h+d*a.l+e;this.e=g*a.a+h*a.e+k*a.i;this.f=g*a.b+h*a.f+k*a.j;this.g=g*a.c+h*a.g+k*a.k;this.h=g*a.d+h*a.h+k*a.l+n;this.i=m*a.a+p*a.e+q*a.i;this.j=m*a.b+p*a.f+q*a.j;this.k=m*a.c+p*a.g+q*a.k;this.l=m*a.d+p*a.h+q*a.l+r;return this};
x('alternativa.math.Matrix4.prototype.prepend',M.prototype.prepend);M.prototype.add=function(a){this.a+=a.a;this.b+=a.b;this.c+=a.c;this.d+=a.d;this.e+=a.e;this.f+=a.f;this.g+=a.g;this.h+=a.h;this.i+=a.i;this.j+=a.j;this.k+=a.k;this.l+=a.l;return this};x('alternativa.math.Matrix4.prototype.add',M.prototype.add);M.prototype.subtract=function(a){this.a-=a.a;this.b-=a.b;this.c-=a.c;this.d-=a.d;this.e-=a.e;this.f-=a.f;this.g-=a.g;this.h-=a.h;this.i-=a.i;this.j-=a.j;this.k-=a.k;this.l-=a.l;return this};
x('alternativa.math.Matrix4.prototype.subtract',M.prototype.subtract);M.prototype.transformPoint=function(a,b){b.x=this.a*a.x+this.b*a.y+this.c*a.z+this.d;b.y=this.e*a.x+this.f*a.y+this.g*a.z+this.h;b.z=this.i*a.x+this.j*a.y+this.k*a.z+this.l};x('alternativa.math.Matrix4.prototype.transformPoint',M.prototype.transformPoint);
M.prototype.transformPointTransposed=function(a,b){var c=a.x-this.d,d=a.y-this.h;a=a.z-this.l;b.x=this.a*c+this.e*d+this.i*a;b.y=this.b*c+this.f*d+this.j*a;b.z=this.c*c+this.g*d+this.k*a};x('alternativa.math.Matrix4.prototype.transformPointTransposed',M.prototype.transformPointTransposed);
M.prototype.transformPoints=function(a,b){for(var c,d,e=a.length>>0,g=0;g<e;g++)c=a[a._ci(g)],d=b[b._ci(g)],d.x=this.a*c.x+this.b*c.y+this.c*c.z+this.d,d.y=this.e*c.x+this.f*c.y+this.g*c.z+this.h,d.z=this.i*c.x+this.j*c.y+this.k*c.z+this.l};x('alternativa.math.Matrix4.prototype.transformPoints',M.prototype.transformPoints);
M.prototype.transformPointsN=function(a,b,c){for(var d,e,g=0;g<c;g++)d=a[a._ci(g)],e=b[b._ci(g)],e.x=this.a*d.x+this.b*d.y+this.c*d.z+this.d,e.y=this.e*d.x+this.f*d.y+this.g*d.z+this.h,e.z=this.i*d.x+this.j*d.y+this.k*d.z+this.l};x('alternativa.math.Matrix4.prototype.transformPointsN',M.prototype.transformPointsN);
M.prototype.transformPointsTransposed=function(a,b){for(var c,d,e=a.length>>0,g=0;g<e;g++){c=a[a._ci(g)];d=b[b._ci(g)];var h=c.x-this.d,k=c.y-this.h;c=c.z-this.l;d.x=this.a*h+this.e*k+this.i*c;d.y=this.b*h+this.f*k+this.j*c;d.z=this.c*h+this.g*k+this.k*c}};x('alternativa.math.Matrix4.prototype.transformPointsTransposed',M.prototype.transformPointsTransposed);
M.prototype.transformPointsTransposedN=function(a,b,c){for(var d,e,g=0;g<c;g++){d=a[a._ci(g)];e=b[b._ci(g)];var h=d.x-this.d,k=d.y-this.h;d=d.z-this.l;e.x=this.a*h+this.e*k+this.i*d;e.y=this.b*h+this.f*k+this.j*d;e.z=this.c*h+this.g*k+this.k*d}};x('alternativa.math.Matrix4.prototype.transformPointsTransposedN',M.prototype.transformPointsTransposedN);
M.prototype.getAxis=function(a,b){switch(a){case 0:b.x=this.a;b.y=this.e;b.z=this.i;break;case 1:b.x=this.b;b.y=this.f;b.z=this.j;break;case 2:b.x=this.c;b.y=this.g;b.z=this.k;break;case 3:b.x=this.d,b.y=this.h,b.z=this.l}};x('alternativa.math.Matrix4.prototype.getAxis',M.prototype.getAxis);M.prototype.setAxes=function(a,b,c,d){this.a=a.x;this.e=a.y;this.i=a.z;this.b=b.x;this.f=b.y;this.j=b.z;this.c=c.x;this.g=c.y;this.k=c.z;this.d=d.x;this.h=d.y;this.l=d.z};
x('alternativa.math.Matrix4.prototype.setAxes',M.prototype.setAxes);M.prototype.transformVector=function(a,b){b.x=this.a*a.x+this.b*a.y+this.c*a.z;b.y=this.e*a.x+this.f*a.y+this.g*a.z;b.z=this.i*a.x+this.j*a.y+this.k*a.z};x('alternativa.math.Matrix4.prototype.transformVector',M.prototype.transformVector);M.prototype.transformVectorTransposed=function(a,b){b.x=this.a*a.x+this.e*a.y+this.i*a.z;b.y=this.b*a.x+this.f*a.y+this.j*a.z;b.z=this.c*a.x+this.g*a.y+this.k*a.z};
x('alternativa.math.Matrix4.prototype.transformVectorTransposed',M.prototype.transformVectorTransposed);M.prototype.copy=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.d=a.d;this.e=a.e;this.f=a.f;this.g=a.g;this.h=a.h;this.i=a.i;this.j=a.j;this.k=a.k;this.l=a.l;return this};x('alternativa.math.Matrix4.prototype.copy',M.prototype.copy);
M.prototype.setFromMatrix3=function(a,b){this.a=a.a;this.b=a.b;this.c=a.c;this.d=b.x;this.e=a.e;this.f=a.f;this.g=a.g;this.h=b.y;this.i=a.i;this.j=a.j;this.k=a.k;this.l=b.z;return this};x('alternativa.math.Matrix4.prototype.setFromMatrix3',M.prototype.setFromMatrix3);M.prototype.setOrientationFromMatrix3=function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.e=a.e;this.f=a.f;this.g=a.g;this.i=a.i;this.j=a.j;this.k=a.k;return this};x('alternativa.math.Matrix4.prototype.setOrientationFromMatrix3',M.prototype.setOrientationFromMatrix3);
M.prototype.getEulerAngles=function(a){-1<this.i&&1>this.i?(a.x=Math.atan2(this.j,this.k),a.y=-Math.asin(this.i),a.z=Math.atan2(this.e,this.a)):(a.x=0,a.y=-1>=this.i?Math.PI:-Math.PI,a.y*=.5,a.z=Math.atan2(-this.b,this.f))};x('alternativa.math.Matrix4.prototype.getEulerAngles',M.prototype.getEulerAngles);M.prototype.setPosition=function(a){this.d=a.x;this.h=a.y;this.l=a.z};x('alternativa.math.Matrix4.prototype.setPosition',M.prototype.setPosition);
M.prototype.setPositionXYZ=function(a,b,c){this.d=a;this.h=b;this.l=c};x('alternativa.math.Matrix4.prototype.setPositionXYZ',M.prototype.setPositionXYZ);M.prototype.clone=function(){return new M(this.a,this.b,this.c,this.d,this.e,this.f,this.g,this.h,this.i,this.j,this.k,this.l)};x('alternativa.math.Matrix4.prototype.clone',M.prototype.clone);
M.prototype.toString=function(){return'[Matrix4 ['+this.a.toFixed(3)+' '+this.b.toFixed(3)+' '+this.c.toFixed(3)+' '+this.d.toFixed(3)+'] ['+this.e.toFixed(3)+' '+this.f.toFixed(3)+' '+this.g.toFixed(3)+' '+this.h.toFixed(3)+'] ['+this.i.toFixed(3)+' '+this.j.toFixed(3)+' '+this.k.toFixed(3)+' '+this.l.toFixed(3)+']]'};x('alternativa.math.Matrix4.prototype.toString',M.prototype.toString);
M.prototype.setRotationMatrix=function(a,b,c){var d=Math.cos(a);a=Math.sin(a);var e=Math.cos(b);b=Math.sin(b);var g=Math.cos(c);c=Math.sin(c);var h=g*b,k=c*b;this.a=g*e;this.b=h*a-c*d;this.c=h*d+c*a;this.e=c*e;this.f=k*a+g*d;this.g=k*d-g*a;this.i=-b;this.j=e*a;this.k=e*d};x('alternativa.math.Matrix4.prototype.setRotationMatrix',M.prototype.setRotationMatrix);
M.prototype.fromAxisAngle=function(a,b){var c=Math.cos(b);b=Math.sin(b);var d=1-c,e=a.x,g=a.y;a=a.z;this.a=d*e*e+c;this.b=d*e*g-a*b;this.c=d*e*a+g*b;this.e=d*e*g+a*b;this.f=d*g*g+c;this.g=d*g*a-e*b;this.i=d*e*a-g*b;this.j=d*g*a+e*b;this.k=d*a*a+c};x('alternativa.math.Matrix4.prototype.fromAxisAngle',M.prototype.fromAxisAngle);M.prototype.m={names:[{name:'Matrix4',o:ta,kind:f}]};Object.keys(M);function Gj(a,b){L.call(this,L.SPHERE,b);this.r=a}z(Gj,L);x(cb,Gj);Gj.prototype.r=0;x('alternativa.physics.collision.primitives.CollisionSphere.prototype.r',Gj.prototype.r);Gj.prototype.calculateAABB=function(){this.aabb.maxX=this.transform.d+this.r;this.aabb.minX=this.transform.d-this.r;this.aabb.maxY=this.transform.h+this.r;this.aabb.minY=this.transform.h-this.r;this.aabb.maxZ=this.transform.l+this.r;this.aabb.minZ=this.transform.l-this.r;return this.aabb};
x('alternativa.physics.collision.primitives.CollisionSphere.prototype.calculateAABB',Gj.prototype.calculateAABB);Gj.prototype.raycast=function(a,b){var c=a.x-this.transform.d,d=a.y-this.transform.h,e=a.z-this.transform.l;a=b.x*c+b.y*d+b.z*e;if(0<a)return-1;b=b.x*b.x+b.y*b.y+b.z*b.z;c=a*a-b*(c*c+d*d+e*e-this.r*this.r);return 0>c?-1:-(a+Math.sqrt(c))/b};x('alternativa.physics.collision.primitives.CollisionSphere.prototype.raycast',Gj.prototype.raycast);
Gj.prototype.copyFrom=function(a){a=A(a,Gj);if(null==a)return this;Gj.M.copyFrom.apply(this,[a]);this.r=a.r;return this};x('alternativa.physics.collision.primitives.CollisionSphere.prototype.copyFrom',Gj.prototype.copyFrom);Gj.prototype.createPrimitive=function(){return new Gj(this.r,this.collisionGroup)};Gj.prototype.m={names:[{name:'CollisionSphere',o:cb,kind:f}]};function V(a,b){this.parentTree=a;this.parentNode=b}x(La,V);V.prototype.threshold=.1;x('alternativa.physics.collision.CollisionKdTree2D.prototype.threshold',V.prototype.threshold);V.prototype.minPrimitivesPerNode=1;x('alternativa.physics.collision.CollisionKdTree2D.prototype.minPrimitivesPerNode',V.prototype.minPrimitivesPerNode);V.prototype.parentTree=null;x('alternativa.physics.collision.CollisionKdTree2D.prototype.parentTree',V.prototype.parentTree);V.prototype.parentNode=null;
x('alternativa.physics.collision.CollisionKdTree2D.prototype.parentNode',V.prototype.parentNode);V.prototype.rootNode=null;x('alternativa.physics.collision.CollisionKdTree2D.prototype.rootNode',V.prototype.rootNode);V.prototype.jb=0;V.prototype.oc=NaN;V.prototype.Ya=NaN;Object.defineProperties(V,{C:{get:function(){var a=new Mi;Object.defineProperties(V,{C:{value:a,writable:!1}});return a},configurable:!0}});
Object.defineProperties(V,{ga:{get:function(){var a=new (og(ma));Object.defineProperties(V,{ga:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(V,{ha:{get:function(){var a=new (og(ma));Object.defineProperties(V,{ha:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(V,{ia:{get:function(){var a=new (og(ma));Object.defineProperties(V,{ia:{value:a,writable:!1}});return a},configurable:!0}});
Object.defineProperties(V,{H:{get:function(){var a=new (og(ma))(6);Object.defineProperties(V,{H:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(V,{B:{get:function(){var a=new (og(ma))(6);Object.defineProperties(V,{B:{value:a,writable:!1}});return a},configurable:!0}});
V.prototype.createTree=function(){this.rootNode=new Qj;this.rootNode.boundBox=this.parentNode.boundBox.clone();this.rootNode.indices=new (og(Ob));for(var a=this.parentNode.splitIndices.length>>0,b=0;b<a;++b)this.rootNode.indices[this.rootNode.indices._ci(b)]=this.parentNode.splitIndices[this.parentNode.splitIndices._ci(b)];Rj(this,this.rootNode);V.ga._s.length=V.ha._s.length=V.ia._s.length=0};
function Rj(a,b){var c=0,d=0,e,g=0;if(!(b.indices.length<=a.minPrimitivesPerNode)){var h=b.indices,k=b.boundBox;V.C.minX=k.minX+a.threshold;V.C.minY=k.minY+a.threshold;V.C.minZ=k.minZ+a.threshold;V.C.maxX=k.maxX-a.threshold;V.C.maxY=k.maxY-a.threshold;V.C.maxZ=k.maxZ-a.threshold;var n=a.parentTree.staticBoundBoxes;var m=h.length>>0;for(e=0;e<m;++e){var p=n[h[e]];0!=a.parentNode.axis&&(p.minX>V.C.minX&&(V.ga[V.ga._ci(d++)]=p.minX),p.maxX<V.C.maxX&&(V.ga[V.ga._ci(d++)]=p.maxX));1!=a.parentNode.axis&&
(p.minY>V.C.minY&&(V.ha[V.ha._ci(c++)]=p.minY),p.maxY<V.C.maxY&&(V.ha[V.ha._ci(c++)]=p.maxY));2!=a.parentNode.axis&&(p.minZ>V.C.minZ&&(V.ia[V.ia._ci(g++)]=p.minZ),p.maxZ<V.C.maxZ&&(V.ia[V.ia._ci(g++)]=p.maxZ))}a.jb=-1;a.oc=1E308;V.H[V.H._ci(0)]=k.minX;V.H[V.H._ci(1)]=k.minY;V.H[V.H._ci(2)]=k.minZ;V.H[V.H._ci(3)]=k.maxX;V.H[V.H._ci(4)]=k.maxY;V.H[V.H._ci(5)]=k.maxZ;0!=a.parentNode.axis&&Sj(a,b,0,d,V.ga);1!=a.parentNode.axis&&Sj(a,b,1,c,V.ha);2!=a.parentNode.axis&&Sj(a,b,2,g,V.ia);if(!(0>a.jb)){c=0==
a.jb;d=1==a.jb;b.axis=a.jb;b.coord=a.Ya;b.negativeNode=new Qj;b.negativeNode.parent=b;b.negativeNode.boundBox=k.clone();b.positiveNode=new Qj;b.positiveNode.parent=b;b.positiveNode.boundBox=k.clone();c?b.negativeNode.boundBox.maxX=b.positiveNode.boundBox.minX=a.Ya:d?b.negativeNode.boundBox.maxY=b.positiveNode.boundBox.minY=a.Ya:b.negativeNode.boundBox.maxZ=b.positiveNode.boundBox.minZ=a.Ya;k=a.Ya-a.threshold;g=a.Ya+a.threshold;for(e=0;e<m;++e){p=n[n._ci(h[e])];var q=c?p.minX:d?p.minY:p.minZ;p=c?p.maxX:
d?p.maxY:p.maxZ;p<=g?q<k&&(null==b.negativeNode.indices&&(b.negativeNode.indices=new (og(Ob))),b.negativeNode.indices.push(h[e]),h[h._ci(e)]=-1):q>=k&&p>g&&(null==b.positiveNode.indices&&(b.positiveNode.indices=new (og(Ob))),b.positiveNode.indices.push(h[e]),h[h._ci(e)]=-1)}for(n=e=0;e<m;++e)0<=h[e]&&(h[h._ci(n++)]=h[h._ci(e)]);0<n?h._s.length=n>>>0:b.indices=null;null!=b.negativeNode.indices&&Rj(a,b.negativeNode);null!=b.positiveNode.indices&&Rj(a,b.positiveNode)}}}
function Sj(a,b,c,d,e){var g=V.H,h=(c+1)%3>>0,k=(c+2)%3>>0;h=(g[h+3]-g[h])*(g[k+3]-g[k]);k=a.parentTree.staticBoundBoxes;for(var n=0;n<d;++n){var m=e[n];if(!isNaN(m)){for(var p=m-a.threshold,q=m+a.threshold,r=h*(m-g[c]),y=h*(g[c+3>>0]-m),Q=0,ba=0,Ga=!1,ya=b.indices.length>>0,Ca=0;Ca<ya;Ca++){var cd=k[b.indices[Ca]];V.B[V.B._ci(0)]=cd.minX;V.B[V.B._ci(1)]=cd.minY;V.B[V.B._ci(2)]=cd.minZ;V.B[V.B._ci(3)]=cd.maxX;V.B[V.B._ci(4)]=cd.maxY;V.B[V.B._ci(5)]=cd.maxZ;if(V.B[c+3]<=q)V.B[c]<p&&Q++;else if(V.B[c]>=
p)ba++;else{Ga=!0;break}}p=r*Q+y*ba;!Ga&&p<a.oc&&(a.jb=c,a.oc=p,a.Ya=m);for(Ca=n+1>>0;Ca<d;++Ca)e[Ca]>=m-a.threshold&&e[Ca]<=m+a.threshold&&(e[e._ci(Ca)]=NaN)}}}V.prototype.m={names:[{name:'CollisionKdTree2D',o:La,kind:f}]};Object.keys(V);function Tj(){I.call(this)}z(Tj,I);x(Fd,Tj);Tj.prototype.createElement=function(){Rh(this,'button');this.element.setAttribute('type','button');return this.element};Tj.prototype.m={names:[{name:'ButtonBase',o:Fd,kind:f}],s:[lh,mh,Jh]};function Uj(){I.call(this)}z(Uj,Tj);x(Ed,Uj);Uj.prototype.createElement=function(){Uj.M.createElement.apply(this);this.typeNames='Button';return this.element};Uj.prototype.m={names:[{name:'Button',o:Ed,kind:f}]};function Mi(){}x(eb,Mi);Mi.prototype.minX=1E308;x('alternativa.physics.collision.types.BoundBox.prototype.minX',Mi.prototype.minX);Mi.prototype.minY=1E308;x('alternativa.physics.collision.types.BoundBox.prototype.minY',Mi.prototype.minY);Mi.prototype.minZ=1E308;x('alternativa.physics.collision.types.BoundBox.prototype.minZ',Mi.prototype.minZ);Mi.prototype.maxX=-1E308;x('alternativa.physics.collision.types.BoundBox.prototype.maxX',Mi.prototype.maxX);Mi.prototype.maxY=-1E308;
x('alternativa.physics.collision.types.BoundBox.prototype.maxY',Mi.prototype.maxY);Mi.prototype.maxZ=-1E308;x('alternativa.physics.collision.types.BoundBox.prototype.maxZ',Mi.prototype.maxZ);Mi.prototype.setSize=function(a,b,c,d,e,g){this.minX=a;this.minY=b;this.minZ=c;this.maxX=d;this.maxY=e;this.maxZ=g};x('alternativa.physics.collision.types.BoundBox.prototype.setSize',Mi.prototype.setSize);
Mi.prototype.addBoundBox=function(a){this.minX=a.minX<this.minX?a.minX:this.minX;this.minY=a.minY<this.minY?a.minY:this.minY;this.minZ=a.minZ<this.minZ?a.minZ:this.minZ;this.maxX=a.maxX>this.maxX?a.maxX:this.maxX;this.maxY=a.maxY>this.maxY?a.maxY:this.maxY;this.maxZ=a.maxZ>this.maxZ?a.maxZ:this.maxZ};x('alternativa.physics.collision.types.BoundBox.prototype.addBoundBox',Mi.prototype.addBoundBox);
Mi.prototype.addPoint=function(a,b,c){a<this.minX&&(this.minX=a);a>this.maxX&&(this.maxX=a);b<this.minY&&(this.minY=b);b>this.maxY&&(this.maxY=b);c<this.minZ&&(this.minZ=c);c>this.maxZ&&(this.maxZ=c)};x('alternativa.physics.collision.types.BoundBox.prototype.addPoint',Mi.prototype.addPoint);Mi.prototype.infinity=function(){this.minZ=this.minY=this.minX=1E308;this.maxZ=this.maxY=this.maxX=-1E308};
Mi.prototype.intersects=function(a,b){return!(this.minX>a.maxX+b||this.maxX<a.minX-b||this.minY>a.maxY+b||this.maxY<a.minY-b||this.minZ>a.maxZ+b||this.maxZ<a.minZ-b)};x('alternativa.physics.collision.types.BoundBox.prototype.intersects',Mi.prototype.intersects);Mi.prototype.copyFrom=function(a){this.minX=a.minX;this.minY=a.minY;this.minZ=a.minZ;this.maxX=a.maxX;this.maxY=a.maxY;this.maxZ=a.maxZ};x('alternativa.physics.collision.types.BoundBox.prototype.copyFrom',Mi.prototype.copyFrom);
Mi.prototype.clone=function(){var a=new Mi;a.copyFrom(this);return a};x('alternativa.physics.collision.types.BoundBox.prototype.clone',Mi.prototype.clone);Mi.prototype.toString=function(){return'BoundBox ['+this.minX+aa+this.minY+aa+this.minZ+' : '+this.maxX+aa+this.maxY+aa+this.maxZ+']'};x('alternativa.physics.collision.types.BoundBox.prototype.toString',Mi.prototype.toString);Mi.prototype.m={names:[{name:'BoundBox',o:eb,kind:f}]};function ri(a,b,c,d,e){d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;G.call(this,a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1);this.oldValue=d;this.newValue=e}z(ri,G);x(rd,ri);ri.VALUE_CHANGE='valueChange';x('org.apache.royale.events.ValueChangeEvent.VALUE_CHANGE',ri.VALUE_CHANGE);ri.createUpdateEvent=function(a,b,c,d){c=new ri(ri.VALUE_CHANGE,!1,!1,c,d);c.propertyName=b;c.source=a;return c};x('org.apache.royale.events.ValueChangeEvent.createUpdateEvent',ri.createUpdateEvent);
ri.prototype.cloneEvent=function(){return new ri(this.type,this.bubbles,this.cancelable,this.oldValue,this.newValue)};x('org.apache.royale.events.ValueChangeEvent.prototype.cloneEvent',ri.prototype.cloneEvent);ri.prototype.m={names:[{name:'ValueChangeEvent',o:rd,kind:f}]};function xh(){}x(nc,xh);xh.prototype.m={names:[{name:'IBeadModel',o:nc,kind:l}],s:[yh,mh]};function Vj(){}x(ic,Vj);Vj.prototype.m={names:[{name:'IAlertModel',o:ic,kind:l}],s:[mh,xh]};function Aj(){this.pos=new J;this.orientation=new S;this.velocity=new J;this.rotation=new J}x(Ba,Aj);Aj.prototype.pos=null;x('alternativa.physics.BodyState.prototype.pos',Aj.prototype.pos);Aj.prototype.orientation=null;x('alternativa.physics.BodyState.prototype.orientation',Aj.prototype.orientation);Aj.prototype.velocity=null;x('alternativa.physics.BodyState.prototype.velocity',Aj.prototype.velocity);Aj.prototype.rotation=null;x('alternativa.physics.BodyState.prototype.rotation',Aj.prototype.rotation);
Aj.prototype.copy=function(a){this.pos.copy(a.pos);this.orientation.copy(a.orientation);this.velocity.copy(a.velocity);this.rotation.copy(a.rotation)};x('alternativa.physics.BodyState.prototype.copy',Aj.prototype.copy);Aj.prototype.m={names:[{name:'BodyState',o:Ba,kind:f}]};function Wj(){lj.call(this)}z(Wj,lj);x(Id,Wj);Wj.prototype.m={names:[{name:'HGroup',o:Id,kind:f}]};function Xj(){}x(Uc,Xj);w=Xj.prototype;w.getValue=t();w.newInstance=t();w.getInstance=t();w.init=t();w.convertColor=t();w.parseStyles=t();w.addRule=t();w.applyStyles=t();w.m={names:[{name:'IValuesImpl',o:Uc,kind:l}]};function kj(){}x('MapView',kj);kj.scene=void 0;x('MapView.scene',kj.scene);kj.camera=void 0;x('MapView.camera',kj.camera);var Yj=!1;
kj.initScene=function(){function a(a){n.text='Indices in selected node: '+(a?a:'')}if(!Yj){Yj=!0;kj.scene=new THREE.Scene;var b=new THREE.CubeTextureLoader;b.setPath('https://raw.githubusercontent.com/terminal-cs/TO-assets/main/Battle/skyboxes/skybox18/');kj.scene.background=b.load('01.jpg 03.jpg 05.jpg 06.jpg 04.jpg 02.jpg'.split(' '));kj.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,12E4);kj.scene.add(new THREE.AmbientLight(16777215,.6));b=new THREE.DirectionalLight(16777215,
.9);b.position.set(1,.5,0);kj.scene.add(b);var c=new THREE.WebGLRenderer;c.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(A(c.domElement,Node,!0));window.addEventListener('resize',function(){kj.camera.aspect=window.innerWidth/window.innerHeight;kj.camera.updateProjectionMatrix();c.setSize(window.innerWidth,window.innerHeight)},!1);var d=new Zj(kj.camera),e=Ej.instance.cameraPosLabel,g=new THREE.Raycaster,h=new THREE.Vector2,k;window.addEventListener(ak,function(a){h.x=a.clientX/
window.innerWidth*2-1;h.y=2*-(a.clientY/window.innerHeight)+1});var n=Ej.instance.selectedNodeIndicesLabel,m=new THREE.Clock,p=0;c.setAnimationLoop(function(){var b=Number(m.getElapsedTime()),n=b-p;p=b;g.setFromCamera(h,kj.camera);(b=Cj.group)&&b.children&&(b=g.intersectObjects(b.children,!1),0<b.length?k!=b[0].object&&(k&&(k.material.opacity=k.Sd,k.material.emissive.setHex(0)),k=b[0].object,k.Sd=k.material.opacity,k.material.opacity+=.1,k.material.emissive.setHex(1118481),a(k.indices>>0)):k&&(k.material.opacity=
k.Sd,k.material.emissive.setHex(0),k=null,a(0)));c.render(kj.scene,kj.camera);d.updateCamera(n);e.text='Camera pos by x: '+(-kj.camera.position.x>>0)+' y: '+(kj.camera.position.z>>0)+' z: '+(kj.camera.position.y>>0)})}};x('MapView.initScene',kj.initScene);kj.prototype.m={names:[{name:'MapView',o:'MapView',kind:f}]};Object.keys(kj);function bk(){}z(bk,ai);x(Pd,bk);bk.prototype.layout=function(){var a=this.layoutView;a.element.style['white-space']='nowrap';var b=a.internalChildren();var c=b.length>>0;for(a=0;a<c;a++){var d=b[a];null!=d&&(d.royale_wrapper.setDisplayStyleForLayout(Nb),d.style.display!==Yb&&(d.style.display=Nb))}return!0};x('org.apache.royale.html.beads.layouts.HorizontalLayout.prototype.layout',bk.prototype.layout);
bk.prototype.qa=function(a){bk.M.qa.apply(this,[a]);a.element.style.display!==Yb&&(a.element.style.display='block')};Object.defineProperties(bk.prototype,{strand:{set:bk.prototype.qa}});bk.prototype.m={names:[{name:'HorizontalLayout',o:Pd,kind:f}],s:[Zh]};function ck(){}x(xa,ck);ck.prototype.head=null;x('alternativa.physics.BodyList.prototype.head',ck.prototype.head);ck.prototype.tail=null;x('alternativa.physics.BodyList.prototype.tail',ck.prototype.tail);ck.prototype.size=0;x('alternativa.physics.BodyList.prototype.size',ck.prototype.size);ck.prototype.append=function(a){a=oj.create(a);null==this.head?this.head=this.tail=a:(this.tail.next=a,a.prev=this.tail,this.tail=a);this.size++};x('alternativa.physics.BodyList.prototype.append',ck.prototype.append);
ck.prototype.remove=function(a){a=this.findItem(a);if(null==a)return!1;a==this.head?1==this.size?this.head=this.tail=null:(this.head=a.next,this.head.prev=null):a==this.tail?(this.tail=a.prev,this.tail.next=null):(a.prev.next=a.next,a.next.prev=a.prev);a.dispose();this.size--;return!0};x('alternativa.physics.BodyList.prototype.remove',ck.prototype.remove);ck.prototype.findItem=function(a){for(var b=this.head;null!=b&&b.body!=a;)b=b.next;return b};
x('alternativa.physics.BodyList.prototype.findItem',ck.prototype.findItem);ck.prototype.m={names:[{name:'BodyList',o:xa,kind:f}]};function dk(){nh.call(this)}z(dk,nh);x(Cd,dk);w=dk.prototype;w.Cc=v('ic');w.vd=u('ic');w.Sc=function(){return Number(this.blob?this.blob.length:-1)};w.Jc=function(){return this.ic.name};w.Ib=function(){return this.ic.type};w.Fc=function(){return this.ic.lastModified>>>0};w.qa=t();w.uc=v('Jg');w.ud=function(a){this.Jg=a;this.dispatchEvent(new G('blobChanged'))};
Object.defineProperties(dk.prototype,{fileReference:{get:dk.prototype.Cc,set:dk.prototype.vd},size:{get:dk.prototype.Sc},name:{get:dk.prototype.Jc},type:{get:dk.prototype.Ib},lastModified:{get:dk.prototype.Fc},strand:{set:dk.prototype.qa},blob:{get:dk.prototype.uc},fileContent:{set:dk.prototype.ud}});dk.prototype.m={names:[{name:'FileModel',o:Cd,kind:f}],s:[xh,yj]};function ek(){lj.call(this)}z(ek,lj);x(Md,ek);ek.prototype.m={names:[{name:'VGroup',o:Md,kind:f}]};function fk(a,b){this.x='undefined'!==typeof a?a:0;this.y='undefined'!==typeof b?b:0}x(Dd,fk);fk.interpolate=function(a,b,c){return new fk(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))};x('org.apache.royale.geom.Point.interpolate',fk.interpolate);fk.distance=function(a,b){return a.subtract(b).length};x('org.apache.royale.geom.Point.distance',fk.distance);fk.polar=function(a,b){return new fk(a*Math.cos(b),a*Math.sin(b))};x('org.apache.royale.geom.Point.polar',fk.polar);
fk.prototype.clone=function(){return new fk(this.x,this.y)};x('org.apache.royale.geom.Point.prototype.clone',fk.prototype.clone);fk.prototype.offset=function(a,b){this.x+=a;this.y+=b};x('org.apache.royale.geom.Point.prototype.offset',fk.prototype.offset);fk.prototype.equals=function(a){return a.x==this.x&&a.y==this.y};x('org.apache.royale.geom.Point.prototype.equals',fk.prototype.equals);fk.prototype.subtract=function(a){return new fk(this.x-a.x,this.y-a.y)};
x('org.apache.royale.geom.Point.prototype.subtract',fk.prototype.subtract);fk.prototype.add=function(a){return new fk(this.x+a.x,this.y+a.y)};x('org.apache.royale.geom.Point.prototype.add',fk.prototype.add);fk.prototype.normalize=function(a){var b=this.length;0<b&&(b=a/b,this.x*=b,this.y*=b)};x('org.apache.royale.geom.Point.prototype.normalize',fk.prototype.normalize);fk.prototype.toString=function(){return'(x='+this.x+', y='+this.y+')'};x('org.apache.royale.geom.Point.prototype.toString',fk.prototype.toString);
fk.prototype.copyFrom=function(a){this.x=a.x;this.y=a.y};x('org.apache.royale.geom.Point.prototype.copyFrom',fk.prototype.copyFrom);fk.prototype.setTo=function(a,b){this.x=a;this.y=b};x('org.apache.royale.geom.Point.prototype.setTo',fk.prototype.setTo);fk.prototype.Gc=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};Object.defineProperties(fk.prototype,{length:{get:fk.prototype.Gc}});fk.prototype.m={names:[{name:'Point',o:Dd,kind:f}]};function gk(){I.call(this)}z(gk,I);x(Gd,gk);w=gk.prototype;w.createElement=function(){Rh(this,'label');this.Ce=this.element;this.jc=new Ji;this.element.appendChild(this.jc.element);var a=document.createElement('span');a.appendChild(document.createTextNode(''));this.element.appendChild(a);this.jc.element.royale_wrapper=this;this.typeNames='CheckBox CheckBoxIcon';return this.element};w.Hb=function(){return C(this.Ce.childNodes.item(1).childNodes.item(0).nodeValue)};
w.Pb=function(a){this.Ce.childNodes.item(1).childNodes.item(0).nodeValue=a};w.Qf=function(){return this.jc.element.checked};w.uh=function(a){this.jc.element.checked=a};Object.defineProperties(gk.prototype,{text:{get:gk.prototype.Hb,set:gk.prototype.Pb},selected:{get:gk.prototype.Qf,set:gk.prototype.uh}});gk.prototype.m={names:[{name:'CheckBox',o:Gd,kind:f}]};function Rh(a,b){b=document.createElement(b);return a.element=b}x('org.apache.royale.html.util.addElementToWrapper',Rh);function Wi(){this.Ha=new J;this.ob=new J}x($a,Wi);Wi.prototype.Ha=null;Wi.prototype.ob=null;
Wi.prototype.getContact=function(a,b,c){if(null!=a.body){var d=A(a,Gj);var e=A(b,Gj)}else d=A(b,Gj),e=A(a,Gj);d.transform.getAxis(3,this.Ha);e.transform.getAxis(3,this.ob);a=this.Ha.x-this.ob.x;b=this.Ha.y-this.ob.y;var g=this.Ha.z-this.ob.z,h=a*a+b*b+g*g,k=d.r+e.r;if(h>k*k)return!1;h=Math.sqrt(h);a/=h;b/=h;g/=h;c.body1=d.body;c.body2=e.body;c.normal.x=a;c.normal.y=b;c.normal.z=g;c.pcount=1;c=c.points[0];c.penetration=k-h;c.pos.x=this.Ha.x-a*d.r;c.pos.y=this.Ha.y-b*d.r;c.pos.z=this.Ha.z-g*d.r;c.r1.diff(c.pos,
this.Ha);c.r2.diff(c.pos,this.ob);return!0};x('alternativa.physics.collision.colliders.SphereSphereCollider.prototype.getContact',Wi.prototype.getContact);Wi.prototype.haveCollision=xe(!1);x('alternativa.physics.collision.colliders.SphereSphereCollider.prototype.haveCollision',Wi.prototype.haveCollision);Wi.prototype.m={names:[{name:'SphereSphereCollider',o:$a,kind:f}],s:[Xi]};function hk(){}x(Ra,hk);hk.prototype.m={names:[{name:'IRayCollisionPredicate',o:Ra,kind:l}]};function xi(a,b){return{bubbles:'undefined'!==typeof a?a:!1,cancelable:'undefined'!==typeof b?b:!1}}x('org.apache.royale.conversions.createEventInit',xi);function F(a){a='undefined'!==typeof a?a:null;this._xmlArray=[];ik(0);if(null!=a)if(B(a,F)){this.targetObject=a.targetObject;this.targetProperty=a.targetProperty;for(var b=a.length(),c=0;c<b;c++)this.append(a[c])}else if(B(a,E))this.append(a);else{if(typeof a===se){var d=a;0==d.indexOf('<>')&&d.indexOf('</>')==d.length-3&&(a=d.substr(2,d.length-5))}try{var e=new E(a);e.nodeKind()==te&&''==e.getValue()||this.append(e)}catch(g){if(typeof a===se){(e=C(jk.exec(a)))&&(a=a.replace(e,''));try{for(b=(new E('<root>'+
a+'</root>')).children(),c=b.length(),a=0;a<c;a++)this.append(b[a])}catch(h){throw g;}}else throw g;}}}x(qa,F);var jk=/^\s*<\?xml[^?]*\?>/im;F.fromArray=function(a){for(var b=new F,c=a.length>>0;kk<c;)ik(kk+1>>0);b._xmlArray=a;return b};x('XMLList.fromArray',F.fromArray);
function lk(a){if(0<a._xmlArray.length)return a;if(null==a.ca||null==a.K||B(a.K,Ng)&&(a.K.va||'*'==a.K.localName))return null;var b=!a.ca||B(a.ca,E)?a.ca:lk(a.ca);if(null==b)return null;var c=b.child(a.K);if(0==c.length()){if(B(b,F)&&1<b.length())return null;b.setChild(a.K,'');c=b.child(a.K)}return c}var kk=-1;
function ik(a){a<=kk||(kk=a,Object.defineProperty(F.prototype,''+a,{get:function(){return this._xmlArray[a]},set:function(b){a>=this._xmlArray.length?this.append(b):this.replaceChildAt(a,b)},enumerable:!0,configurable:!0}))}function mk(a,b){var c=a._xmlArray.length>>>0;if(B(b,F)){a.ca=b.ca;a.K=b.K;var d=b.length()>>>0;if(0!=d)for(var e=0;e<d;e++)a._xmlArray[c+e]=b._xmlArray[e],ik(c+e>>0)}else B(b,E)&&(a._xmlArray[c]=b,ik(c>>0))}
F.prototype.append=function(a){this._xmlArray[this._xmlArray.length]=a;ik(this._xmlArray.length>>0);if(this.ca)if(this.K){var b=this.ca.child(this.K);b.length()?this.ca.insertChildAfter(b[b.length()-1],a):this.ca.appendChild(a)}else this.ca.appendChild(a)};x('XMLList.prototype.append',F.prototype.append);F.prototype.appendChild=function(a){return W(this)?this._xmlArray[0].appendChild(a):null};x('XMLList.prototype.appendChild',F.prototype.appendChild);
F.prototype.attribute=function(a){if(W(this))return this._xmlArray[0].attribute(a);for(var b=new F,c=this._xmlArray.length>>0,d=0;d<c;d++){var e=this._xmlArray[d].attribute(a);e.length()&&b.concat(e)}return b};x('XMLList.prototype.attribute',F.prototype.attribute);F.prototype.attributes=function(){if(W(this))return this._xmlArray[0].attributes();for(var a=new F,b=this._xmlArray.length>>0,c=0;c<b;c++){var d=this._xmlArray[c].attributes();d.length()&&a.concat(d)}return a};
x('XMLList.prototype.attributes',F.prototype.attributes);F.prototype.child=function(a){if(W(this))return this._xmlArray[0].child(a);var b=new F;b.targetProperty=a.toString();0==this._xmlArray.length&&(b.targetObject=this);var c=parseInt(a,10);if(c.toString()==a)return 0<=c&&c<this._xmlArray.length&&(b.append(this._xmlArray[c]),b.targetObject=this._xmlArray[c]),b;c=this._xmlArray.length>>0;for(var d=0;d<c;d++){var e=this._xmlArray[d].child(a);e.length()&&b.concat(e)}return b};
x('XMLList.prototype.child',F.prototype.child);F.prototype.childIndex=function(){if(W(this))return this._xmlArray[0].childIndex()>>0;throw Error('childIndex can only be called on an XMLList with one item.');};x('XMLList.prototype.childIndex',F.prototype.childIndex);F.prototype.children=function(){if(W(this))return this._xmlArray[0].children();for(var a=new F,b=this._xmlArray.length>>0,c=0;c<b;c++){var d=this._xmlArray[c].children();d.length()&&a.concat(d)}return a};
x('XMLList.prototype.children',F.prototype.children);F.prototype.comments=function(){if(W(this))return this._xmlArray[0].comments();for(var a=new F,b=this._xmlArray.length>>0,c=0;c<b;c++){var d=this._xmlArray[c].comments();d.length()&&a.concat(d)}return a};x('XMLList.prototype.comments',F.prototype.comments);F.prototype.concat=function(a){if(B(a,E))this.append(a);else{if(!B(a,F))throw new TypeError('invalid type');a=a._xmlArray;for(var b=a.length>>>0,c=0;c<b;c++)this.append(a[c])}return this};
x('XMLList.prototype.concat',F.prototype.concat);F.prototype.contains=function(a){for(var b=this._xmlArray.length>>0,c=0;c<b;c++)if(this._xmlArray[c].contains(a))return!0;return!1};x('XMLList.prototype.contains',F.prototype.contains);F.prototype.copy=function(){for(var a=new F,b=this._xmlArray.length>>0,c=0;c<b;c++)a.append(this._xmlArray[c].copy());return a};x('XMLList.prototype.copy',F.prototype.copy);
F.prototype.descendants=function(a){a='undefined'!==typeof a?a:'*';if(W(this))return this._xmlArray[0].descendants(a);for(var b=new F,c=this._xmlArray.length>>0,d=0;d<c;d++){var e=this._xmlArray[d].descendants(a);e.length()&&b.concat(e)}return b};x('XMLList.prototype.descendants',F.prototype.descendants);
F.prototype.elements=function(a){a='undefined'!==typeof a?a:'*';if(W(this))return this._xmlArray[0].elements(a);for(var b=new F,c=this._xmlArray.length>>0,d=0;d<c;d++){var e=this._xmlArray[d].elements(a);e.length()&&b.concat(e)}return b};x('XMLList.prototype.elements',F.prototype.elements);F.prototype.elementNames=function(){for(var a=[],b=0,c=this._xmlArray.length>>0;b<c;)a.push(b++);return a};x('XMLList.prototype.elementNames',F.prototype.elementNames);
F.prototype.equals=function(a){if(void 0===a&&0==this._xmlArray.length)return!0;if(a instanceof F){if(a!==this){var b=this._xmlArray.length>>>0;a=a._xmlArray;if(a.length!=b)return!1;for(var c=0;c<b;c++)if(!this._xmlArray[c].equals(a[c]))return!1}return!0}return W(this)?this._xmlArray[0].equals(a):!1};x('XMLList.prototype.equals',F.prototype.equals);
F.prototype.filter=function(a){for(var b=new F,c=0;c<this._xmlArray.length;c++)a(this._xmlArray[c])&&b.append(this._xmlArray[c]);b.targetObject=this.ca;b.targetProperty=this.K;return b};x('XMLList.prototype.filter',F.prototype.filter);F.prototype.hasComplexContent=function(){if(0==this._xmlArray.length)return!1;for(var a=this._xmlArray.length>>0,b=1;b<a;b++)if(this._xmlArray[b].hasComplexContent())return!0;return!1};x('XMLList.prototype.hasComplexContent',F.prototype.hasComplexContent);
F.prototype.hasOwnProperty=function(a){if(W(this))return!!this._xmlArray[0].hasOwnProperty(a);if(parseInt(a,10).toString()==a)return parseInt(a,10)<this._xmlArray.length;for(var b=this._xmlArray.length>>0,c=1;c<b;c++)if(this._xmlArray[c].hasOwnProperty(a))return!0;return!1};x('XMLList.prototype.hasOwnProperty',F.prototype.hasOwnProperty);
F.prototype.hasSimpleContent=function(){if(0==this._xmlArray.length)return!0;var a=this._xmlArray.length>>0;if(1==a)return!!this._xmlArray[0].hasSimpleContent();for(var b=0;b<a;b++)if(this._xmlArray[b].nodeKind()==Ab)return!1;return!0};x('XMLList.prototype.hasSimpleContent',F.prototype.hasSimpleContent);F.prototype.length=function(){return this._xmlArray.length>>0};x('XMLList.prototype.length',F.prototype.length);F.prototype.name=function(){return W(this)?this._xmlArray[0].name():null};
x('XMLList.prototype.name',F.prototype.name);F.prototype.normalize=function(){for(var a=this._xmlArray.length>>>0,b,c=0;c<a;c++){var d=Xg(this._xmlArray[c]),e=d.nodeKind();e==Ab?(d.normalize(),b=null):e==te?b?(b.setValue(b.getValue()+d.getValue()),this.removeChildAt(c),c--,a--):b=d:b=null}return this};x('XMLList.prototype.normalize',F.prototype.normalize);
F.prototype.parent=function(){if(0!=this._xmlArray.length){for(var a=this._xmlArray[0].parent(),b=this._xmlArray.length>>0,c=1;c<b;c++)if(this._xmlArray[c].parent()!=a)return;return a}};x('XMLList.prototype.parent',F.prototype.parent);
F.prototype.plus=function(a){if(B(a,E)||B(a,F)){var b=new F;b.concat(this);b.concat(a);B(a,E)?b.targetObject=a:(b.targetObject=a.targetObject,b.targetProperty=a.targetProperty);return b}if(B(a,String))return this.toString()+a;if(B(a,Number)&&isNaN(a))return NaN;b=this.toString();var c=a.toString();return isNaN(Number(b))||isNaN(Number(c))?b+c:Number(b)+a};x('XMLList.prototype.plus',F.prototype.plus);
F.prototype.processingInstructions=function(a){a='undefined'!==typeof a?a:'*';if(W(this))return this._xmlArray[0].processingInstructions(a);var b=new F;if(!a)return b;for(var c=this._xmlArray.length>>0,d=0;d<c;d++)this._xmlArray[d].nodeKind()==ke&&('*'==a?b.append(this._xmlArray[d]):a==this._xmlArray[d].localName&&b.append(this._xmlArray[d]));return b};x('XMLList.prototype.processingInstructions',F.prototype.processingInstructions);
F.prototype.removeChild=function(a){if(B(a,String)){var b=parseInt(a,10);b.toString()==a?this.removeChildAt(b>>0):W(this)&&this._xmlArray[0].removeChild(a)}else if(B(a,Number))this.removeChildAt(a>>0);else if(W(this))this._xmlArray[0].removeChild(a);else if(B(a,F)){var c=a.length()>>0;for(b=0;b<c;b++)this.removeChild(a[b])}else if(B(a,E))for(b=c=this._xmlArray.length-1>>0;0<=b;b--)this._xmlArray[b]==a&&(this._xmlArray.splice(b,1),a.hasAncestor(this.ca)&&a.parent().removeChild(a))};
x('XMLList.prototype.removeChild',F.prototype.removeChild);F.prototype.removeChildAt=function(a){if(0<=a&&a<this._xmlArray.length){var b=this._xmlArray[a];this._xmlArray.splice(a,1);b.hasAncestor(this.ca)&&b.parent().removeChild(b)}};x('XMLList.prototype.removeChildAt',F.prototype.removeChildAt);
F.prototype.replaceChildAt=function(a,b){var c;(c=this._xmlArray[a])&&this.ca&&this.ca.replaceChildAt(c.childIndex(),b);if(B(b,E))this._xmlArray[a]=b;else if(B(b,F)){var d=b.length()>>0;for(c=0;c<d;c++)0==c?this._xmlArray[a]=b[c]:this._xmlArray.splice(a+c,0,b[c])}for(;a++<this._xmlArray.length;)this.hasOwnProperty(a)||ik(a)};F.prototype.setAttribute=function(a,b){this.setChild(ch(a),b);return b};x('XMLList.prototype.setAttribute',F.prototype.setAttribute);
F.prototype.hasAncestor=function(a){return W(this)?!!this._xmlArray[0].hasAncestor(a):!1};x('XMLList.prototype.hasAncestor',F.prototype.hasAncestor);F.prototype.insertChildAfter=function(a,b){return W(this)?this._xmlArray[0].insertChildAfter(a,b):null};x('XMLList.prototype.insertChildAfter',F.prototype.insertChildAfter);F.prototype.insertChildBefore=function(a,b){return W(this)?this._xmlArray[0].insertChildAfter(a,b):null};x('XMLList.prototype.insertChildBefore',F.prototype.insertChildBefore);
F.prototype.namespace=function(a){return W(this)?this._xmlArray[0].namespace('undefined'!==typeof a?a:null):null};x('XMLList.prototype.namespace',F.prototype.namespace);F.prototype.nodeKind=function(){return W(this)?C(this._xmlArray[0].nodeKind()):null};x('XMLList.prototype.nodeKind',F.prototype.nodeKind);F.prototype.removeNamespace=function(a){return W(this)?this._xmlArray[0].removeNamespace(a):null};x('XMLList.prototype.removeNamespace',F.prototype.removeNamespace);
F.prototype.replace=function(a,b){if(W(this))return this._xmlArray[0].replace(a,b)};x('XMLList.prototype.replace',F.prototype.replace);
F.prototype.setChild=function(a,b){var c=a>>>0;if(c+''==a+''){if(this.ca){var d=B(this.ca,F)?lk(this.targetObject):this.ca;if(null==d)return null}else d=null;if(c>=this._xmlArray.length){a=d;if(!d&&B(d,F)){if(!W(d))return null;a=d[0]}if(a&&a.nodeKind()!=Ab)return null;a:if(c=a,null==this.K||'*'==this.K||B(this.K,Ng)&&'*'==this.K.localName)var e=new E;else{e=A(this.K,String);d=new E;d.setParent(c);if(e&&'@'==e.charAt(0)||B(this.K,Ng)&&this.K.va){if(c.child(this.K).length()){e=null;break a}d.setName(this.K)}else c=
'<',B(this.K,Ng)?(this.K.prefix&&(c+=this.K.prefix+'::'),c+=this.K.localName+'/>'):c+=this.K+'/>',d=new E(c);e=d}c=this._xmlArray.length>>>0;if(e.nodeKind()!=kb){if(a){if(0<c)for(d=0;d<a.getChildrenArray().length-1&&a.getChildrenArray()[d]!==this._xmlArray[c-1];)d++;else d=a.getChildrenArray().length-1>>>0;a.insertChildAfter(a.getChildrenArray()[d],e)}B(b,E)?e.setName(b.name()):B(b,F)&&e.setName(new Ng(b.K))}mk(this,e)}if(!B(b,E)&&!B(b,F)||B(b,E)&&(b.nodeKind()==te||b.nodeKind()==kb))b+='';if(this._xmlArray[c].nodeKind()==
kb)a=this._xmlArray[c].name(),this._xmlArray[c].parent().setAttribute(a,b),a=this._xmlArray[c].parent().attribute(a),this._xmlArray[c]=a[0],ik(c>>0);else if(B(b,F)){a=new F(b);if(e=this._xmlArray[c].parent()){var g=e.getChildrenArray().indexOf(this._xmlArray[c])>>0;e.replaceChildAt(g,a);for(d=0;d<a._xmlArray.child('length')-1;d++)a.setChild(d,e.getChildrenArray()[g+d])}if(0==a.length())for(this._xmlArray.splice(c,1),d=c;d<this.length()-1;d++)ik(d>>0);else{d=this._xmlArray.length>>>0;e=a.length()-
1>>>0;for(d=d-1>>>0;d>c;d--)this._xmlArray[d+e]=this._xmlArray[d],ik(d+e>>0);for(d=0;d<e;d++)this._xmlArray[c+d]=a[d],ik(c+d>>0)}}else if(B(b,E)||this._xmlArray[c].nodeKind()==te||'comment'==this._xmlArray[c].nodeKind()||this._xmlArray[c].nodeKind()==ke){if(e=this._xmlArray[c].parent())g=e.getChildrenArray().indexOf(this._xmlArray[c])>>0,e.replaceChildAt(g,b),b=e.getChildrenArray()[g];typeof b==se?(a=new E,a.setParent(this),a.setValue(b+''),this._xmlArray[c]=a):this._xmlArray[c]=b;ik(c>>0)}else this._xmlArray[c].setChild('*',
b)}else if(1>=this._xmlArray.length){if(0==this._xmlArray.length){d=lk(this);if(null==d||1!=d.length())return null;mk(this,d)}this._xmlArray[0].setChild(a,b)}else throw new TypeError('Error #1089: Assignment to lists with more than one item is not supported.');return b};x('XMLList.prototype.setChild',F.prototype.setChild);F.prototype.setParent=function(a){W(this)&&this._xmlArray[0].setParent(a)};x('XMLList.prototype.setParent',F.prototype.setParent);
F.prototype.setChildren=function(a){return W(this)?this._xmlArray[0].setChildren(a):null};x('XMLList.prototype.setChildren',F.prototype.setChildren);F.prototype.setLocalName=function(a){W(this)&&this._xmlArray[0].setLocalName(a)};x('XMLList.prototype.setLocalName',F.prototype.setLocalName);F.prototype.setName=function(a){W(this)&&this._xmlArray[0].setName(a)};x('XMLList.prototype.setName',F.prototype.setName);F.prototype.setNamespace=function(a){W(this)&&this._xmlArray[0].setNamespace(a)};
x('XMLList.prototype.setNamespace',F.prototype.setNamespace);F.prototype.text=function(){if(W(this))return this._xmlArray[0].text();for(var a=new F,b=this._xmlArray.length>>0,c=0;c<b;c++){var d=this._xmlArray[c].text();d.length()&&a.concat(d)}return a};x('XMLList.prototype.text',F.prototype.text);F.prototype.toLocaleString=function(){for(var a=[],b=this._xmlArray.length>>0,c=0;c<b;c++){var d=C(this._xmlArray[c].toLocaleString());d&&a.push(d)}return a.join('\n')};
x('XMLList.prototype.toLocaleString',F.prototype.toLocaleString);F.prototype.toString=function(){if(this.hasSimpleContent()){for(var a=this._xmlArray.length>>0,b='',c=0;c<a;c++){var d=this._xmlArray[c],e=d.nodeKind();'comment'!=e&&e!=ke&&(b+=d.toString())}return b}return this.toXMLString()};x('XMLList.prototype.toString',F.prototype.toString);F.prototype.toXMLString=function(){for(var a=[],b=this._xmlArray.length>>0,c=0;c<b;c++){var d=C(this._xmlArray[c].toXMLString());d&&a.push(d)}return a.join('\n')};
x('XMLList.prototype.toXMLString',F.prototype.toXMLString);F.prototype.valueOf=function(){if(0==this._xmlArray.length){var a=this.targetObject;return!a||this.targetProperty?void 0:a.valueOf()}return W(this)?this._xmlArray[0].valueOf():this.toString()};x('XMLList.prototype.valueOf',F.prototype.valueOf);F.prototype.anchor=function(a){return C(W(this)?this._xmlArray[0].anchor(a):'')};x('XMLList.prototype.anchor',F.prototype.anchor);
F.prototype.charAt=function(a){return C(W(this)?this._xmlArray[0].charAt(a):'')};x('XMLList.prototype.charAt',F.prototype.charAt);F.prototype.charCodeAt=function(a){return Number(W(this)?this._xmlArray[0].charCodeAt(a):-1)};x('XMLList.prototype.charCodeAt',F.prototype.charCodeAt);F.prototype.codePointAt=function(a){return Number(W(this)?this._xmlArray[0].codePointAt(a):-1)};x('XMLList.prototype.codePointAt',F.prototype.codePointAt);
F.prototype.indexOf=function(a,b){return Number(W(this)?this._xmlArray[0].indexOf(a,'undefined'!==typeof b?b:0):-1)};x('XMLList.prototype.indexOf',F.prototype.indexOf);F.prototype.lastIndexOf=function(a,b){return Number(W(this)?this._xmlArray[0].lastIndexOf(a,'undefined'!==typeof b?b:0):-1)};x('XMLList.prototype.lastIndexOf',F.prototype.lastIndexOf);
F.prototype.localeCompare=function(a,b,c){return Number(W(this)?this._xmlArray[0].localeCompare(a,'undefined'!==typeof b?b:void 0,'undefined'!==typeof c?c:void 0):NaN)};x('XMLList.prototype.localeCompare',F.prototype.localeCompare);F.prototype.match=function(a){return W(this)?this._xmlArray[0].match(a):null};x('XMLList.prototype.match',F.prototype.match);F.prototype.search=function(a){return Number(W(this)?this._xmlArray[0].search(a):-1)};x('XMLList.prototype.search',F.prototype.search);
F.prototype.slice=function(a,b){return C(W(this)?this._xmlArray[0].slice(a,'undefined'!==typeof b?b:void 0):null)};x('XMLList.prototype.slice',F.prototype.slice);F.prototype.split=function(a,b){return W(this)?this._xmlArray[0].split('undefined'!==typeof a?a:void 0,'undefined'!==typeof b?b:void 0):null};x('XMLList.prototype.split',F.prototype.split);F.prototype.substr=function(a,b){return C(W(this)?this._xmlArray[0].substr(a,'undefined'!==typeof b?b:void 0):null)};x('XMLList.prototype.substr',F.prototype.substr);
F.prototype.substring=function(a,b){return C(W(this)?this._xmlArray[0].substring(a,'undefined'!==typeof b?b:void 0):null)};x('XMLList.prototype.substring',F.prototype.substring);F.prototype.toLocaleLowerCase=function(){return C(W(this)?this._xmlArray[0].toLocaleLowerCase():null)};x('XMLList.prototype.toLocaleLowerCase',F.prototype.toLocaleLowerCase);F.prototype.toLocaleUpperCase=function(){return C(W(this)?this._xmlArray[0].toLocaleUpperCase():null)};x('XMLList.prototype.toLocaleUpperCase',F.prototype.toLocaleUpperCase);
F.prototype.toLowerCase=function(){return C(W(this)?this._xmlArray[0].toLowerCase():null)};x('XMLList.prototype.toLowerCase',F.prototype.toLowerCase);F.prototype.toUpperCase=function(){return C(W(this)?this._xmlArray[0].toUpperCase():null)};x('XMLList.prototype.toUpperCase',F.prototype.toUpperCase);F.prototype.trim=function(){return C(W(this)?this._xmlArray[0].trim():null)};x('XMLList.prototype.trim',F.prototype.trim);
F.prototype.toExponential=function(a){return Number(W(this)?this._xmlArray[0].toExponential('undefined'!==typeof a?a:void 0):NaN)};x('XMLList.prototype.toExponential',F.prototype.toExponential);F.prototype.toFixed=function(a){return Number(W(this)?this._xmlArray[0].toFixed('undefined'!==typeof a?a:0):NaN)};x('XMLList.prototype.toFixed',F.prototype.toFixed);F.prototype.toPrecision=function(a){return Number(W(this)?this._xmlArray[0].toPrecision('undefined'!==typeof a?a:void 0):NaN)};
x('XMLList.prototype.toPrecision',F.prototype.toPrecision);function W(a){return 1==a._xmlArray.length}F.prototype.toXML=function(){return W(this)?this._xmlArray[0]:null};x('XMLList.prototype.toXML',F.prototype.toXML);F.prototype.localName=function(){return W(this)?C(this._xmlArray[0].localName()):null};x('XMLList.prototype.localName',F.prototype.localName);F.prototype.Uc=v('ca');F.prototype.wh=u('ca');F.prototype.Wf=v('K');F.prototype.xh=u('K');
Object.defineProperties(F.prototype,{targetObject:{get:F.prototype.Uc,set:F.prototype.wh},targetProperty:{get:F.prototype.Wf,set:F.prototype.xh}});F.prototype.m={names:[{name:qa,o:qa,kind:f}]};function Oh(){}var nk;x($c,Oh);Object.defineProperties(Oh,{valuesImpl:{get:function(){return nk},set:function(a){nk=a}}});Oh.prototype.m={names:[{name:'ValuesManager',o:$c,kind:f}]};function X(){this._gravity=new J(0,0,-9.8);this.bodies=new ck;this.constraints=new (og(gb));this.N=new J;this.u=new J;for(var a=this.contacts=new vi(0),b=1;b<this.MAX_CONTACTS;b++)a.next=new vi(b),a=a.next;this.collisionDetector=new N}x(Ia,X);var ok=0;X.prototype.MAX_CONTACTS=1E3;x('alternativa.physics.PhysicsScene.prototype.MAX_CONTACTS',X.prototype.MAX_CONTACTS);X.prototype.penResolutionSteps=10;x('alternativa.physics.PhysicsScene.prototype.penResolutionSteps',X.prototype.penResolutionSteps);
X.prototype.allowedPenetration=.1;x('alternativa.physics.PhysicsScene.prototype.allowedPenetration',X.prototype.allowedPenetration);X.prototype.maxPenResolutionSpeed=.5;x('alternativa.physics.PhysicsScene.prototype.maxPenResolutionSpeed',X.prototype.maxPenResolutionSpeed);X.prototype.collisionIterations=5;x('alternativa.physics.PhysicsScene.prototype.collisionIterations',X.prototype.collisionIterations);X.prototype.contactIterations=5;
x('alternativa.physics.PhysicsScene.prototype.contactIterations',X.prototype.contactIterations);X.prototype.usePrediction=!1;x('alternativa.physics.PhysicsScene.prototype.usePrediction',X.prototype.usePrediction);X.prototype.freezeSteps=10;x('alternativa.physics.PhysicsScene.prototype.freezeSteps',X.prototype.freezeSteps);X.prototype.linSpeedFreezeLimit=1;x('alternativa.physics.PhysicsScene.prototype.linSpeedFreezeLimit',X.prototype.linSpeedFreezeLimit);X.prototype.angSpeedFreezeLimit=.01;
x('alternativa.physics.PhysicsScene.prototype.angSpeedFreezeLimit',X.prototype.angSpeedFreezeLimit);X.prototype._gravity=null;x('alternativa.physics.PhysicsScene.prototype._gravity',X.prototype._gravity);X.prototype._gravityMagnitude=9.8;x('alternativa.physics.PhysicsScene.prototype._gravityMagnitude',X.prototype._gravityMagnitude);X.prototype.collisionDetector=null;x('alternativa.physics.PhysicsScene.prototype.collisionDetector',X.prototype.collisionDetector);X.prototype.bodies=null;
x('alternativa.physics.PhysicsScene.prototype.bodies',X.prototype.bodies);X.prototype.contacts=null;x('alternativa.physics.PhysicsScene.prototype.contacts',X.prototype.contacts);X.prototype.constraints=null;x('alternativa.physics.PhysicsScene.prototype.constraints',X.prototype.constraints);X.prototype.constraintsNum=0;x('alternativa.physics.PhysicsScene.prototype.constraintsNum',X.prototype.constraintsNum);X.prototype.frame=0;x('alternativa.physics.PhysicsScene.prototype.frame',X.prototype.frame);
X.prototype.time=0;x('alternativa.physics.PhysicsScene.prototype.time',X.prototype.time);X.prototype.Wb=null;X.prototype.N=null;X.prototype.u=null;X.prototype.addBody=function(a){a.id=ok++;a.world=this;this.bodies.append(a)};x('alternativa.physics.PhysicsScene.prototype.addBody',X.prototype.addBody);X.prototype.removeBody=function(a){this.bodies.remove(a)&&(a.world=null)};x('alternativa.physics.PhysicsScene.prototype.removeBody',X.prototype.removeBody);
X.prototype.addConstraint=function(a){this.constraints[this.constraints._ci(this.constraintsNum++)]=a;a.world=this};x('alternativa.physics.PhysicsScene.prototype.addConstraint',X.prototype.addConstraint);X.prototype.removeConstraint=function(a){var b=this.constraints.indexOf(a);if(0>b)return!1;this.constraints.splice(b,1);this.constraintsNum--;a.world=null;return!0};x('alternativa.physics.PhysicsScene.prototype.removeConstraint',X.prototype.removeConstraint);
function pk(a,b,c){for(var d,e=c?a.contactIterations:a.collisionIterations,g=!1,h=0;h<e;h++){g=!g;for(d=a.contacts;d!=a.Wb;){var k=a,n=d,m=c,p,q=n.body1,r=n.body2,y=n.normal;if(g)for(p=0;p<n.pcount;p++)qk(k,p,q,r,n,y,m);else for(p=n.pcount-1>>0;0<=p;p--)qk(k,p,q,r,n,y,m);d=d.next}for(d=0;d<a.constraintsNum;d++)a.constraints[d].apply(b)}}
function qk(a,b,c,d,e,g,h){b=e.points[b];h||(b.satisfied=!0);rk(c,d,b,a.u);var k=e.normal;var n=a.u.x*k.x+a.u.y*k.y+a.u.z*k.z;if(h)if(h=b.minSepVel,n<h)b.satisfied=!1;else{if(b.satisfied)return}else h=b.normalVel;n=b.accumImpulseN+(h-n)/b.velByUnitImpulseN;0>n&&(n=0);h=n-b.accumImpulseN;b.accumImpulseN=n;c.movable&&c.applyRelPosWorldImpulse(b.r1,g,h);null!=d&&d.movable&&d.applyRelPosWorldImpulse(b.r2,g,-h);rk(c,d,b,a.u);g=0;n=a.u.x*k.x+a.u.y*k.y+a.u.z*k.z;a.u.x-=n*k.x;a.u.y-=n*k.y;a.u.z-=n*k.z;var m=
a.u.length();if(!(.001>m)){a.N.x=-a.u.x;a.N.y=-a.u.y;a.N.z=-a.u.z;a.N.normalize();if(c.movable){h=b.r1;var p=c.invInertiaWorld;a.u.x=h.y*a.N.z-h.z*a.N.y;a.u.y=h.z*a.N.x-h.x*a.N.z;a.u.z=h.x*a.N.y-h.y*a.N.x;k=p.a*a.u.x+p.b*a.u.y+p.c*a.u.z;n=p.e*a.u.x+p.f*a.u.y+p.g*a.u.z;p=p.i*a.u.x+p.j*a.u.y+p.k*a.u.z;a.u.x=n*h.z-p*h.y;a.u.y=p*h.x-k*h.z;a.u.z=k*h.y-n*h.x;g+=c.invMass+a.u.x*a.N.x+a.u.y*a.N.y+a.u.z*a.N.z}null!=d&&d.movable&&(h=b.r2,p=d.invInertiaWorld,a.u.x=h.y*a.N.z-h.z*a.N.y,a.u.y=h.z*a.N.x-h.x*a.N.z,
a.u.z=h.x*a.N.y-h.y*a.N.x,k=p.a*a.u.x+p.b*a.u.y+p.c*a.u.z,n=p.e*a.u.x+p.f*a.u.y+p.g*a.u.z,p=p.i*a.u.x+p.j*a.u.y+p.k*a.u.z,a.u.x=n*h.z-p*h.y,a.u.y=p*h.x-k*h.z,a.u.z=k*h.y-n*h.x,g+=d.invMass+a.u.x*a.N.x+a.u.y*a.N.y+a.u.z*a.N.z);k=m/g;e=e.friction*b.accumImpulseN;0>e?k<e&&(k=e):k>e&&(k=e);c.movable&&c.applyRelPosWorldImpulse(b.r1,a.N,k);null!=d&&d.movable&&d.applyRelPosWorldImpulse(b.r2,a.N,-k)}}
function rk(a,b,c,d){var e=a.state.rotation,g=c.r1,h=e.y*g.z-e.z*g.y,k=e.z*g.x-e.x*g.z;e=e.x*g.y-e.y*g.x;g=a.state.velocity;d.x=g.x+h;d.y=g.y+k;d.z=g.z+e;null!=b&&(e=b.state.rotation,g=c.r2,h=e.y*g.z-e.z*g.y,k=e.z*g.x-e.x*g.z,e=e.x*g.y-e.y*g.x,g=b.state.velocity,d.x-=g.x+h,d.y-=g.y+k,d.z-=g.z+e)}
X.prototype.update=function(a){this.frame++;this.time+=a;a*=.001;for(var b=this.bodies.head;null!=b;){var c=b.body;c.beforePhysicsStep(a);c.calcAccelerations();c.useGravity&&c.movable&&!c.frozen&&(c.accel.x+=this._gravity.x,c.accel.y+=this._gravity.y,c.accel.z+=this._gravity.z);b=b.next}for(b=this.bodies.head;null!=b;)c=b.body,c.frozen||(c.contactsNum=0,c.saveState(),this.usePrediction&&(c.integrateVelocity(a),c.integratePosition(a)),c.calcDerivedData()),b=b.next;this.Wb=this.collisionDetector.getAllContacts(this.contacts);
for(b=this.contacts;b!=this.Wb;){c=b.body1;for(var d=b.body2,e=0;e<b.pcount;e++){var g=b.points[e],h=c.state.pos;g.r1.x=g.pos.x-h.x;g.r1.y=g.pos.y-h.y;g.r1.z=g.pos.z-h.z;null!=d&&(h=d.state.pos,g.r2.x=g.pos.x-h.x,g.r2.y=g.pos.y-h.y,g.r2.z=g.pos.z-h.z)}b=b.next}if(this.usePrediction)for(b=this.bodies.head;null!=b;)c=b.body,c.frozen||(c.restoreState(),c.calcDerivedData()),b=b.next;for(b=this.contacts;b!=this.Wb;){c=b.body1;d=b.body2;c.frozen&&(c.frozen=!1,c.freezeCounter=0);null!=d&&d.frozen&&(d.frozen=
!1,d.freezeCounter=0);b.restitution=c.material.restitution;null!=d&&d.material.restitution<b.restitution&&(b.restitution=d.material.restitution);b.friction=c.material.friction;null!=d&&d.material.friction<b.friction&&(b.friction=d.material.friction);for(e=0;e<b.pcount;e++)g=b.points[e],g.accumImpulseN=0,g.velByUnitImpulseN=0,c.movable&&(g.angularInertia1=this.u.cross2(g.r1,b.normal).transform3(c.invInertiaWorld).cross(g.r1).dot(b.normal),g.velByUnitImpulseN+=c.invMass+g.angularInertia1),null!=d&&
d.movable&&(g.angularInertia2=this.u.cross2(g.r2,b.normal).transform3(d.invInertiaWorld).cross(g.r2).dot(b.normal),g.velByUnitImpulseN+=d.invMass+g.angularInertia2),rk(c,d,g,this.u),g.normalVel=this.u.dot(b.normal),0>g.normalVel&&(g.normalVel*=-b.restitution),g.minSepVel=g.penetration>this.allowedPenetration?(g.penetration-this.allowedPenetration)/(this.penResolutionSteps*a):0,g.minSepVel>this.maxPenResolutionSpeed&&(g.minSepVel=this.maxPenResolutionSpeed);b=b.next}for(b=0;b<this.constraintsNum;b++)this.constraints[b].preProcess(a);
pk(this,a,!1);for(b=this.bodies.head;null!=b;)b.body.integrateVelocity(a),b=b.next;pk(this,a,!0);for(b=this.bodies.head;null!=b;)c=b.body,c.movable&&!c.frozen&&c.integratePosition(a),b=b.next;for(a=this.bodies.head;null!=a;)b=a.body,b.clearAccumulators(),b.calcDerivedData(),b.canFreeze&&(b.state.velocity.length()<this.linSpeedFreezeLimit&&b.state.rotation.length()<this.angSpeedFreezeLimit?b.frozen||(b.freezeCounter++,b.freezeCounter>=this.freezeSteps&&(b.frozen=!0)):(b.freezeCounter=0,b.frozen=!1)),
a=a.next};x('alternativa.physics.PhysicsScene.prototype.update',X.prototype.update);X.prototype.nf=function(){return this._gravity.clone()};X.prototype.hh=function(a){this._gravity.copy(a);this._gravityMagnitude=this._gravity.length()};Object.defineProperties(X.prototype,{gravity:{get:X.prototype.nf,set:X.prototype.hh}});X.prototype.m={names:[{name:'PhysicsScene',o:Ia,kind:f}]};Object.keys(X);function gj(a,b){this.hs=new J;L.call(this,L.RECT,b);this.hs.copy(a)}z(gj,L);x(bb,gj);gj.prototype.hs=null;x('alternativa.physics.collision.primitives.CollisionRect.prototype.hs',gj.prototype.hs);gj.prototype.twoSided=!0;x('alternativa.physics.collision.primitives.CollisionRect.prototype.twoSided',gj.prototype.twoSided);
gj.prototype.calculateAABB=function(){var a=this.transform,b=0>a.a?-a.a:a.a,c=0>a.b?-a.b:a.b,d=0>a.c?-a.c:a.c;this.aabb.maxX=this.hs.x*b+this.hs.y*c+.005*d;this.aabb.minX=-this.aabb.maxX;b=0>a.e?-a.e:a.e;c=0>a.f?-a.f:a.f;d=0>a.g?-a.g:a.g;this.aabb.maxY=this.hs.x*b+this.hs.y*c+.005*d;this.aabb.minY=-this.aabb.maxY;b=0>a.i?-a.i:a.i;c=0>a.j?-a.j:a.j;d=0>a.k?-a.k:a.k;this.aabb.maxZ=this.hs.x*b+this.hs.y*c+.005*d;this.aabb.minZ=-this.aabb.maxZ;this.aabb.minX+=a.d;this.aabb.maxX+=a.d;this.aabb.minY+=a.h;
this.aabb.maxY+=a.h;this.aabb.minZ+=a.l;this.aabb.maxZ+=a.l;return this.aabb};x('alternativa.physics.collision.primitives.CollisionRect.prototype.calculateAABB',gj.prototype.calculateAABB);gj.prototype.copyFrom=function(a){a=A(a,gj);if(null==a)return this;gj.M.copyFrom.apply(this,[a]);this.hs.copy(a.hs);return this};x('alternativa.physics.collision.primitives.CollisionRect.prototype.copyFrom',gj.prototype.copyFrom);gj.prototype.toString=function(){return'[CollisionRect hs='+this.hs+']'};
x('alternativa.physics.collision.primitives.CollisionRect.prototype.toString',gj.prototype.toString);gj.prototype.createPrimitive=function(){return new gj(this.hs,this.collisionGroup)};
gj.prototype.raycast=function(a,b,c,d){var e=a.x-this.transform.d,g=a.y-this.transform.h,h=a.z-this.transform.l;a=this.transform.a*e+this.transform.e*g+this.transform.i*h;var k=this.transform.b*e+this.transform.f*g+this.transform.j*h,n=this.transform.c*e+this.transform.g*g+this.transform.k*h;e=this.transform.a*b.x+this.transform.e*b.y+this.transform.i*b.z;g=this.transform.b*b.x+this.transform.f*b.y+this.transform.j*b.z;h=this.transform.c*b.x+this.transform.g*b.y+this.transform.k*b.z;if(h>-c&&h<c)return-1;
b=-n/h;if(0>b)return-1;a+=e*b;k+=g*b;if(a<-this.hs.x-c||a>this.hs.x+c||k<-this.hs.y-c||k>this.hs.y+c)return-1;d.x=this.transform.c;d.y=this.transform.g;d.z=this.transform.k;return b};x('alternativa.physics.collision.primitives.CollisionRect.prototype.raycast',gj.prototype.raycast);gj.prototype.m={names:[{name:'CollisionRect',o:bb,kind:f}]};Object.keys(gj);function sk(){}x(Na,sk);sk.prototype.m={names:[{name:'IBodyCollisionPredicate',o:Na,kind:l}]};function tk(){}x(qc,tk);tk.prototype.m={names:[{name:'ICSSImpl',o:qc,kind:l}]};function Wg(a,b){a='undefined'!==typeof a?a:void 0;b='undefined'!==typeof b?b:void 0;var c=arguments.length>>>0;if(c)if(1==c)(b=a)&&typeof b==$b?b.className==la?(this.Ia=b.prefix,this.Da=C(b.uri)):b.className==na&&null!=b.uri?this.Da=C(b.uri):(this.Da=b.toString(),this.Ia=''==this.Da?'':void 0):(this.Da=b+'',this.Ia=''==this.Da?'':void 0);else if(this.Da=b&&typeof b==$b?b.className==na&&null!=b.uri?C(b.uri):b.toString():b+'',''==this.Da)if(void 0===a||''==a+'')this.Ia='';else throw new TypeError('Error #1098: Illegal prefix undefined for no namespace.');
else void 0!==a&&(c=''+a,''==c?this.Ia='':Li(c)&&(this.Ia=c));else this.Ia=this.Da=''}x(la,Wg);Wg.prototype.Da='';Wg.prototype.kc=u('Ia');Wg.prototype.toString=v('uri');x('Namespace.prototype.toString',Wg.prototype.toString);Wg.prototype.valueOf=function(){return this};x('Namespace.prototype.valueOf',Wg.prototype.valueOf);Wg.prototype.Vc=v('Da');Wg.prototype.Pc=v('Ia');Wg.prototype.bb=xe(la);Object.defineProperties(Wg.prototype,{uri:{get:Wg.prototype.Vc},prefix:{get:Wg.prototype.Pc},className:{get:Wg.prototype.bb}});
Wg.prototype.m={names:[{name:la,o:la,kind:f}]};function Th(){}x(Dc,Th);Th.prototype.m={names:[{name:'IMeasurementBead',o:Dc,kind:l}],s:[yh]};function uk(){nh.call(this)}z(uk,nh);x(Bd,uk);uk.prototype.load=function(){var a=new FileReader;Sf(a,'load',D(this.fileLoadHandler,this,'fileLoadHandler'));a.readAsArrayBuffer(this.fileModel.fileReference)};x('org.apache.royale.file.beads.FileLoader.prototype.load',uk.prototype.load);uk.prototype.fileLoadHandler=function(a){this.fileModel.fileContent=new U(a.target.result);this.dispatchEvent(new G(G.COMPLETE))};uk.prototype.qa=u('Ig');uk.prototype.lf=function(){return this.Ig.model};
Object.defineProperties(uk.prototype,{strand:{set:uk.prototype.qa},fileModel:{get:uk.prototype.lf}});uk.prototype.m={names:[{name:'FileLoader',o:Bd,kind:f}],s:[yh]};function vk(){nh.call(this)}z(vk,Ni);x(xd,vk);vk.prototype.setDocument=function(){var a=this.beads,b;for(b in a)this.addBead(a[b])};x('org.apache.royale.file.FileProxy.prototype.setDocument',vk.prototype.setDocument);w=vk.prototype;w.Fc=function(){return this.model.lastModified};w.Jc=function(){return this.model.name};w.Ib=function(){return this.model.type};w.Sc=function(){return this.model.size};w.uc=function(){return this.model.blob};w.ud=function(a){this.model.fileContent=a};w.Cc=function(){return this.model.fileReference};
w.vd=function(a){this.model.fileReference=a};Object.defineProperties(vk.prototype,{lastModified:{get:vk.prototype.Fc},name:{get:vk.prototype.Jc},type:{get:vk.prototype.Ib},size:{get:vk.prototype.Sc},blob:{get:vk.prototype.uc},fileContent:{set:vk.prototype.ud},fileReference:{get:vk.prototype.Cc,set:vk.prototype.vd}});vk.prototype.m={names:[{name:'FileProxy',o:xd,kind:f}],s:[Zi,yj]};function Ei(){}x(Sd,Ei);w=Ei.prototype;w.storageAvailable=t();w.setItem=t();w.getItem=t();w.removeItem=t();w.hasItem=t();w.clear=t();w.m={names:[{name:'IWebStorage',o:Sd,kind:l}]};function wk(){}x(Ud,wk);wk.prototype.storageAvailable=function(){var a=!1;try{a=Rb in window&&null!==window.localStorage}catch(b){a=!1}return a};x('org.apache.royale.storage.providers.LocalStorageProvider.prototype.storageAvailable',wk.prototype.storageAvailable);wk.prototype.setItem=function(a,b){if(!this.storageAvailable())return!1;window.localStorage.setItem(a,b);return!0};x('org.apache.royale.storage.providers.LocalStorageProvider.prototype.setItem',wk.prototype.setItem);
wk.prototype.getItem=function(a){return this.storageAvailable()?window.localStorage.getItem(a):null};x('org.apache.royale.storage.providers.LocalStorageProvider.prototype.getItem',wk.prototype.getItem);wk.prototype.removeItem=function(a){if(!this.storageAvailable())return!1;window.localStorage.removeItem(a);return!0};x('org.apache.royale.storage.providers.LocalStorageProvider.prototype.removeItem',wk.prototype.removeItem);
wk.prototype.hasItem=function(a){return this.storageAvailable()?null!==window.localStorage[a]:!1};x('org.apache.royale.storage.providers.LocalStorageProvider.prototype.hasItem',wk.prototype.hasItem);wk.prototype.clear=function(){this.storageAvailable()&&window.localStorage.clear()};x('org.apache.royale.storage.providers.LocalStorageProvider.prototype.clear',wk.prototype.clear);wk.prototype.m={names:[{name:'LocalStorageProvider',o:Ud,kind:f}],s:[Ei]};function Bj(){}x(Da,Bj);Bj.prototype.head=null;x('alternativa.physics.CollisionPrimitiveList.prototype.head',Bj.prototype.head);Bj.prototype.tail=null;x('alternativa.physics.CollisionPrimitiveList.prototype.tail',Bj.prototype.tail);Bj.prototype.size=0;x('alternativa.physics.CollisionPrimitiveList.prototype.size',Bj.prototype.size);Bj.prototype.append=function(a){a=wj.create(a);null==this.head?this.head=this.tail=a:(this.tail.next=a,a.prev=this.tail,this.tail=a);this.size++};
x('alternativa.physics.CollisionPrimitiveList.prototype.append',Bj.prototype.append);Bj.prototype.remove=function(a){a=this.findItem(a);null!=a&&(a==this.head?1==this.size?this.head=this.tail=null:(this.head=a.next,this.head.prev=null):a==this.tail?(this.tail=this.tail.prev,this.tail.next=null):(a.prev.next=a.next,a.next.prev=a.prev),a.dispose(),this.size--)};x('alternativa.physics.CollisionPrimitiveList.prototype.remove',Bj.prototype.remove);
Bj.prototype.findItem=function(a){for(var b=this.head;null!=b&&b.primitive!=a;)b=b.next;return b};x('alternativa.physics.CollisionPrimitiveList.prototype.findItem',Bj.prototype.findItem);Bj.prototype.clear=function(){for(;null!=this.head;){var a=this.head;this.head=this.head.next;a.dispose()}this.tail=null;this.size=0};Bj.prototype.m={names:[{name:'CollisionPrimitiveList',o:Da,kind:f}]};function xk(){}z(xk,ai);x(Qd,xk);xk.prototype.layout=function(){var a=this.layoutView;a.element.style['vertical-align']='top';var b=a.internalChildren();var c=b.length>>0;for(a=0;a<c;a++){var d=b[a];null!=d&&(d.royale_wrapper.displayStyleForLayout||(d.royale_wrapper.visible?(d.style.display=Nb,d.style.display='block'):d.royale_wrapper.setDisplayStyleForLayout('block')),d.royale_wrapper.dispatchEvent(qe))}return!0};x('org.apache.royale.html.beads.layouts.VerticalLayout.prototype.layout',xk.prototype.layout);
xk.prototype.m={names:[{name:'VerticalLayout',o:Qd,kind:f}],s:[Zh]};function yk(){}x(ed,yk);w=yk.prototype;w.wf=v('sg');w.kh=u('sg');w.Yf=v('ug');w.yh=u('ug');w.Nf=v('tg');w.sh=u('tg');w.Ue=v('rg');w.Ug=u('rg');Object.defineProperties(yk.prototype,{left:{get:yk.prototype.wf,set:yk.prototype.kh},top:{get:yk.prototype.Yf,set:yk.prototype.yh},right:{get:yk.prototype.Nf,set:yk.prototype.sh},bottom:{get:yk.prototype.Ue,set:yk.prototype.Ug}});yk.prototype.m={names:[{name:'EdgeData',o:ed,kind:f}]};function zk(){}z(zk,yk);x(gd,zk);zk.prototype.Se=v('yg');zk.prototype.Sg=u('yg');Object.defineProperties(zk.prototype,{auto:{get:zk.prototype.Se,set:zk.prototype.Sg}});zk.prototype.m={names:[{name:'MarginData',o:gd,kind:f}]};x('org.apache.royale.debugging.assert',t());function Ak(){}x(pc,Ak);w=Ak.prototype;w.getBorderStyles=t();w.getBorderMetrics=t();w.getPaddingMetrics=t();w.getBorderAndPaddingMetrics=t();w.getMargins=t();w.getPositions=t();w.getBorderPaddingAndMargins=t();w.m={names:[{name:'IBorderPaddingMarginValuesImpl',o:pc,kind:l}],s:[Xj]};function Ui(){this.sa=new J;this.Z=new J;this.ea=new J;this.ub=new J;this.vb=new J;this.fa=new J;this.wb=new J;this.qc=new J;this.I=new (og(va))(8,!0);this.V=new (og(va))(8,!0);for(var a=0;8>a;a++)this.I[this.I._ci(a)]=new J,this.V[this.V._ci(a)]=new J}z(Ui,qj);x(Xa,Ui);w=Ui.prototype;w.$=.001;w.sa=null;w.Z=null;w.ea=null;w.ub=null;w.vb=null;w.fa=null;w.wb=null;w.qc=null;w.Qa=0;w.mb=NaN;w.I=null;w.V=null;
w.getContact=function(a,b,c){if(!this.haveCollision(a,b))return!1;var d=A(a,ij);null==d?(d=A(b,ij),a=A(a,gj)):a=A(b,gj);if(4>this.Qa){a:{var e=d,g=a,h=this.sa,k=this.Qa,n,m=NaN;b=e.transform;var p=g.transform;var q=c.normal;if(0==k){q.x=p.c;q.y=p.g;q.z=p.k;for(n=h=k=0;3>n;n++){b.getAxis(n,this.Z);var r=this.Z.x*q.x+this.Z.y*q.y+this.Z.z*q.z;var y=0>r?-r:r;y>h&&(h=y,k=n,m=r)}m=0<m;h=1<<(k<<1);m&&(h<<=1);if(0!=(h&e.excludedFaces)){b=!1;break a}b.getAxis(k,this.Z);this.getFaceVertsByAxis(e.hs,k,m,this.I);
b.transformPointsN(this.I,this.V,4);p.transformPointsTransposedN(this.V,this.I,4);k=g.hs;e=4;g=0==(e=this.clipLowX(-k.x,e,this.I,this.V,this.$))||0==(e=this.clipHighX(k.x,e,this.V,this.I,this.$))||0==(e=this.clipLowY(-k.y,e,this.I,this.V,this.$))?0:this.clipHighY(k.y,e,this.V,this.I,this.$);for(q=c.pcount=0;q<g;q++)h=this.I[this.I._ci(q)],h.z<this.$&&(n=c.points[c.points._ci(c.pcount++)],n.penetration=-h.z,r=n.pos,r.x=p.a*h.x+p.b*h.y+p.c*h.z+p.d,r.y=p.e*h.x+p.f*h.y+p.g*h.z+p.h,r.z=p.i*h.x+p.j*h.y+
p.k*h.z+p.l,h=n.r1,h.x=r.x-b.d,h.y=r.y-b.h,h.z=r.z-b.l,h=n.r2,h.x=r.x-p.d,h.y=r.y-p.h,h.z=r.z-p.l)}else{k--;b.getAxis(k,q);m=0<q.x*h.x+q.y*h.y+q.z*h.z;h=1<<(k<<1);m&&(h<<=1);if(0!=(h&e.excludedFaces)){b=!1;break a}m||(q.x=-q.x,q.y=-q.y,q.z=-q.z);if(0>p.c*q.x+p.g*q.y+p.k*q.z){b=!1;break a}this.getFaceVertsByAxis(g.hs,2,!1,this.I);p.transformPointsN(this.I,this.V,4);b.transformPointsTransposedN(this.V,this.I,4);b:{g=e.hs;q=4;switch(k){case 0:if(0==(q=this.clipLowZ(-g.z,q,this.I,this.V,this.$)))break;
if(0==(q=this.clipHighZ(g.z,q,this.V,this.I,this.$)))break;if(0==(q=this.clipLowY(-g.y,q,this.I,this.V,this.$)))break;g=this.clipHighY(g.y,q,this.V,this.I,this.$);break b;case 1:if(0==(q=this.clipLowZ(-g.z,q,this.I,this.V,this.$)))break;if(0==(q=this.clipHighZ(g.z,q,this.V,this.I,this.$)))break;if(0==(q=this.clipLowX(-g.x,q,this.I,this.V,this.$)))break;g=this.clipHighX(g.x,q,this.V,this.I,this.$);break b;case 2:if(0!=(q=this.clipLowX(-g.x,q,this.I,this.V,this.$))&&0!=(q=this.clipHighX(g.x,q,this.V,
this.I,this.$))&&0!=(q=this.clipLowY(-g.y,q,this.I,this.V,this.$))){g=this.clipHighY(g.y,q,this.V,this.I,this.$);break b}}g=0}for(q=c.pcount=0;q<g;q++){h=this.I[this.I._ci(q)];b:{n=e.hs;switch(k){case 0:n=m?h.x+n.x:n.x-h.x;break b;case 1:n=m?h.y+n.y:n.y-h.y;break b;case 2:n=m?h.z+n.z:n.z-h.z;break b}n=0}(r=n)>-this.$&&(n=c.points[c.points._ci(c.pcount++)],n.penetration=r,r=n.pos,r.x=b.a*h.x+b.b*h.y+b.c*h.z+b.d,r.y=b.e*h.x+b.f*h.y+b.g*h.z+b.h,r.z=b.i*h.x+b.j*h.y+b.k*h.z+b.l,h=n.r1,h.x=r.x-b.d,h.y=
r.y-b.h,h.z=r.z-b.l,h=n.r2,h.x=r.x-p.d,h.y=r.y-p.h,h.z=r.z-p.l)}}b=!0}if(!b)return!1}else if(this.Qa-=4,!Bk(this,d,a,this.sa,this.Qa/2>>0,this.Qa%2>>0,c))return!1;c.body1=d.body;c.body2=a.body;.99999<a.transform.k&&(c.normal.x=0,c.normal.y=0,c.normal.z=1);return!0};x('alternativa.physics.collision.colliders.BoxRectCollider.prototype.getContact',Ui.prototype.getContact);
Ui.prototype.haveCollision=function(a,b){this.mb=1E10;var c=A(a,ij);null==c?(c=A(b,ij),a=A(a,gj)):a=A(b,gj);b=c.transform;var d=a.transform;this.sa.x=b.d-d.d;this.sa.y=b.h-d.h;this.sa.z=b.l-d.l;d.getAxis(2,this.qc);if(!Ck(this,c,a,this.qc,0,this.sa))return!1;b.getAxis(0,this.ea);if(!Ck(this,c,a,this.ea,1,this.sa))return!1;b.getAxis(1,this.ub);if(!Ck(this,c,a,this.ub,2,this.sa))return!1;b.getAxis(2,this.vb);if(!Ck(this,c,a,this.vb,3,this.sa))return!1;d.getAxis(0,this.fa);d.getAxis(1,this.wb);return Dk(this,
c,a,this.ea,this.fa,4,this.sa)&&Dk(this,c,a,this.ea,this.wb,5,this.sa)&&Dk(this,c,a,this.ub,this.fa,6,this.sa)&&Dk(this,c,a,this.ub,this.wb,7,this.sa)&&Dk(this,c,a,this.vb,this.fa,8,this.sa)&&Dk(this,c,a,this.vb,this.wb,9,this.sa)?!0:!1};x('alternativa.physics.collision.colliders.BoxRectCollider.prototype.haveCollision',Ui.prototype.haveCollision);
function Bk(a,b,c,d,e,g,h){var k=b.transform,n=c.transform;k.getAxis(e,a.ea);n.getAxis(g,a.fa);var m=h.normal;m.x=a.ea.y*a.fa.z-a.ea.z*a.fa.y;m.y=a.ea.z*a.fa.x-a.ea.x*a.fa.z;m.z=a.ea.x*a.fa.y-a.ea.y*a.fa.x;var p=1/Math.sqrt(m.x*m.x+m.y*m.y+m.z*m.z);m.x*=p;m.y*=p;m.z*=p;0>m.x*d.x+m.y*d.y+m.z*d.z&&(m.x=-m.x,m.y=-m.y,m.z=-m.z);var q=b.hs.x,r=b.hs.y,y=b.hs.z;d=c.hs.x;var Q=c.hs.y;c=c.hs.z;if(0==e)q=0;else if(0<k.a*m.x+k.e*m.y+k.i*m.z){if(q=-q,0!=(b.excludedFaces&2))return!1}else if(0!=(b.excludedFaces&
1))return!1;0==g?d=0:0>n.a*m.x+n.e*m.y+n.i*m.z&&(d=-d);if(1==e)r=0;else if(0<k.b*m.x+k.f*m.y+k.j*m.z){if(r=-r,0!=(b.excludedFaces&8))return!1}else if(0!=(b.excludedFaces&4))return!1;1==g?Q=0:0>n.b*m.x+n.f*m.y+n.j*m.z&&(Q=-Q);if(2==e)y=0;else if(0<k.c*m.x+k.g*m.y+k.k*m.z){if(y=-y,0!=(b.excludedFaces&32))return!1}else if(0!=(b.excludedFaces&16))return!1;b=k.a*q+k.b*r+k.c*y+k.d;e=k.e*q+k.f*r+k.g*y+k.h;g=k.i*q+k.j*r+k.k*y+k.l;q=d;r=Q;y=c;d=n.a*q+n.b*r+n.c*y+n.d;Q=n.e*q+n.f*r+n.g*y+n.h;c=n.i*q+n.j*r+n.k*
y+n.l;p=a.ea.x*a.fa.x+a.ea.y*a.fa.y+a.ea.z*a.fa.z;m=p*p-1;q=d-b;r=Q-e;y=c-g;var ba=a.ea.x*q+a.ea.y*r+a.ea.z*y;r=a.fa.x*q+a.fa.y*r+a.fa.z*y;q=(r*p-ba)/m;p=(r-ba*p)/m;h.pcount=1;h=h.points[0];h.penetration=a.mb;r=h.pos;r.x=.5*(b+a.ea.x*q+d+a.fa.x*p);r.y=.5*(e+a.ea.y*q+Q+a.fa.y*p);r.z=.5*(g+a.ea.z*q+c+a.fa.z*p);a=h.r1;a.x=r.x-k.d;a.y=r.y-k.h;a.z=r.z-k.l;a=h.r2;a.x=r.x-n.d;a.y=r.y-n.h;a.z=r.z-n.l;return!0}
function Ck(a,b,c,d,e,g){b=a.overlapOnAxis(b,c,d,g);if(b<-a.$)return!1;b+a.$<a.mb&&(a.mb=b,a.Qa=e);return!0}function Dk(a,b,c,d,e,g,h){a.Z.x=d.y*e.z-d.z*e.y;a.Z.y=d.z*e.x-d.x*e.z;a.Z.z=d.x*e.y-d.y*e.x;d=a.Z.x*a.Z.x+a.Z.y*a.Z.y+a.Z.z*a.Z.z;if(1E-4>d)return!0;d=1/Math.sqrt(d);a.Z.x*=d;a.Z.y*=d;a.Z.z*=d;b=a.overlapOnAxis(b,c,a.Z,h);if(b<-a.$)return!1;b+a.$<a.mb&&(a.mb=b,a.Qa=g);return!0}
Ui.prototype.overlapOnAxis=function(a,b,c,d){var e=a.transform,g=(e.a*c.x+e.e*c.y+e.i*c.z)*a.hs.x;0>g&&(g=-g);var h=g;g=(e.b*c.x+e.f*c.y+e.j*c.z)*a.hs.y;0>g&&(g=-g);h+=g;g=(e.c*c.x+e.g*c.y+e.k*c.z)*a.hs.z;0>g&&(g=-g);h+=g;e=b.transform;g=(e.a*c.x+e.e*c.y+e.i*c.z)*b.hs.x;0>g&&(g=-g);h+=g;g=(e.b*c.x+e.f*c.y+e.j*c.z)*b.hs.y;0>g&&(g=-g);h+=g;g=d.x*c.x+d.y*c.y+d.z*c.z;0>g&&(g=-g);return h-g};x('alternativa.physics.collision.colliders.BoxRectCollider.prototype.overlapOnAxis',Ui.prototype.overlapOnAxis);
Ui.prototype.m={names:[{name:'BoxRectCollider',o:Xa,kind:f}]};function Ek(a,b){nh.call(this);this.delay=a;this.repeatCount='undefined'!==typeof b?b:0}z(Ek,nh);x(ce,Ek);Ek.TIMER='timer';x('org.apache.royale.utils.Timer.TIMER',Ek.TIMER);Ek.prototype.repeatCount=0;x('org.apache.royale.utils.Timer.prototype.repeatCount',Ek.prototype.repeatCount);w=Ek.prototype;w.jd=0;w.gb=-1;w.reset=function(){this.stop();this.jd=0};w.stop=function(){-1!=this.gb&&(clearInterval(this.gb),this.gb=-1)};
w.start=function(){-1==this.gb&&(this.gb=setInterval(D(this.Ng,this,'org_apache_royale_utils_Timer_timerHandler'),this.delay)>>0)};w.Ng=function(){if(-1!=this.gb){this.jd++;if(0<this.repeatCount&&this.currentCount>=this.repeatCount){this.stop();var a=!0}this.dispatchEvent(this.timerEvent(Ek.TIMER));a&&this.repeatsFinished()}};w.timerEvent=function(a){return new G(a)};w.repeatsFinished=t();w.Pf=function(){return-1!=this.gb};w.bf=v('jd');
Object.defineProperties(Ek.prototype,{running:{get:Ek.prototype.Pf},currentCount:{get:Ek.prototype.bf}});Ek.prototype.m={names:[{name:'Timer',o:ce,kind:f}]};function Fk(){}x(wd,Fk);Fk.convert=function(a,b){b='undefined'!==typeof b?b:null;var c=new Y(a.type,a.bubbles,a.cancelable);b||(b=new Mf(a,a.currentTarget));c.wrapEvent(b);return c};x('org.apache.royale.events.utils.MouseEventConverter.convert',Fk.convert);Fk.pointerEventFilter=function(a,b){return a.type==vb?Fk.convert(a,'undefined'!==typeof b?b:null):null};x('org.apache.royale.events.utils.MouseEventConverter.pointerEventFilter',Fk.pointerEventFilter);
Fk.prototype.m={names:[{name:'MouseEventConverter',o:wd,kind:f}]};function Y(a,b,c,d,e,g,h,k,n,m,p,q,r,y){d='undefined'!==typeof d?d:NaN;e='undefined'!==typeof e?e:NaN;g='undefined'!==typeof g?g:null;h='undefined'!==typeof h?h:!1;k='undefined'!==typeof k?k:!1;n='undefined'!==typeof n?n:!1;m='undefined'!==typeof m?m:!1;p='undefined'!==typeof p?p:0;q='undefined'!==typeof q?q:!1;y='undefined'!==typeof y?y:0;G.call(this,a,'undefined'!==typeof b?b:!1,'undefined'!==typeof c?c:!1);this.localX=d;this.localY=e;this.relatedObject=g;this.ctrlKey=h;this.altKey=k;this.shiftKey=
n;this.buttonDown=m;this.delta=p;this.metaKey=q;this.clickCount=y}var Gk;z(Y,G);x(qd,Y);Y.CLICK=vb;x('org.apache.royale.events.MouseEvent.CLICK',Y.CLICK);Y.DOUBLE_CLICK='dblclick';x('org.apache.royale.events.MouseEvent.DOUBLE_CLICK',Y.DOUBLE_CLICK);Y.WHEEL='wheel';x('org.apache.royale.events.MouseEvent.WHEEL',Y.WHEEL);Y.CONTEXT_MENU='contextMenu';x('org.apache.royale.events.MouseEvent.CONTEXT_MENU',Y.CONTEXT_MENU);Y.MOUSE_WHEEL='mouseWheel';x('org.apache.royale.events.MouseEvent.MOUSE_WHEEL',Y.MOUSE_WHEEL);
Y.prototype.wrapEvent=function(a){this.v=a;this.nativeEvent=a.getBrowserEvent();this.eb=this.gc=-1};x('org.apache.royale.events.MouseEvent.prototype.wrapEvent',Y.prototype.wrapEvent);w=Y.prototype;w.eb=-1;w.gc=-1;w.se=0;w.te=0;w.ue=0;w.clickCount=0;x('org.apache.royale.events.MouseEvent.prototype.clickCount',Y.prototype.clickCount);Y.prototype.preventDefault=function(){this.v?this.v.preventDefault():(Y.M.preventDefault.apply(this),this.re=!0)};
x('org.apache.royale.events.MouseEvent.prototype.preventDefault',Y.prototype.preventDefault);var Hk=[];function Ik(a,b){return Y.createMouseEvent(a,!1,!1,{view:b.view,detail:b.detail,screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey,metaKey:b.metaKey,button:b.button,relatedTarget:b.relatedTarget})}
Y.prototype.cloneEvent=function(){return new Y(this.type,this.bubbles,this.cancelable,this.localX,this.localY,this.relatedObject,this.ctrlKey,this.altKey,this.shiftKey,this.buttonDown,this.delta)};x('org.apache.royale.events.MouseEvent.prototype.cloneEvent',Y.prototype.cloneEvent);Y.prototype.stopImmediatePropagation=function(){this.v&&(this.v.stopPropagation(),this.nativeEvent.stopImmediatePropagation())};x('org.apache.royale.events.MouseEvent.prototype.stopImmediatePropagation',Y.prototype.stopImmediatePropagation);
Y.prototype.stopPropagation=function(){this.v&&this.v.stopPropagation()};x('org.apache.royale.events.MouseEvent.prototype.stopPropagation',Y.prototype.stopPropagation);Y.setupConverter=function(){ph.converterMap.MouseEvent=Fk.convert;ph.converterMap.WheelEvent=Fk.convert;ph.converterMap.PointerEvent=Fk.pointerEventFilter;Gk=typeof window.MouseEvent==Db;return!0};x('org.apache.royale.events.MouseEvent.setupConverter',Y.setupConverter);
Y.createMouseEvent=function(a,b,c,d){b='undefined'!==typeof b?b:!1;c='undefined'!==typeof c?c:!1;d='undefined'!==typeof d?d:null;d||(d={});if(Gk){d.bubbles=b;d.cancelable=c;var e=new MouseEvent(a,d)}else e=document.createEvent('MouseEvent'),e.initMouseEvent(a,b,c,d.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget);return e};x('org.apache.royale.events.MouseEvent.createMouseEvent',Y.createMouseEvent);w=Y.prototype;
w.zb=function(){return!(this.v?!this.v.ctrlKey:!this.Dg)};w.pd=function(a){this.v?this.v.ctrlKey=a:this.Dg=a};w.yb=function(){return!(this.v?!this.v.altKey:!this.Cg)};w.md=function(a){this.v?this.v.altKey=a:this.Cg=a};w.Fb=function(){return!(this.v?!this.v.shiftKey:!this.Fg)};w.Bd=function(a){this.v?this.v.shiftKey=a:this.Fg=a};w.Db=function(){return!(this.v?!this.v.metaKey:!this.Eg)};w.yd=function(a){this.v?this.v.metaKey=a:this.Eg=a};
w.wc=function(){if(-1<this.eb)return 1==this.eb;var a=this.v.getBrowserEvent();return'buttons'in a?1==a.buttons:1==a.which};w.nd=function(a){this.eb=(a?1:0)>>0};w.vc=function(){return-1<this.gc?this.gc:this.nativeEvent.button>>0};w.Vg=u('gc');w.xc=function(){return-1<this.eb?this.eb:this.nativeEvent.buttons>>0};w.Wg=u('eb');w.ef=function(){return(this.nativeEvent?this.nativeEvent.deltaY:this.se)>>0};w.ah=u('se');w.ff=function(){return(this.nativeEvent?this.nativeEvent.deltaX:this.te)>>0};w.bh=u('te');
w.gf=function(){return(this.nativeEvent?this.nativeEvent.deltaY:this.ue)>>0};w.dh=u('ue');w.Gb=function(){return this.v?Vh(this.v.target):this.dd};w.Dd=u('dd');w.Ab=function(){return this.v?Vh(this.v.currentTarget):this.dd};w.qd=u('dd');w.Vf=v('target');w.yc=function(){return Number(this.v?this.v.clientX:this.ve)};w.Hc=function(){return this.v?this.v.clientX-this.v.currentTarget.getBoundingClientRect().left:this.ve};w.mh=u('ve');w.zc=function(){return Number(this.v?this.v.clientY:this.we)};
w.Ic=function(){return this.v?this.v.clientY-this.v.currentTarget.getBoundingClientRect().top:this.we};w.nh=u('we');w.Qc=function(){return this.v?Number(this.v.screenX):this.target?this.ye.x:this.localX};w.Rc=function(){return this.v?Number(this.v.screenY):this.target?this.ye.y:this.localY};w.Df=function(){this.xe||(this.xe=Jk.localToGlobal(new fk(this.localX,this.localY),this.target));return this.xe};w.Bb=function(){return!(this.v?!this.v.defaultPrevented:!this.re)};w.rd=u('re');
Object.defineProperties(Y.prototype,{ctrlKey:{get:Y.prototype.zb,set:Y.prototype.pd},altKey:{get:Y.prototype.yb,set:Y.prototype.md},shiftKey:{get:Y.prototype.Fb,set:Y.prototype.Bd},metaKey:{get:Y.prototype.Db,set:Y.prototype.yd},buttonDown:{get:Y.prototype.wc,set:Y.prototype.nd},button:{get:Y.prototype.vc,set:Y.prototype.Vg},buttons:{get:Y.prototype.xc,set:Y.prototype.Wg},delta:{get:Y.prototype.ef,set:Y.prototype.ah},deltaX:{get:Y.prototype.ff,set:Y.prototype.bh},deltaY:{get:Y.prototype.gf,set:Y.prototype.dh},
target:{get:Y.prototype.Gb,set:Y.prototype.Dd},currentTarget:{get:Y.prototype.Ab,set:Y.prototype.qd},targetBeforeBubbling:{get:Y.prototype.Vf},clientX:{get:Y.prototype.yc},localX:{get:Y.prototype.Hc,set:Y.prototype.mh},clientY:{get:Y.prototype.zc},localY:{get:Y.prototype.Ic,set:Y.prototype.nh},screenX:{get:Y.prototype.Qc},screenY:{get:Y.prototype.Rc},ye:{get:Y.prototype.Df},defaultPrevented:{get:Y.prototype.Bb,set:Y.prototype.rd}});var ak=Vb;
window.addEventListener('mouseover',function(a){var b;var c=a.target.royale_wrapper;if(null!=c){var d=Hk,e=d.indexOf(c)>>0;if(-1!=e){var g=d.slice(e+1);var h=g.length>>0;for(b=0;b<h;b++)c=Ik('rollout',a),g[b].element.dispatchEvent(c);Hk=d.slice(0,e+1)}else{var k=[c];c='parent'in c?c.parent:null;for(;c;)if(e=d.indexOf(c)>>0,-1==e){k.unshift(c);if(!('parent'in c))break;c=c.parent}else{g=d.slice(e+1);h=g.length>>0;for(b=0;b<h;b++)c=Ik('rollout',a),g[b].element.dispatchEvent(c);d=d.slice(0,e+1);break}e=
k.length>>0;for(b=0;b<e;b++)c=Ik('rollover',a),k[b].element.dispatchEvent(c);Hk=d.concat(k)}}},!1);Y.setupConverter();Y.prototype.m={names:[{name:'MouseEvent',o:qd,kind:f}],s:[oh,zi]};function Kk(){I.call(this)}z(Kk,Uj);x(Ld,Kk);w=Kk.prototype;w.createElement=function(){Kk.M.createElement.apply(this);this.typeNames='TextButton';return this.element};w.Hb=function(){return this.element.textContent};w.Pb=function(a){this.element.textContent=a;this.dispatchEvent(ue)};w.Ec=function(){return this.element.innerHTML};w.xd=function(a){this.element.innerHTML=a;this.dispatchEvent(ue)};
Object.defineProperties(Kk.prototype,{text:{get:Kk.prototype.Hb,set:Kk.prototype.Pb},html:{get:Kk.prototype.Ec,set:Kk.prototype.xd}});Kk.prototype.m={names:[{name:'TextButton',o:Ld,kind:f}]};function ui(){}x($d,ui);
ui.generateMXMLObject=function(a,b){var c,d=0,e=new b[d++];if(B(e,lh))Lk(a,null,e,b,d);else{var g;var h=b[d++]>>0;for(c=0;c<h;c++){var k=C(b[d++]);var n=b[d++];var m=b[d++];null==n?m=ui.generateMXMLArray(a,null,m):0==n&&(m=ui.generateMXMLObject(a,m));k==Kb&&(g=m);if('document'!=k||e.document)if(k==ra)g=m;else if(k==Kb)try{e.id=m}catch(p){}else e[k]=m;else e.document=a}h=b[d++]>>0;for(c=0;c<h;c++)k=C(b[d++]),n=b[d++],m=b[d++],null==n?m=ui.generateMXMLArray(a,null,m):0==n&&(m=ui.generateMXMLObject(a,
m)),e.Pg(k,m);h=b[d++]>>0;for(c=0;c<h;c++)k=C(b[d++]),m=b[d++],e.addEventListener(k,Oe(A(m,Function),a));g&&(a[g]=e);B(e,Zi)&&e.setDocument(a,g)}return e};x('org.apache.royale.utils.MXMLDataInterpreter.generateMXMLObject',ui.generateMXMLObject);ui.generateMXMLArray=function(a,b,c){for(var d=[],e=c.length>>0,g=0;g<e;){var h=new c[g++];g=Lk(a,b,h,c,g);d.push(h)}return d};x('org.apache.royale.utils.MXMLDataInterpreter.generateMXMLArray',ui.generateMXMLArray);
function Lk(a,b,c,d,e){var g,h=null;var k=d[e++]>>0;if(0<k&&'model'==d[0]){k--;var n=C(d[e++]);var m=d[e++];var p=d[e++];null==m?p=ui.generateMXMLArray(a,b,p):0==m&&(p=ui.generateMXMLObject(a,p));c[n]=p;B(p,yh)&&B(c,lh)&&c.addBead(p)}var q=e+3*(k-1)>>0;0<k&&'beads'==d[q]?k--:q=-1;for(g=0;g<k;g++)if(n=C(d[e++]),m=d[e++],p=d[e++],null==m?p=ui.generateMXMLArray(a,null,p):0==m&&(p=ui.generateMXMLObject(a,p)),n==Kb&&(h=p),'document'!=n||c.document)if(n==ra)h=p;else if(n==Kb)try{c.id=p}catch(y){}else c[n]=
p;else c.document=a;-1<q&&(n=C(d[e++]),m=d[e++],p=d[e++],null==m?p=ui.generateMXMLArray(a,null,p):0==m&&(p=ui.generateMXMLObject(a,p)),c[n]=p);k=d[e++]>>0;for(g=0;g<k;g++)n=C(d[e++]),m=d[e++],p=d[e++],null==m?p=ui.generateMXMLArray(a,null,p):0==m&&(p=ui.generateMXMLObject(a,p)),c.Pg(n,p);k=d[e++]>>0;for(g=0;g<k;g++)n=C(d[e++]),p=d[e++],c.addEventListener(n,Oe(p,a));h&&(a[h]=c);B(c,Zi)&&c.setDocument(a,h);if((d=d[e++])&&B(c,ii)){c.setMXMLDescriptor(a,d);var r=!0}b&&B(c,Ih)&&b.addElement(c,!B(b,ni));
d&&(r||B(c,ii)||ui.generateMXMLInstances(a,c,d));return e}ui.generateMXMLInstances=function(a,b,c){null!=c&&ui.generateMXMLArray(a,b,c);B(b,ni)&&b.childrenAdded()};x('org.apache.royale.utils.MXMLDataInterpreter.generateMXMLInstances',ui.generateMXMLInstances);
ui.generateMXMLProperties=function(a,b){var c;if(b){var d=0;var e=b[d++]>>0;var g=d+3*(e-1)>>0;0<e&&'beads'==b[g]?e--:g=-1;for(c=0;c<e;c++){var h=C(b[d++]);var k=b[d++];var n=b[d++];null==k?n=ui.generateMXMLArray(a,null,n):0==k&&(n=ui.generateMXMLObject(a,n));h!=ra&&(a[h]=n)}-1<g&&(h=C(b[d++]),k=b[d++],n=b[d++],null==k?n=ui.generateMXMLArray(a,null,n):0==k&&(n=ui.generateMXMLObject(a,n)),a[h]=n);e=b[d++]>>0;for(c=0;c<e;c++)h=C(b[d++]),k=b[d++],n=b[d++],null==k?n=ui.generateMXMLArray(a,null,n):0==
k&&(n=ui.generateMXMLObject(a,n)),a[h]=n;e=b[d++]>>0;for(c=0;c<e;c++)h=C(b[d++]),n=b[d++],a.addEventListener(h,Oe(n,a))}};x('org.apache.royale.utils.MXMLDataInterpreter.generateMXMLProperties',ui.generateMXMLProperties);ui.prototype.m={names:[{name:'MXMLDataInterpreter',o:$d,kind:f}]};function Z(){nh.call(this)}z(Z,nh);x(Wc,Z);Z.prototype.Mb=0;Z.prototype.foundIndex=0;Z.prototype.init=function(a){var b=a.Oe,c=this.values;this.ng=a;null==c&&(c={});if(b){a=b.length>>0;for(var d=0;d<a;){var e=b[d++]>>0;0<e&&(d+=e);e=b[d++]>>0;for(var g=b[d+e],h,k=0;k<e;k++){var n=C(b[d++]);c[n]&&(h=c[n],g.prototype=h);c[n]=new g;c[n].__index__=this.Mb++}d++}}this.values=c};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.init',Z.prototype.init);
function Mk(a){for(var b=a.indexOf('-')>>0;-1<b;)a=a.substr(0,b)+a.charAt(b+1).toUpperCase()+a.substr(b+2),b=a.indexOf('-')>>0;return a}
Z.prototype.getValue=function(a,b,c,d){c='undefined'!==typeof c?c:null;d='undefined'!==typeof d?d:null;b=Mk(b);if(B(a,Eh)){if(null!=a.style){var e=a.style[b];this.foundIndex=2*this.Mb>>0;if(e===Lb)return Nk(this,a,b,c,d);if(void 0!==e)return e}if(null!=a.id&&(e=this.values['#'+a.id],void 0!==e)){this.foundIndex=e.__index__+this.Mb>>0;e=e[b];if(e===Lb)return Nk(this,a,b,c,d);if(void 0!==e)return e}var g=a.className;var h;if(null!=g){var k=g.split(' '),n;for(n in k)g=k[n],null!=c&&(e=g+':'+c,e=this.values['.'+
e],void 0!==e&&(this.foundIndex=e.__index__>>0,e=e[b],e===Lb&&(h=Nk(this,a,b,c,d)),void 0!==e&&(h=e))),e=this.values['.'+g],void 0!==e&&(this.foundIndex=e.__index__>>0,e=e[b],e===Lb&&(h=Nk(this,a,b,c,d)),void 0!==e&&(h=e))}if(void 0!==h)return h}e=this.values['*'];if(void 0!==e&&(this.foundIndex=this.Mb,e=e[b],void 0!==e))return e;g=C(a.m.names[0].o);for(h=a;'Object'!=g;){if(null!=c&&(e=g+':'+c,e=this.values[e],void 0!==e)){this.foundIndex=0-e.__index__>>0;e=e[b];if(e===Lb)return Nk(this,a,b,c,d);
if(void 0!==e)return e}e=this.values[g];if(void 0!==e){this.foundIndex=0-e.__index__>>0;e=e[b];if(e===Lb)return Nk(this,a,b,c,d);if(void 0!==e)return e}h=h.constructor.M;if(!h||!h.m)break;g=C(h.m.names[0].o)}if(void 0!==Z.inheritingStyles[b]&&B(a,Ih)&&(a=a.parent))return this.getValue(a,b,c,d);this.foundIndex=0-this.Mb>>0;e=this.values.global;if(void 0!==e)return e[b]};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getValue',Z.prototype.getValue);
function Nk(a,b,c,d,e){d='undefined'!==typeof d?d:null;e='undefined'!==typeof e?e:null;if(B(b,Ih)){var g=b.parent;if(g)return b=a.getValue(g,c,d,e),b===Lb||void 0===b?Nk(a,g,c,d,e):b}else return Lb}Z.prototype.setValue=function(a,b,c){b=Mk(b);a=this.values[b];a!==c&&(this.values[b]=c,this.dispatchEvent(new ri(ri.VALUE_CHANGE,!1,!1,a,c)))};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.setValue',Z.prototype.setValue);
Z.prototype.newInstance=function(a,b,c,d){return(a=this.getValue(a,b,'undefined'!==typeof c?c:null,'undefined'!==typeof d?d:null))?new a:null};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.newInstance',Z.prototype.newInstance);Z.prototype.getInstance=function(a){var b=this.values.global;b=b[a];var c=null;typeof b==Db&&(c=b);c&&(b[a]=new c,(a=b[a])&&a.setDocument(this.ng));return b};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getInstance',Z.prototype.getInstance);
Z.prototype.convertColor=function(a){return H.toColor(a)};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.convertColor',Z.prototype.convertColor);
Z.prototype.parseStyles=function(a){var b={};a=a.split(';');for(var c in a){var d=a[c];if(''!=d&&null!=d){d=d.split(':');var e=d.length>>0;for(var g=0;g<e;g++)d[g]=C(d[g]).trim();e=d}else e=[];2>e.length||(d=C(e[0]),d=Mk(d),e=C(e[1]),'null'==e?b[d]=null:'true'==e?b[d]=!0:'false'==e?b[d]=!1:(g=Number(e),isNaN(g)?('#'!=e.charAt(0)&&0!=e.indexOf('rgb')&&("'"==e.charAt(0)?e=e.substr(1,e.length-2):'"'==e.charAt(0)&&(e=e.substr(1,e.length-2))),b[d]=e):b[d]=g))}return b};
x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.parseStyles',Z.prototype.parseStyles);Z.prototype.addRule=function(a,b){var c={};for(e in b){var d=b[e];var e=Mk(e);c[e]=d}this.values[a]=c;this.$c||(b=document.createElement('style'),document.head.appendChild(b),this.$c=b.sheet);a+=' {';for(var g in this.values)b=this.values[g],typeof b!=Db&&(a+=g+': ',typeof b==Zb?b=this.processNumberStyle(g,b):g==pb&&0!=g.indexOf('url')&&(b='url('+b+')'),a+=b+';');this.$c.insertRule(a+'}',this.$c.cssRules.length)};
x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.addRule',Z.prototype.addRule);Z.prototype.processNumberStyle=function(a,b){return this.colorStyles[a]?H.attributeFromColor(b>>>0):b+le};Z.inheritingStyles={color:1,fontFamily:1,fontSize:1,fontStyle:1,textAlign:1};var Ok={backgroundColor:1,backgroundImage:1,color:1,fontFamily:1,fontWeight:1,fontSize:1,fontStyle:1},Pk={background:1,backgroundColor:1,borderColor:1,color:1},Qk={constructor:1};
Z.prototype.applyStyles=function(a,b){var c=this.skipStyles,d=b;b&&b.Eh&&(d=b.Eh);for(var e in d)c[e]||(d=b[e],void 0!==d&&(typeof d==Zb?d=this.processNumberStyle(e,d):e==pb&&0!=d.indexOf('url')&&(d='url('+d+')'),a.element.style[e]=d))};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.applyStyles',Z.prototype.applyStyles);
Z.prototype.getBorderStyles=function(a,b){b='undefined'!==typeof b?b:null;var c=new nj;if(!this.F){this.F=getComputedStyle(a.element,b);var d=!0}c.style=C(this.F['border-style']);c.width=H.toNumber(C(this.F['border-width']));c.color=H.toColor(this.F['border-color']);d&&(this.F=null);return c};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getBorderStyles',Z.prototype.getBorderStyles);
Z.prototype.getBorderMetrics=function(a,b){b='undefined'!==typeof b?b:null;var c=new yk;if(!this.F){this.F=getComputedStyle(a.element,b);var d=!0}c.left=H.toNumber(C(this.F['border-left-width']));c.right=H.toNumber(C(this.F['border-right-width']));c.top=H.toNumber(C(this.F['border-top-width']));c.bottom=H.toNumber(C(this.F['border-bottom-width']));d&&(this.F=null);return c};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getBorderMetrics',Z.prototype.getBorderMetrics);
Z.prototype.getPaddingMetrics=function(a,b,c,d){d='undefined'!==typeof d?d:null;b=new yk;if(!this.F){this.F=getComputedStyle(a.element,d);var e=!0}b.left=H.toNumber(C(this.F['padding-left']));b.right=H.toNumber(C(this.F['padding-right']));b.top=H.toNumber(C(this.F['padding-top']));b.bottom=H.toNumber(C(this.F['padding-bottom']));e&&(this.F=null);return b};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getPaddingMetrics',Z.prototype.getPaddingMetrics);
Z.prototype.getBorderAndPaddingMetrics=function(a,b,c,d){d='undefined'!==typeof d?d:null;if(!this.F){this.F=getComputedStyle(a.element,d);var e=!0}b=this.getBorderMetrics(a);a=this.getPaddingMetrics(a);b.left+=a.left;b.top+=a.top;b.right+=a.right;b.bottom+=a.bottom;e&&(this.F=null);return b};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getBorderAndPaddingMetrics',Z.prototype.getBorderAndPaddingMetrics);
Z.prototype.getMargins=function(a,b,c,d){d='undefined'!==typeof d?d:null;b=new zk;if(!this.F){this.F=getComputedStyle(a.element,d);var e=!0}a=this.F['margin-left'];d=this.F['margin-right'];c=this.F['margin-top'];var g=this.F['margin-bottom'];b.left=a==ob?0:H.toNumber(a);b.right=c==ob?0:H.toNumber(c);b.top=d==ob?0:H.toNumber(d);b.bottom=g==ob?0:H.toNumber(g);e&&(this.F=null);b.auto=a==ob&&c==ob;return b};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getMargins',Z.prototype.getMargins);
Z.prototype.getPositions=function(a,b,c,d){b=new yk;a=getComputedStyle(a.element,'undefined'!==typeof d?d:null);b.left=H.toNumber(a.left);b.right=H.toNumber(a.right);b.top=H.toNumber(a.top);b.bottom=H.toNumber(a.bottom);return b};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getPositions',Z.prototype.getPositions);
Z.prototype.getBorderPaddingAndMargins=function(a,b,c,d){b='undefined'!==typeof b?b:NaN;c='undefined'!==typeof c?c:NaN;d='undefined'!==typeof d?d:null;this.F=getComputedStyle(a.element,d);var e=new Fj;e.border=this.getBorderMetrics(a,d);e.padding=this.getPaddingMetrics(a,b,c,d);e.margins=this.getMargins(a,b,c,d);this.F=null;return e};x('org.apache.royale.core.SimpleCSSValuesImpl.prototype.getBorderPaddingAndMargins',Z.prototype.getBorderPaddingAndMargins);Z.prototype.Hf=function(){return Ok};
Z.prototype.Ze=function(){return Pk};Z.prototype.Rf=function(){return Qk};Object.defineProperties(Z.prototype,{perInstanceStyles:{get:Z.prototype.Hf},colorStyles:{get:Z.prototype.Ze},skipStyles:{get:Z.prototype.Rf}});Z.prototype.m={names:[{name:'SimpleCSSValuesImpl',o:Wc,kind:f}],s:[Ak,tk]};function Qj(){}x(Ja,Qj);Qj.prototype.indices=null;x('alternativa.physics.collision.CollisionKdNode.prototype.indices',Qj.prototype.indices);Qj.prototype.splitIndices=null;x('alternativa.physics.collision.CollisionKdNode.prototype.splitIndices',Qj.prototype.splitIndices);Qj.prototype.boundBox=null;x('alternativa.physics.collision.CollisionKdNode.prototype.boundBox',Qj.prototype.boundBox);Qj.prototype.parent=null;x('alternativa.physics.collision.CollisionKdNode.prototype.parent',Qj.prototype.parent);
Qj.prototype.splitTree=null;x('alternativa.physics.collision.CollisionKdNode.prototype.splitTree',Qj.prototype.splitTree);Qj.prototype.axis=-1;x('alternativa.physics.collision.CollisionKdNode.prototype.axis',Qj.prototype.axis);Qj.prototype.coord=NaN;x('alternativa.physics.collision.CollisionKdNode.prototype.coord',Qj.prototype.coord);Qj.prototype.positiveNode=null;x('alternativa.physics.collision.CollisionKdNode.prototype.positiveNode',Qj.prototype.positiveNode);Qj.prototype.negativeNode=null;
x('alternativa.physics.collision.CollisionKdNode.prototype.negativeNode',Qj.prototype.negativeNode);Qj.prototype.m={names:[{name:'CollisionKdNode',o:Ja,kind:f}]};function O(){this.staticBoundBoxes=new (og(eb))}x(Ka,O);O.prototype.threshold=.1;x('alternativa.physics.collision.CollisionKdTree.prototype.threshold',O.prototype.threshold);O.prototype.minPrimitivesPerNode=1;x('alternativa.physics.collision.CollisionKdTree.prototype.minPrimitivesPerNode',O.prototype.minPrimitivesPerNode);O.prototype.rootNode=null;x('alternativa.physics.collision.CollisionKdTree.prototype.rootNode',O.prototype.rootNode);O.prototype.staticChildren=null;
x('alternativa.physics.collision.CollisionKdTree.prototype.staticChildren',O.prototype.staticChildren);O.prototype.numStaticChildren=0;x('alternativa.physics.collision.CollisionKdTree.prototype.numStaticChildren',O.prototype.numStaticChildren);O.prototype.staticBoundBoxes=null;x('alternativa.physics.collision.CollisionKdTree.prototype.staticBoundBoxes',O.prototype.staticBoundBoxes);O.prototype.kb=0;O.prototype.Za=NaN;O.prototype.pc=NaN;
Object.defineProperties(O,{C:{get:function(){var a=new Mi;Object.defineProperties(O,{C:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(O,{ga:{get:function(){var a=new (og(ma));Object.defineProperties(O,{ga:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(O,{ha:{get:function(){var a=new (og(ma));Object.defineProperties(O,{ha:{value:a,writable:!1}});return a},configurable:!0}});
Object.defineProperties(O,{ia:{get:function(){var a=new (og(ma));Object.defineProperties(O,{ia:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(O,{H:{get:function(){var a=new (og(ma))(6);Object.defineProperties(O,{H:{value:a,writable:!1}});return a},configurable:!0}});Object.defineProperties(O,{B:{get:function(){var a=new (og(ma))(6);Object.defineProperties(O,{B:{value:a,writable:!1}});return a},configurable:!0}});
O.prototype.createTree=function(a,b){b='undefined'!==typeof b?b:null;this.staticChildren=a.concat();this.numStaticChildren=this.staticChildren.length>>0;this.rootNode=new Qj;this.rootNode.indices=new (og(Ob));a=this.rootNode.boundBox=null!=b?b:new Mi;for(b=0;b<this.numStaticChildren;++b){var c=this.staticChildren[b];c=this.staticBoundBoxes[this.staticBoundBoxes._ci(b)]=c.calculateAABB();a.addBoundBox(c);this.rootNode.indices[this.rootNode.indices._ci(b)]=b}this.staticBoundBoxes._s.length=this.numStaticChildren>>>
0;Rk(this,this.rootNode);O.ga._s.length=O.ha._s.length=O.ia._s.length=0};x('alternativa.physics.collision.CollisionKdTree.prototype.createTree',O.prototype.createTree);
function Rk(a,b){var c,d=b.indices,e=d.length>>0;if(!(e<=a.minPrimitivesPerNode)){var g=b.boundBox;O.C.minX=g.minX+a.threshold;O.C.minY=g.minY+a.threshold;O.C.minZ=g.minZ+a.threshold;O.C.maxX=g.maxX-a.threshold;O.C.maxY=g.maxY-a.threshold;O.C.maxZ=g.maxZ-a.threshold;var h=2*a.threshold,k=0,n=0,m=0;for(c=0;c<e;++c){var p=a.staticBoundBoxes[d[c]];p.maxX-p.minX<=h?p.minX<=O.C.minX?O.ga[O.ga._ci(k++)]=g.minX:p.maxX>=O.C.maxX?O.ga[O.ga._ci(k++)]=g.maxX:O.ga[O.ga._ci(k++)]=.5*(p.minX+p.maxX):(p.minX>O.C.minX&&
(O.ga[O.ga._ci(k++)]=p.minX),p.maxX<O.C.maxX&&(O.ga[O.ga._ci(k++)]=p.maxX));p.maxY-p.minY<=h?p.minY<=O.C.minY?O.ha[O.ha._ci(n++)]=g.minY:p.maxY>=O.C.maxY?O.ha[O.ha._ci(n++)]=g.maxY:O.ha[O.ha._ci(n++)]=.5*(p.minY+p.maxY):(p.minY>O.C.minY&&(O.ha[O.ha._ci(n++)]=p.minY),p.maxY<O.C.maxY&&(O.ha[O.ha._ci(n++)]=p.maxY));p.maxZ-p.minZ<=h?p.minZ<=O.C.minZ?O.ia[O.ia._ci(m++)]=g.minZ:p.maxZ>=O.C.maxZ?O.ia[O.ia._ci(m++)]=g.maxZ:O.ia[O.ia._ci(m++)]=.5*(p.minZ+p.maxZ):(p.minZ>O.C.minZ&&(O.ia[O.ia._ci(m++)]=p.minZ),
p.maxZ<O.C.maxZ&&(O.ia[O.ia._ci(m++)]=p.maxZ))}a.kb=-1;a.pc=1E308;O.H[O.H._ci(0)]=g.minX;O.H[O.H._ci(1)]=g.minY;O.H[O.H._ci(2)]=g.minZ;O.H[O.H._ci(3)]=g.maxX;O.H[O.H._ci(4)]=g.maxY;O.H[O.H._ci(5)]=g.maxZ;Sk(a,b,0,k,O.ga);Sk(a,b,1,n,O.ha);Sk(a,b,2,m,O.ia);if(!(0>a.kb)){h=0==a.kb;k=1==a.kb;b.axis=a.kb;b.coord=a.Za;b.negativeNode=new Qj;b.negativeNode.parent=b;b.negativeNode.boundBox=g.clone();b.positiveNode=new Qj;b.positiveNode.parent=b;b.positiveNode.boundBox=g.clone();h?b.negativeNode.boundBox.maxX=
b.positiveNode.boundBox.minX=a.Za:k?b.negativeNode.boundBox.maxY=b.positiveNode.boundBox.minY=a.Za:b.negativeNode.boundBox.maxZ=b.positiveNode.boundBox.minZ=a.Za;g=a.Za-a.threshold;n=a.Za+a.threshold;for(c=0;c<e;++c)p=a.staticBoundBoxes[a.staticBoundBoxes._ci(d[c])],m=h?p.minX:k?p.minY:p.minZ,(h?p.maxX:k?p.maxY:p.maxZ)<=n?(m<g?(null==b.negativeNode.indices&&(b.negativeNode.indices=new (og(Ob))),b.negativeNode.indices.push(d[c])):(null==b.splitIndices&&(b.splitIndices=new (og(Ob))),b.splitIndices.push(d[c])),
d[d._ci(c)]=-1):m>=g&&(null==b.positiveNode.indices&&(b.positiveNode.indices=new (og(Ob))),b.positiveNode.indices.push(d[c]),d[d._ci(c)]=-1);for(p=c=0;c<e;++c)0<=d[c]&&(d[d._ci(p++)]=d[d._ci(c)]);0<p?d._s.length=p>>>0:b.indices=null;null!=b.splitIndices&&(b.splitTree=new V(a,b),b.splitTree.createTree());null!=b.negativeNode.indices&&Rk(a,b.negativeNode);null!=b.positiveNode.indices&&Rk(a,b.positiveNode)}}}
function Sk(a,b,c,d,e){var g=O.H,h=(c+1)%3>>0,k=(c+2)%3>>0;h=(g[h+3]-g[h])*(g[k+3]-g[k]);for(k=0;k<d;++k){var n=e[k];if(!isNaN(n)){for(var m=n-a.threshold,p=n+a.threshold,q=h*(n-g[c]),r=h*(g[c+3>>0]-n),y=0,Q=0,ba=!1,Ga=b.indices.length>>0,ya=0;ya<Ga;ya++){var Ca=a.staticBoundBoxes[b.indices[ya]];O.B[O.B._ci(0)]=Ca.minX;O.B[O.B._ci(1)]=Ca.minY;O.B[O.B._ci(2)]=Ca.minZ;O.B[O.B._ci(3)]=Ca.maxX;O.B[O.B._ci(4)]=Ca.maxY;O.B[O.B._ci(5)]=Ca.maxZ;if(O.B[c+3]<=p)O.B[c]<m&&y++;else if(O.B[c]>=m)Q++;else{ba=!0;
break}}m=q*y+r*Q;!ba&&m<a.pc&&(a.kb=c,a.pc=m,a.Za=n);for(ya=k+1>>0;ya<d;++ya)e[ya]>=n-a.threshold&&e[ya]<=n+a.threshold&&(e[e._ci(ya)]=NaN)}}}O.prototype.traceTree=function(){Tk(this,'',this.rootNode)};function Tk(a,b,c){null!=c&&(Tk(a,b+'-',c.negativeNode),Tk(a,b+'+',c.positiveNode))}O.prototype.m={names:[{name:'CollisionKdTree',o:Ka,kind:f}]};Object.keys(O);function Uk(){nh.call(this);this.element=document.getElementsByTagName('body')[0];this.element.className='Application'}z(Uk,zh);x(ac,Uk);Uk.prototype.instanceParent=null;Uk.prototype.generateMXMLAttributes=function(a){for(var b=a[0]>>0,c=a.length>>0,d=1;d<c;d+=3)if('initialView'==a[d]){var e=a.splice(d,3);a.splice(3*(b-1)+1>>0,0,e[0],e[1],e[2])}ui.generateMXMLProperties(this,a)};x('org.apache.royale.core.Application.prototype.generateMXMLAttributes',Uk.prototype.generateMXMLAttributes);
Uk.prototype.addElement=function(a){this.element.appendChild(a.positioner);a.addedToParent()};x('org.apache.royale.core.Application.prototype.addElement',Uk.prototype.addElement);Uk.prototype.addElementAt=function(a,b){var c=this.internalChildren();b>=c.length?this.addElement(a):(this.element.insertBefore(a.positioner,c[b]),a.addedToParent())};x('org.apache.royale.core.Application.prototype.addElementAt',Uk.prototype.addElementAt);Uk.prototype.getElementAt=function(a){return this.internalChildren()[a].royale_wrapper};
x('org.apache.royale.core.Application.prototype.getElementAt',Uk.prototype.getElementAt);Uk.prototype.getElementIndex=function(a){for(var b=this.internalChildren(),c=b.length>>0,d=0;d<c;d++)if(b[d]==a.positioner)return d;return-1};x('org.apache.royale.core.Application.prototype.getElementIndex',Uk.prototype.getElementIndex);Uk.prototype.removeElement=function(a){this.element.removeChild(a.positioner)};x('org.apache.royale.core.Application.prototype.removeElement',Uk.prototype.removeElement);w=Uk.prototype;
w.internalChildren=function(){return this.element.childNodes};w.start=function(){B(this.model,yh)&&this.addBead(this.model);B(this.controller,yh)&&this.addBead(this.controller);for(var a in this.beads)this.addBead(this.beads[a]);this.dispatchEvent('beadsAdded');pi(this,new G('preinitialize',!1,!0))?this.initialize():(this.startupTimer=new Ek(34,0),this.startupTimer.addEventListener('timer',D(this.handleStartupTimer,this,'handleStartupTimer')),this.startupTimer.start())};
w.handleStartupTimer=function(){pi(this,new G('preinitialize',!1,!0))&&(this.startupTimer.stop(),this.initialize())};
w.initialize=function(){ui.generateMXMLInstances(this,this.instanceParent,this.MXMLDescriptor);this.dispatchEvent('initialize');if(this.initialView){this.initialView.applicationModel=this.model;this.addElement(this.initialView);var a=this.initialView;isNaN(a.percentWidth)&&isNaN(a.percentHeight)||(a=this.element.style,a.height=window.innerHeight.toString()+le,a.width=window.innerWidth.toString()+le,this.initialView.dispatchEvent(qe));this.dispatchEvent(ve)}this.dispatchEvent(ib)};
w.Ah=function(a){Oh.valuesImpl=a;Oh.valuesImpl.init(this)};w.rf=v('jg');w.ih=u('jg');w.Eb=v('kg');w.Ob=u('kg');w.af=v('ig');w.Zg=u('ig');w.Oc=function(){return this};w.pb=xe(null);w.Kc=function(){return this.internalChildren().length>>0};w.Nc=function(){return this};
Object.defineProperties(Uk.prototype,{valuesImpl:{set:Uk.prototype.Ah},initialView:{get:Uk.prototype.rf,set:Uk.prototype.ih},model:{get:Uk.prototype.Eb,set:Uk.prototype.Ob},controller:{get:Uk.prototype.af,set:Uk.prototype.Zg},popUpParent:{get:Uk.prototype.Oc},MXMLDescriptor:{get:Uk.prototype.pb},numElements:{get:Uk.prototype.Kc},popUpHost:{get:Uk.prototype.Nc}});Uk.prototype.m={names:[{name:'Application',o:ac,kind:f}],s:[lh,Mh,mh,Ah,ji,ki,Hh]};function Vk(){}x(Qa,Vk);Vk.prototype.m={names:[{name:'ICollisionPredicate',o:Qa,kind:l}]};function Wk(){}x(Lc,Wk);Wk.prototype.m={names:[{name:'IState',o:Lc,kind:l}]};function Zj(a){var b=this;this.ta={};this.aa=new THREE.Euler(0,0,0,'YXZ');this.ua=a;window.addEventListener(K.KEY_DOWN,function(a){b.ta[a.code]=!0});window.addEventListener(K.KEY_UP,function(a){delete b.ta[a.code]});window.addEventListener(Ub,function(a){b.nc=!0;b.lc=a.clientX;b.mc=a.clientY});window.addEventListener('mouseup',function(){b.nc=!1});window.addEventListener(ak,D(this.Je,this,'SimpleCameraController_onMouseMove'))}x(oa,Zj);w=Zj.prototype;w.ta=null;w.ua=void 0;w.nc=!1;w.lc=0;w.mc=0;
w.Od=.004;w.Je=function(a){if(this.nc){var b=a.clientX-this.lc,c=a.clientY-this.mc;this.lc=a.clientX;this.mc=a.clientY;this.aa.setFromQuaternion(this.ua.quaternion);this.aa.y-=b*this.Od;this.aa.x-=c*this.Od;this.aa.x=Math.max(-Xk,Math.min(Xk,this.aa.x));this.ua.quaternion.setFromEuler(this.aa)}};var Xk=Math.PI/2;Zj.prototype.aa=null;
Zj.prototype.updateCamera=function(a){var b=3E3*a;a*=2;if(this.ta.ShiftLeft||this.ta.ShiftRight)b*=2;var c=new THREE.Vector3;this.ua.getWorldDirection(c);this.ta.KeyW&&this.ua.position.add(c.clone().multiplyScalar(b));this.ta.KeyS&&this.ua.position.add(c.clone().multiplyScalar(-b));var d=c.clone();d.cross(new THREE.Vector3(0,1,0)).normalize();this.ta.KeyA&&this.ua.position.add(d.clone().multiplyScalar(-b));this.ta.KeyD&&this.ua.position.add(d.clone().multiplyScalar(b));c.clone().cross(new THREE.Vector3(0,
0,1)).normalize();this.ta.KeyQ&&(this.ua.position.y-=b);this.ta.KeyE&&(this.ua.position.y+=b);this.aa.setFromQuaternion(this.ua.quaternion);this.ta.ArrowLeft&&(this.aa.y+=a);this.ta.ArrowRight&&(this.aa.y-=a);this.ta.ArrowUp&&(this.aa.x+=a);this.ta.ArrowDown&&(this.aa.x-=a);this.aa.x=Math.max(-Xk,Math.min(Xk,this.aa.x));this.ua.quaternion.setFromEuler(this.aa)};x('SimpleCameraController.prototype.updateCamera',Zj.prototype.updateCamera);Zj.prototype.m={names:[{name:oa,o:oa,kind:f}]};Object.keys(Zj);function Jk(){}x(ae,Jk);Jk.globalToLocal=function(a,b){var c=a.x;a=a.y;if(b.getBoundingClientRect)var d=b;else b.element?d=b.element:B(b,Hh)&&(d=b.element);if(D(d.getBoundingClientRect,d,Eb))b=d.getBoundingClientRect(),c=c-b.left-window.pageXOffset,a=a-b.top-window.pageYOffset;else{do c-=d.offsetLeft,a-=d.offsetTop,d=void 0!==b.parent?(b=b.parent)?b.element:null:null;while(d)}return new fk(c,a)};x('org.apache.royale.utils.PointUtils.globalToLocal',Jk.globalToLocal);
Jk.localToGlobal=function(a,b){var c=a.x;a=a.y;if(b.getBoundingClientRect)var d=b;else b.element?d=b.element:B(b,Hh)&&(d=b.element);if(D(d.getBoundingClientRect,d,Eb))b=d.getBoundingClientRect(),c=Number(b.left+c+window.pageXOffset),a=Number(b.top+a+window.pageYOffset);else{do c+=d.offsetLeft,a+=d.offsetTop,d=d.offsetParent;while(d)}return new fk(c,a)};x('org.apache.royale.utils.PointUtils.localToGlobal',Jk.localToGlobal);Jk.prototype.m={names:[{name:'PointUtils',o:ae,kind:f}]};function pi(a,b){return a.dispatchEvent(b)};x('org.apache.royale.debugging.assertType',t());function Ej(){Uk.call(this);this.Vb=new Cj;this.generateMXMLAttributes([2,'initialView',!1,[ti,1,ra,!0,'$ID_8_3',0,0,[ek,1,ra,!0,'$ID_8_1',0,0,[Wj,1,ra,!0,'$ID_8_0',0,0,[Kk,2,Kb,!0,rb,'html',!0,'Browse map',0,1,vb,this.Kd,null,gk,2,Kb,!0,pe,te,!0,'Show CollisionKDNodes',0,1,tb,this.Ld,null,gk,2,Kb,!0,Gb,te,!0,'Gray collision textures',0,1,tb,this.Md,null],mj,2,Kb,!0,'mapIdLabel',te,!0,'',0,0,null,mj,2,Kb,!0,sb,te,!0,'',0,0,null,mj,2,Kb,!0,Sb,te,!0,'',0,0,null,mj,2,Kb,!0,ne,te,!0,'',0,0,null],Kk,3,
ra,!0,'$ID_8_2',te,!0,'GitHub','style',!0,'position:absolute; right:0px;',0,1,vb,this.Nd,null]],'valuesImpl',!1,[Z,1,ra,!0,'$ID_8_4',0,0,null],0,1,ib,this.Id])}z(Ej,Uk);x(pa,Ej);Ej.instance=null;x('TankiMapCV.instance',Ej.instance);Ej.prototype.Vb=null;
Ej.prototype.onApplicationComplete=function(){Ej.instance=this;document.title=pa;window.addEventListener(K.KEY_DOWN,D(this.Le,this,'TankiMapCV_onKeyDown'));var a=this.browseMapButton;var b=this.browseMapButton.html;b=b.substr(0,b.indexOf('o'))+'<u>o</u>'+b.substr(b.indexOf('o')+1);a.html=b;this.showKdNodesCheckbox.selected=!!this.localStorage.getItem(oe);this.grayTexturesCheckbox.selected=!!this.localStorage.getItem(Fb)};x('TankiMapCV.prototype.onApplicationComplete',Ej.prototype.onApplicationComplete);
Ej.prototype.Le=function(a){switch(a.code){case 'KeyO':this.mapBrowser.browse()}};Ej.prototype.modelChangedHandler=function(){kj.initScene();this.mapFileProxy.model.addEventListener('blobChanged',D(this.Ke,this,'TankiMapCV_blobChangedHandler'));this.mapLoader.load()};
Ej.prototype.Ke=function(){var a=null,b=A(this.mapFileProxy.model,dk);try{if(a=new E(b.blob.toString('utf-8')),'map'!=a.name())throw Error("Loaded file isn't Tanki map");}catch(g){Oj.show(g.message,this);return}for(var c=kj.scene,d=c.children.length-1>>0;0<=d;d--){var e=c.children[d];C(e.name).startsWith('collision-')&&c.remove(e)}this.mapIdLabel.text='Map file: '+b.name;a=P.parseAndAdd(a);b=new O;b.createTree(a);this.Vb.setRootNode(b.rootNode);this.Vb.visible=this.showKdNodesCheckbox.selected;Yk(this);
a=b.rootNode.boundBox;b=kj.camera;b.position.x=-a.minX;b.position.y=a.minZ+3E3;b.position.z=a.maxY;b.lookAt(new THREE.Vector3(-(a.minX+a.maxX)/2),a.minZ,(a.minY+a.maxY)/2)};function Yk(a){for(var b=a.grayTexturesCheckbox.selected,c=kj.scene,d=c.children.length-1>>0;0<=d;d--){var e=c.children[d];C(e.name).startsWith('collision-')&&(b?P.setGrayMaterial(e):P.setColorMaterial(e))}b?a.localStorage.setItem(Fb,'true'):a.localStorage.removeItem(Fb)}Ej.prototype.Id=function(a){this.onApplicationComplete(a)};
Ej.prototype.$EH_8_0=Ej.prototype.Id;Ej.prototype.Jd=function(a){this.modelChangedHandler(a)};Ej.prototype.$EH_8_1=Ej.prototype.Jd;Ej.prototype.Kd=function(){this.mapBrowser.browse()};Ej.prototype.$EH_8_2=Ej.prototype.Kd;Ej.prototype.Ld=function(){var a=this.showKdNodesCheckbox.selected;(this.Vb.visible=a)?this.localStorage.setItem(oe,'true'):this.localStorage.removeItem(oe)};Ej.prototype.$EH_8_3=Ej.prototype.Ld;Ej.prototype.Md=function(){Yk(this)};Ej.prototype.$EH_8_4=Ej.prototype.Md;
Ej.prototype.Nd=function(){window.open('https://github.com/pngdrift/TankiMapCV')};Ej.prototype.$EH_8_5=Ej.prototype.Nd;
Object.defineProperties(Ej.prototype,{mapFileProxy:{get:v('Wd'),set:function(a){a!=this.Wd&&(this.Wd=a,this.dispatchEvent(ri.createUpdateEvent(this,'mapFileProxy',null,a)))}},mapBrowser:{get:v('Vd'),set:function(a){a!=this.Vd&&(this.Vd=a,this.dispatchEvent(ri.createUpdateEvent(this,'mapBrowser',null,a)))}},mapLoader:{get:v('Yd'),set:function(a){a!=this.Yd&&(this.Yd=a,this.dispatchEvent(ri.createUpdateEvent(this,'mapLoader',null,a)))}},localStorage:{get:v('Ud'),set:function(a){a!=this.Ud&&(this.Ud=
a,this.dispatchEvent(ri.createUpdateEvent(this,Rb,null,a)))}},browseMapButton:{get:v('Qd'),set:function(a){a!=this.Qd&&(this.Qd=a,this.dispatchEvent(ri.createUpdateEvent(this,rb,null,a)))}},showKdNodesCheckbox:{get:v('Ie'),set:function(a){a!=this.Ie&&(this.Ie=a,this.dispatchEvent(ri.createUpdateEvent(this,pe,null,a)))}},grayTexturesCheckbox:{get:v('Td'),set:function(a){a!=this.Td&&(this.Td=a,this.dispatchEvent(ri.createUpdateEvent(this,Gb,null,a)))}},mapIdLabel:{get:v('Xd'),set:function(a){a!=this.Xd&&
(this.Xd=a,this.dispatchEvent(ri.createUpdateEvent(this,'mapIdLabel',null,a)))}},cameraPosLabel:{get:v('Rd'),set:function(a){a!=this.Rd&&(this.Rd=a,this.dispatchEvent(ri.createUpdateEvent(this,sb,null,a)))}},maxIndicesLabel:{get:v('Zd'),set:function(a){a!=this.Zd&&(this.Zd=a,this.dispatchEvent(ri.createUpdateEvent(this,Sb,null,a)))}},selectedNodeIndicesLabel:{get:v('He'),set:function(a){a!=this.He&&(this.He=a,this.dispatchEvent(ri.createUpdateEvent(this,ne,null,a)))}},MXMLDescriptor:{get:function(){if(void 0==
this.$d){var a=Ej.M.pb.apply(this),b=[vk,2,Kb,!0,'mapFileProxy','beads',null,[zj,2,Kb,!0,'mapBrowser','filter',!0,'.xml',0,0,null,uk,1,Kb,!0,'mapLoader',0,0,null],0,1,Tb,this.Jd,null,Di,1,Kb,!0,Rb,0,0,null];this.$d=a?a.concat(b):b}return this.$d}}});Ej.prototype.m={names:[{name:pa,o:pa,kind:f}]};Object.keys(Ej);Ej.prototype.info=function(){return{compiledLocales:['en_US']}};
Ej.prototype.Oe=[0,1,'.Application *',function(){this.boxSizing=this.WebkitBoxSizing=this.MozBoxSizing=qb},0,1,'.royale *',function(){this.boxSizing=this.WebkitBoxSizing=this.MozBoxSizing=qb},0,1,'.royale *:before',function(){this.boxSizing=this.WebkitBoxSizing=this.MozBoxSizing=qb},0,1,'.royale *:after',function(){this.boxSizing=this.WebkitBoxSizing=this.MozBoxSizing=qb},0,1,ac,function(){this.padding=this.margin=0},0,1,Hd,function(){this.borderWidth=1;this.iBeadView=Oi},0,1,Id,function(){this.iBeadLayout=
bk},0,1,Md,function(){this.iBeadLayout=xk},0,1,ad,function(){this.iBeadLayout=ci;this.iBeadView=Oi},0,1,'global',function(){this.effectTimerInterval=10},0,1,'.SimpleTextHighlighter',function(){this.border=[1,8421504,re];this.overflowY=ob;this.padding=2;this.whiteSpace='pre-wrap'},0,1,'.SimpleTextHighlighter *:focus-visible',function(){this.outline=Yb},0,1,'.HighlightTextSpan',function(){this.backgroundColor=65535;this.borderRadius=2},0,1,'.context-menu',function(){this.background=1776154;this.borderRadius=
5;this.position='fixed';this.transform='scale(0)';this.transformOrigin=['top','left'];this.width=150;this.zIndex=1E4},0,1,'.context-menu.visible',function(){this.transform='scale(1)';this.transition=['transform',200,'ease-in-out']},0,1,'.context-menu .item',function(){this.borderRadius=Lb;this.color=15658734;this.cursor='pointer';this.fontSize=12;this.padding=[8,10]},0,1,'.context-menu .item:hover',function(){this.background=3421236},0,1,xd,function(){this.iBeadModel=dk},0,1,Td,function(){this.iStorageProvider=
wk},0,1,Ed,function(){this.backgroundColor=16316664;this.border=[1,re,8421504];this.borderRadius=2;this.margin=0;this.padding=4},0,1,'org.apache.royale.html.Button:hover',function(){this.backgroundColor=15263976;this.border=[1,re,8421504];this.padding=4},0,1,'org.apache.royale.html.Button:active',function(){this.backgroundColor=14211288;this.border=[1,re,8421504];this.padding=4},0,1,Gd,function(){this.fontFamily='sans-serif';this.fontSize=12},0,1,Jd,function(){this.fontFamily='sans-serif';this.fontSize=
12},0,1,'.Application',function(){this.backgroundColor=6252920},0,1,'.TextButton',function(){this.background=null;this.border=[1,re,0];this.boxShadow=['inset 1px 1px 3px rgba(255, 255, 255, 0.2)','0 0 3px rgba(0, 0, 0, 0.5)'];this.color=16777215;this.fontFamily='Tahoma';this.fontSize=14;this.textShadow=[1,1,0,0]},0,1,'.TextButton:active',function(){this.background=null},0,1,'.CheckBox',function(){this.color=16777215;this.fontFamily='Tahoma';this.fontSize=13;this.paddingLeft=4;this.textShadow=[1,1,
4,4278190080];this.userSelect=Yb},0,1,'.Label',function(){this.color=16777215;this.fontFamily='Tahoma';this.textShadow=[1,1,4,4278190080];this.userSelect=Yb}];
//# sourceMappingURL=./TankiMapCV.js.map